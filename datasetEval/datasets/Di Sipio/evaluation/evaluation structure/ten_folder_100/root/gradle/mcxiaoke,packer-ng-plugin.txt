b'PackerNg V2\n========\n\xe6\x9e\x81\xe9\x80\x9f\xe6\xb8\xa0\xe9\x81\x93\xe6\x89\x93\xe5\x8c\x85\xe5\xb7\xa5\xe5\x85\xb7\n\n- **v2.0.1 - 2018.03.23** - \xe6\x94\xaf\xe6\x8c\x81Android Plugin 3.x\xe5\x92\x8cGradle 4.x\n- **v2.0.0 - 2017.06.23** - \xe5\x85\xa8\xe6\x96\xb0\xe5\x8f\x91\xe5\xb8\x83\xef\xbc\x8c\xe6\x94\xaf\xe6\x8c\x81V2\xe7\xad\xbe\xe5\x90\x8d\xe6\xa8\xa1\xe5\xbc\x8f\xef\xbc\x8c\xe5\x8c\x85\xe5\x90\xab\xe5\xa4\x9a\xe9\xa1\xb9\xe4\xbc\x98\xe5\x8c\x96\n\n<!-- TOC -->\n\n- [\xe7\x89\xb9\xe5\x88\xab\xe6\x8f\x90\xe7\xa4\xba](#\xe7\x89\xb9\xe5\x88\xab\xe6\x8f\x90\xe7\xa4\xba)\n- [\xe9\xa1\xb9\xe7\x9b\xae\xe4\xbb\x8b\xe7\xbb\x8d](#\xe9\xa1\xb9\xe7\x9b\xae\xe4\xbb\x8b\xe7\xbb\x8d)\n- [\xe4\xbd\xbf\xe7\x94\xa8\xe6\x8c\x87\xe5\x8d\x97](#\xe4\xbd\xbf\xe7\x94\xa8\xe6\x8c\x87\xe5\x8d\x97)\n    - [\xe4\xbf\xae\xe6\x94\xb9\xe9\xa1\xb9\xe7\x9b\xae\xe9\x85\x8d\xe7\xbd\xae](#\xe4\xbf\xae\xe6\x94\xb9\xe9\xa1\xb9\xe7\x9b\xae\xe9\x85\x8d\xe7\xbd\xae)\n    - [\xe4\xbf\xae\xe6\x94\xb9\xe6\xa8\xa1\xe5\x9d\x97\xe9\x85\x8d\xe7\xbd\xae](#\xe4\xbf\xae\xe6\x94\xb9\xe6\xa8\xa1\xe5\x9d\x97\xe9\x85\x8d\xe7\xbd\xae)\n    - [\xe6\x8f\x92\xe4\xbb\xb6\xe9\x85\x8d\xe7\xbd\xae\xe7\xa4\xba\xe4\xbe\x8b](#\xe6\x8f\x92\xe4\xbb\xb6\xe9\x85\x8d\xe7\xbd\xae\xe7\xa4\xba\xe4\xbe\x8b)\n    - [\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\xa0\xbc\xe5\xbc\x8f](#\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\xa0\xbc\xe5\xbc\x8f)\n    - [\xe9\x9b\x86\xe6\x88\x90\xe6\x89\x93\xe5\x8c\x85](#\xe9\x9b\x86\xe6\x88\x90\xe6\x89\x93\xe5\x8c\x85)\n    - [\xe8\x84\x9a\xe6\x9c\xac\xe6\x89\x93\xe5\x8c\x85](#\xe8\x84\x9a\xe6\x9c\xac\xe6\x89\x93\xe5\x8c\x85)\n    - [\xe4\xbb\xa3\xe7\xa0\x81\xe4\xb8\xad\xe8\xaf\xbb\xe5\x8f\x96\xe6\xb8\xa0\xe9\x81\x93](#\xe4\xbb\xa3\xe7\xa0\x81\xe4\xb8\xad\xe8\xaf\xbb\xe5\x8f\x96\xe6\xb8\xa0\xe9\x81\x93)\n    - [\xe6\x96\x87\xe4\xbb\xb6\xe5\x90\x8d\xe6\xa0\xbc\xe5\xbc\x8f\xe6\xa8\xa1\xe7\x89\x88](#\xe6\x96\x87\xe4\xbb\xb6\xe5\x90\x8d\xe6\xa0\xbc\xe5\xbc\x8f\xe6\xa8\xa1\xe7\x89\x88)\n- [\xe5\x85\xb6\xe5\xae\x83\xe8\xaf\xb4\xe6\x98\x8e](#\xe5\x85\xb6\xe5\xae\x83\xe8\xaf\xb4\xe6\x98\x8e)\n- [\xe5\x85\xb3\xe4\xba\x8e\xe4\xbd\x9c\xe8\x80\x85](#\xe5\x85\xb3\xe4\xba\x8e\xe4\xbd\x9c\xe8\x80\x85)\n    - [\xe8\x81\x94\xe7\xb3\xbb\xe6\x96\xb9\xe5\xbc\x8f](#\xe8\x81\x94\xe7\xb3\xbb\xe6\x96\xb9\xe5\xbc\x8f)\n    - [\xe5\xbc\x80\xe6\xba\x90\xe9\xa1\xb9\xe7\x9b\xae](#\xe5\xbc\x80\xe6\xba\x90\xe9\xa1\xb9\xe7\x9b\xae)\n- [License](#license)\n\n<!-- /TOC -->\n\n## \xe7\x89\xb9\xe5\x88\xab\xe6\x8f\x90\xe7\xa4\xba\n\nV2\xe7\x89\x88\xe5\x8f\xaa\xe6\x94\xaf\xe6\x8c\x81`APK Signature Scheme v2`\xef\xbc\x8c\xe8\xa6\x81\xe6\xb1\x82\xe5\x9c\xa8 `signingConfigs` \xe9\x87\x8c `v2SigningEnabled true` \xe5\x90\xaf\xe7\x94\xa8\xe6\x96\xb0\xe7\x89\x88\xe7\xad\xbe\xe5\x90\x8d\xe6\xa8\xa1\xe5\xbc\x8f\xef\xbc\x8c\xe5\xa6\x82\xe6\x9e\x9c\xe4\xbd\xa0\xe9\x9c\x80\xe8\xa6\x81\xe4\xbd\xbf\xe7\x94\xa8\xe6\x97\xa7\xe7\x89\x88\xe6\x9c\xac\xef\xbc\x8c\xe7\x9c\x8b\xe8\xbf\x99\xe9\x87\x8c [v1.0.9](https://github.com/mcxiaoke/packer-ng-plugin/tree/v1.0.9)\xe3\x80\x82\n\n## \xe9\xa1\xb9\xe7\x9b\xae\xe4\xbb\x8b\xe7\xbb\x8d\n\n[**packer-ng-plugin**](https://github.com/mcxiaoke/packer-ng-plugin) \xe6\x98\xaf\xe4\xb8\x8b\xe4\xb8\x80\xe4\xbb\xa3Android\xe6\xb8\xa0\xe9\x81\x93\xe6\x89\x93\xe5\x8c\x85\xe5\xb7\xa5\xe5\x85\xb7Gradle\xe6\x8f\x92\xe4\xbb\xb6\xef\xbc\x8c\xe6\x94\xaf\xe6\x8c\x81\xe6\x9e\x81\xe9\x80\x9f\xe6\x89\x93\xe5\x8c\x85\xef\xbc\x8c**100**\xe4\xb8\xaa\xe6\xb8\xa0\xe9\x81\x93\xe5\x8c\x85\xe5\x8f\xaa\xe9\x9c\x80\xe8\xa6\x81**10**\xe7\xa7\x92\xe9\x92\x9f\xef\xbc\x8c\xe9\x80\x9f\xe5\xba\xa6\xe6\x98\xaf [**gradle-packer-plugin**](https://github.com/mcxiaoke/gradle-packer-plugin) \xe7\x9a\x84**300**\xe5\x80\x8d\xe4\xbb\xa5\xe4\xb8\x8a\xef\xbc\x8c\xe5\x8f\xaf\xe6\x96\xb9\xe4\xbe\xbf\xe7\x9a\x84\xe7\x94\xa8\xe4\xba\x8eCI\xe7\xb3\xbb\xe7\xbb\x9f\xe9\x9b\x86\xe6\x88\x90\xef\xbc\x8c\xe5\x90\x8c\xe6\x97\xb6\xe6\x8f\x90\xe4\xbe\x9b\xe5\x91\xbd\xe4\xbb\xa4\xe8\xa1\x8c\xe6\x89\x93\xe5\x8c\x85\xe8\x84\x9a\xe6\x9c\xac\xef\xbc\x8c\xe6\xb8\xa0\xe9\x81\x93\xe8\xaf\xbb\xe5\x8f\x96\xe6\x8f\x90\xe4\xbe\x9bPython\xe5\x92\x8cC\xe8\xaf\xad\xe8\xa8\x80\xe7\x9a\x84\xe5\xae\x9e\xe7\x8e\xb0\xe3\x80\x82\n\n## \xe4\xbd\xbf\xe7\x94\xa8\xe6\x8c\x87\xe5\x8d\x97\n\n[`Maven Central`](http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22packer-ng%22)\n\n### \xe4\xbf\xae\xe6\x94\xb9\xe9\xa1\xb9\xe7\x9b\xae\xe9\x85\x8d\xe7\xbd\xae\n\n```groovy\n// build.gradle\nbuildscript {\n    dependencies{\n        classpath \'com.mcxiaoke.packer-ng:plugin:2.0.1\'\n    }\n}\n```\n\n### \xe4\xbf\xae\xe6\x94\xb9\xe6\xa8\xa1\xe5\x9d\x97\xe9\x85\x8d\xe7\xbd\xae\n\n```groovy\napply plugin: \'packer\'\n// build.gradle\ndependencies {\n    compile \'com.mcxiaoke.packer-ng:helper:2.0.1\'\n}\n```\n\n**\xe6\xb3\xa8\xe6\x84\x8f\xef\xbc\x9a`plugin` \xe5\x92\x8c `helper` \xe7\x9a\x84\xe7\x89\x88\xe6\x9c\xac\xe5\x8f\xb7\xe9\x9c\x80\xe8\xa6\x81\xe4\xbf\x9d\xe6\x8c\x81\xe4\xb8\x80\xe8\x87\xb4**\n\n### \xe6\x8f\x92\xe4\xbb\xb6\xe9\x85\x8d\xe7\xbd\xae\xe7\xa4\xba\xe4\xbe\x8b\n\n```groovy\npacker {\n    archiveNameFormat = \'${buildType}-v${versionName}-${channel}\'\n    archiveOutput = new File(project.rootProject.buildDir, "apks")\n//    channelList = [\'*Douban*\', \'Google/\', \'\xe4\xb8\xad\xe6\x96\x87/@#\xe5\xb8\x82\xe5\x9c\xba\', \'Hello@World\',\n//                   \'GradleTest\', \'20070601!@#$%^&*(){}:"<>?-=[];\\\',./\']\n//    channelFile = new File(project.rootDir, "markets.txt")\n    channelMap = [\n            "Cat" : project.rootProject.file("channels/cat.txt"),\n            "Dog" : project.rootProject.file("channels/dog.txt"),\n            "Fish": project.rootProject.file("channels/channels.txt")\n    ]\n}\n```\n\n* **archiveNameFormat** - \xe6\x8c\x87\xe5\xae\x9a\xe6\x9c\x80\xe7\xbb\x88\xe8\xbe\x93\xe5\x87\xba\xe7\x9a\x84\xe6\xb8\xa0\xe9\x81\x93\xe5\x8c\x85\xe6\x96\x87\xe4\xbb\xb6\xe5\x90\x8d\xe7\x9a\x84\xe6\xa0\xbc\xe5\xbc\x8f\xe6\xa8\xa1\xe7\x89\x88\xef\xbc\x8c\xe8\xaf\xa6\xe7\xbb\x86\xe8\xaf\xb4\xe6\x98\x8e\xe8\xa7\x81\xe5\x90\x8e\xe9\x9d\xa2\xef\xbc\x8c\xe9\xbb\x98\xe8\xae\xa4\xe5\x80\xbc\xe6\x98\xaf `${appPkg}-${channel}-${buildType}-v${versionName}-${versionCode}` (\xe5\x8f\xaf\xe9\x80\x89)\n* **archiveOutput** - \xe6\x8c\x87\xe5\xae\x9a\xe6\x9c\x80\xe7\xbb\x88\xe8\xbe\x93\xe5\x87\xba\xe7\x9a\x84\xe6\xb8\xa0\xe9\x81\x93\xe5\x8c\x85\xe7\x9a\x84\xe5\xad\x98\xe5\x82\xa8\xe4\xbd\x8d\xe7\xbd\xae\xef\xbc\x8c\xe9\xbb\x98\xe8\xae\xa4\xe5\x80\xbc\xe6\x98\xaf `${project.buildDir}/archives` (\xe5\x8f\xaf\xe9\x80\x89)\n* **channelList** - \xe6\x8c\x87\xe5\xae\x9a\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xef\xbc\x8cList\xe7\xb1\xbb\xe5\x9e\x8b\xef\xbc\x8c\xe8\xa7\x81\xe7\xa4\xba\xe4\xbe\x8b\n* **channelMap** - \xe6\xa0\xb9\xe6\x8d\xaeproductFlavor\xe6\x8c\x87\xe5\xae\x9a\xe4\xb8\x8d\xe5\x90\x8c\xe7\x9a\x84\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\x96\x87\xe4\xbb\xb6\xef\xbc\x8c\xe8\xa7\x81\xe7\xa4\xba\xe4\xbe\x8b\n* **channelFile** - \xe6\x8c\x87\xe5\xae\x9a\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\x96\x87\xe4\xbb\xb6\xef\xbc\x8cFile\xe7\xb1\xbb\xe5\x9e\x8b\xef\xbc\x8c\xe8\xa7\x81\xe7\xa4\xba\xe4\xbe\x8b\n\n\xe6\xb3\xa8\xe6\x84\x8f\xef\xbc\x9a`channelList` / `channelMap` / `channelFile` \xe4\xb8\x8d\xe8\x83\xbd\xe5\x90\x8c\xe6\x97\xb6\xe4\xbd\xbf\xe7\x94\xa8\xef\xbc\x8c\xe6\xa0\xb9\xe6\x8d\xae\xe5\xae\x9e\xe9\x99\x85\xe6\x83\x85\xe5\x86\xb5\xe9\x80\x89\xe6\x8b\xa9\xe4\xb8\x80\xe7\xa7\x8d\xe5\x8d\xb3\xe5\x8f\xaf\xef\xbc\x8c\xe4\xb8\x89\xe4\xb8\xaa\xe5\xb1\x9e\xe6\x80\xa7\xe5\x90\x8c\xe6\x97\xb6\xe5\xad\x98\xe5\x9c\xa8\xe6\x97\xb6\xe4\xbc\x98\xe5\x85\x88\xe7\xba\xa7\xe4\xb8\xba\xef\xbc\x9a `channelList` > `channelMap` > `channelFile `\xef\xbc\x8c\xe5\x8f\xa6\xe5\xa4\x96\xef\xbc\x8c\xe8\xbf\x99\xe4\xb8\x89\xe4\xb8\xaa\xe5\xb1\x9e\xe6\x80\xa7\xe4\xbc\x9a\xe8\xa2\xab\xe5\x91\xbd\xe4\xbb\xa4\xe8\xa1\x8c\xe5\x8f\x82\xe6\x95\xb0 `-Pchannels` \xe8\xa6\x86\xe7\x9b\x96\xe3\x80\x82\n\n### \xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\xa0\xbc\xe5\xbc\x8f\n\n\xe6\xb8\xa0\xe9\x81\x93\xe5\x90\x8d\xe5\x88\x97\xe8\xa1\xa8\xe6\x96\x87\xe4\xbb\xb6\xe6\x98\xaf\xe7\xba\xaf\xe6\x96\x87\xe6\x9c\xac\xe6\x96\x87\xe4\xbb\xb6\xef\xbc\x8c\xe6\x8c\x89\xe8\xa1\x8c\xe8\xaf\xbb\xe5\x8f\x96\xef\xbc\x8c\xe6\xaf\x8f\xe8\xa1\x8c\xe4\xb8\x80\xe4\xb8\xaa\xe6\xb8\xa0\xe9\x81\x93\xef\xbc\x8c\xe8\xa1\x8c\xe9\xa6\x96\xe5\x92\x8c\xe8\xa1\x8c\xe5\xb0\xbe\xe7\x9a\x84\xe7\xa9\xba\xe7\x99\xbd\xe4\xbc\x9a\xe8\xa2\xab\xe5\xbf\xbd\xe7\x95\xa5\xef\xbc\x8c\xe5\xa6\x82\xe6\x9e\x9c\xe6\x9c\x89\xe6\xb3\xa8\xe9\x87\x8a\xef\xbc\x8c\xe6\xb8\xa0\xe9\x81\x93\xe5\x90\x8d\xe5\x92\x8c\xe6\xb3\xa8\xe9\x87\x8a\xe4\xb9\x8b\xe9\x97\xb4\xe7\x94\xa8 `#` \xe5\x88\x86\xe5\x89\xb2\xe3\x80\x82\n\n\xe6\xb8\xa0\xe9\x81\x93\xe5\x90\x8d\xe5\xbb\xba\xe8\xae\xae\xe5\xb0\xbd\xe9\x87\x8f\xe4\xbd\xbf\xe7\x94\xa8\xe8\xa7\x84\xe8\x8c\x83\xe7\x9a\x84**\xe4\xb8\xad\xe8\x8b\xb1\xe6\x96\x87\xe5\x92\x8c\xe6\x95\xb0\xe5\xad\x97**\xef\xbc\x8c\xe4\xb8\x8d\xe8\xa6\x81\xe4\xbd\xbf\xe7\x94\xa8\xe7\x89\xb9\xe6\xae\x8a\xe5\xad\x97\xe7\xac\xa6\xe5\x92\x8c\xe4\xb8\x8d\xe5\x8f\xaf\xe8\xa7\x81\xe5\xad\x97\xe7\xac\xa6\xe3\x80\x82\xe7\xa4\xba\xe4\xbe\x8b\xef\xbc\x9a[channels.txt](blob/v2dev/channels/channels.txt)\n\n### \xe9\x9b\x86\xe6\x88\x90\xe6\x89\x93\xe5\x8c\x85\n\n* \xe9\xa1\xb9\xe7\x9b\xae\xe4\xb8\xad\xe6\xb2\xa1\xe6\x9c\x89\xe4\xbd\xbf\xe7\x94\xa8 `productFlavors`\n\n    ```shell\n    ./gradlew clean apkRelease\n    ```\n\n* \xe9\xa1\xb9\xe7\x9b\xae\xe4\xb8\xad\xe4\xbd\xbf\xe7\x94\xa8\xe4\xba\x86 `productFlavors`\n\n    \xe5\xa6\x82\xe6\x9e\x9c\xe9\xa1\xb9\xe7\x9b\xae\xe4\xb8\xad\xe6\x8c\x87\xe5\xae\x9a\xe4\xba\x86\xe5\xa4\x9a\xe4\xb8\xaa `flavor` \xef\xbc\x8c\xe9\x9c\x80\xe8\xa6\x81\xe6\x8c\x87\xe5\xae\x9a\xe9\x9c\x80\xe8\xa6\x81\xe6\x89\x93\xe6\xb8\xa0\xe9\x81\x93\xe5\x8c\x85\xe7\x9a\x84 `flavor` \xe5\x90\x8d\xe5\xad\x97\xef\xbc\x8c\xe5\x81\x87\xe8\xae\xbe\xe4\xbd\xa0\xe6\x9c\x89 `Paid` `Free` \xe4\xb8\xa4\xe4\xb8\xaa `flavor` \xef\xbc\x8c\xe6\x89\x93\xe5\x8c\x85\xe7\x9a\x84\xe6\x97\xb6\xe5\x80\x99\xe5\x91\xbd\xe4\xbb\xa4\xe5\xa6\x82\xe4\xb8\x8b\xef\xbc\x9a\n\n    ```shell\n    ./gradlew clean apkPaidRelease\n    ./gradlew clean apkFreeRelease\n    ```\n\n    \xe7\x9b\xb4\xe6\x8e\xa5\xe4\xbd\xbf\xe7\x94\xa8 `./gradlew clean apkRelease` \xe4\xbc\x9a\xe8\xbe\x93\xe5\x87\xba\xe6\x89\x80\xe6\x9c\x89 `flavor` \xe7\x9a\x84\xe6\xb8\xa0\xe9\x81\x93\xe5\x8c\x85\xe3\x80\x82\n\n* \xe9\x80\x9a\xe8\xbf\x87\xe5\x8f\x82\xe6\x95\xb0\xe7\x9b\xb4\xe6\x8e\xa5\xe6\x8c\x87\xe5\xae\x9a\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8(\xe4\xbc\x9a\xe8\xa6\x86\xe7\x9b\x96`build.gradle`\xe4\xb8\xad\xe7\x9a\x84\xe5\xb1\x9e\xe6\x80\xa7)\xef\xbc\x9a\n\n    ```shell\n    ./gradlew clean apkRelease -Pchannels=ch1,ch2,douban,google\n    ```\n\n    \xe6\xb8\xa0\xe9\x81\x93\xe6\x95\xb0\xe7\x9b\xae\xe5\xbe\x88\xe5\xb0\x91\xe6\x97\xb6\xe5\x8f\xaf\xe4\xbb\xa5\xe4\xbd\xbf\xe7\x94\xa8\xe6\xad\xa4\xe7\xa7\x8d\xe6\x96\xb9\xe5\xbc\x8f\xe3\x80\x82\n\n* \xe9\x80\x9a\xe8\xbf\x87\xe5\x8f\x82\xe6\x95\xb0\xe6\x8c\x87\xe5\xae\x9a\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\x96\x87\xe4\xbb\xb6\xe7\x9a\x84\xe4\xbd\x8d\xe7\xbd\xae(\xe4\xbc\x9a\xe8\xa6\x86\xe7\x9b\x96`build.gradle`\xe4\xb8\xad\xe7\x9a\x84\xe5\xb1\x9e\xe6\x80\xa7)\xef\xbc\x9a\n\n    ```shell\n    ./gradlew clean apkRelease -Pchannels=@channels.txt\n    ```\n\n    \xe4\xbd\xbf\xe7\x94\xa8@\xe7\xac\xa6\xe5\x8f\xb7\xe6\x8c\x87\xe5\xae\x9a\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\x96\x87\xe4\xbb\xb6\xe7\x9a\x84\xe4\xbd\x8d\xe7\xbd\xae\xef\xbc\x8c\xe4\xbd\xbf\xe7\x94\xa8\xe7\x9b\xb8\xe5\xaf\xb9\xe4\xba\x8e\xe9\xa1\xb9\xe7\x9b\xae\xe6\xa0\xb9\xe7\x9b\xae\xe5\xbd\x95\xe7\x9a\x84\xe7\x9b\xb8\xe5\xaf\xb9\xe8\xb7\xaf\xe5\xbe\x84\xe3\x80\x82\n\n* \xe8\xbf\x98\xe5\x8f\xaf\xe4\xbb\xa5\xe6\x8c\x87\xe5\xae\x9a\xe8\xbe\x93\xe5\x87\xba\xe7\x9b\xae\xe5\xbd\x95\xe5\x92\x8c\xe6\x96\x87\xe4\xbb\xb6\xe5\x90\x8d\xe6\xa0\xbc\xe5\xbc\x8f\xe6\xa8\xa1\xe7\x89\x88\xef\xbc\x9a\n\n    ```shell\n    ./gradlew clean apkRelease -Poutput=build/apks\n    ./gradlew clean apkRelease -Pformat=${versionName}-${channel}\n    ```\n\n    \xe8\xbf\x99\xe4\xba\x9b\xe5\x8f\x82\xe6\x95\xb0 `channels` `output` `format` \xe5\x8f\xaf\xe4\xbb\xa5\xe7\xbb\x84\xe5\x90\x88\xe4\xbd\xbf\xe7\x94\xa8\xef\xbc\x8c\xe5\x91\xbd\xe4\xbb\xa4\xe8\xa1\x8c\xe5\x8f\x82\xe6\x95\xb0\xe4\xbc\x9a\xe8\xa6\x86\xe7\x9b\x96 `build.gradle` \xe5\xaf\xb9\xe5\xba\x94\xe7\x9a\x84\xe5\xb1\x9e\xe6\x80\xa7\xe3\x80\x82\n\n* Gradle\xe6\x89\x93\xe5\x8c\x85\xe5\x91\xbd\xe4\xbb\xa4\xe8\xaf\xb4\xe6\x98\x8e\n\n    \xe6\xb8\xa0\xe9\x81\x93\xe6\x89\x93\xe5\x8c\x85\xe7\x9a\x84Task\xe5\x90\x8d\xe5\xad\x97\xe6\x98\xaf `apk${flavor}${buildType}` buildType\xe4\xb8\x80\xe8\x88\xac\xe6\x98\xafrelease\xef\xbc\x8c\xe4\xb9\x9f\xe5\x8f\xaf\xe4\xbb\xa5\xe6\x98\xaf\xe4\xbd\xa0\xe8\x87\xaa\xe5\xb7\xb1\xe6\x8c\x87\xe5\xae\x9a\xe7\x9a\x84beta\xe6\x88\x96\xe8\x80\x85someOtherType\xef\xbc\x8c\xe5\xa6\x82\xe6\x9e\x9c\xe6\xb2\xa1\xe6\x9c\x89 `flavor` \xe5\x8f\xaf\xe4\xbb\xa5\xe5\xbf\xbd\xe7\x95\xa5\xef\xbc\x8c\xe4\xbd\xbf\xe7\x94\xa8\xe6\x97\xb6\xe9\xa6\x96\xe5\xad\x97\xe6\xaf\x8d\xe9\x9c\x80\xe8\xa6\x81\xe5\xa4\xa7\xe5\x86\x99\xef\xbc\x8c\xe5\x81\x87\xe8\xae\xbe `flavor` \xe6\x98\xaf `Paid`\xef\xbc\x8c`release`\xe7\xb1\xbb\xe5\x9e\x8b\xe5\xaf\xb9\xe5\xba\x94\xe7\x9a\x84\xe4\xbb\xbb\xe5\x8a\xa1\xe5\x90\x8d\xe6\x98\xaf `apkPaidRelease`\xef\xbc\x8c`beta`\xe7\xb1\xbb\xe5\x9e\x8b\xe5\xaf\xb9\xe5\xba\x94\xe7\x9a\x84\xe4\xbb\xbb\xe5\x8a\xa1\xe5\x90\x8d\xe6\x98\xaf `apkPaidBetaBeta`\xef\xbc\x8c\xe5\x85\xb6\xe5\xae\x83\xe7\x9a\x84\xe4\xbb\xa5\xe6\xad\xa4\xe7\xb1\xbb\xe6\x8e\xa8\xe3\x80\x82\n\n* \xe7\x89\xb9\xe5\x88\xab\xe6\x8f\x90\xe7\xa4\xba\n\n    \xe5\xa6\x82\xe6\x9e\x9c\xe4\xbd\xa0\xe5\x90\x8c\xe6\x97\xb6\xe4\xbd\xbf\xe7\x94\xa8\xe5\x85\xb6\xe5\xae\x83\xe7\x9a\x84\xe8\xb5\x84\xe6\xba\x90\xe5\x8e\x8b\xe7\xbc\xa9\xe5\xb7\xa5\xe5\x85\xb7\xe6\x88\x96\xe5\xba\x94\xe7\x94\xa8\xe5\x8a\xa0\xe5\x9b\xba\xe5\x8a\x9f\xe8\x83\xbd\xef\xbc\x8c\xe8\xaf\xb7\xe4\xbd\xbf\xe7\x94\xa8\xe5\x91\xbd\xe4\xbb\xa4\xe8\xa1\x8c\xe8\x84\x9a\xe6\x9c\xac\xe6\x89\x93\xe5\x8c\x85\xe5\xa2\x9e\xe5\x8a\xa0\xe6\xb8\xa0\xe9\x81\x93\xe4\xbf\xa1\xe6\x81\xaf\xef\xbc\x8c\xe5\xa2\x9e\xe5\x8a\xa0\xe6\xb8\xa0\xe9\x81\x93\xe4\xbf\xa1\xe6\x81\xaf\xe9\x9c\x80\xe8\xa6\x81\xe6\x94\xbe\xe5\x9c\xa8APK\xe5\xa4\x84\xe7\x90\x86\xe8\xbf\x87\xe7\xa8\x8b\xe7\x9a\x84\xe6\x9c\x80\xe5\x90\x8e\xe4\xb8\x80\xe6\xad\xa5\xe3\x80\x82\n\n### \xe8\x84\x9a\xe6\x9c\xac\xe6\x89\x93\xe5\x8c\x85\n\n\xe9\x99\xa4\xe4\xba\x86\xe4\xbd\xbf\xe7\x94\xa8Gradle\xe9\x9b\x86\xe6\x88\x90\xe4\xbb\xa5\xe5\xa4\x96\xef\xbc\x8c\xe8\xbf\x98\xe5\x8f\xaf\xe4\xbb\xa5\xe4\xbd\xbf\xe7\x94\xa8\xe9\xa1\xb9\xe7\x9b\xae\xe6\x8f\x90\xe4\xbe\x9b\xe7\x9a\x84Java\xe8\x84\x9a\xe6\x9c\xac\xe6\x89\x93\xe5\x8c\x85\xef\xbc\x8cJar\xe4\xbd\x8d\xe4\xba\x8e\xe6\x9c\xac\xe9\xa1\xb9\xe7\x9b\xae\xe7\x9a\x84 `tools` \xe7\x9b\xae\xe5\xbd\x95\xef\xbc\x8c\xe8\xaf\xb7\xe4\xbd\xbf\xe7\x94\xa8\xe6\x9c\x80\xe6\x96\xb0\xe7\x89\x88\xef\xbc\x8c\xe4\xbb\xa5\xe4\xb8\x8b\xe7\x94\xa8 `packer-ng` \xe6\x8c\x87\xe4\xbb\xa3 `java -jar tools/packer-ng-2.0.1.jar`\xef\xbc\x8c\xe4\xb8\x8b\xe9\x9d\xa2\xe6\x98\xaf\xe5\x87\xa0\xe4\xb8\xaa\xe7\xa4\xba\xe4\xbe\x8b\xe3\x80\x82\n\n* \xe5\x8f\x82\xe6\x95\xb0\xe8\xaf\xb4\xe6\x98\x8e\xef\xbc\x9a\n\n```\npacker-ng - \xe8\xa1\xa8\xe7\xa4\xba java -jar packer-ng-2.0.1.jar\nchannels.txt - \xe6\x9b\xbf\xe6\x8d\xa2\xe6\x88\x90\xe4\xbd\xa0\xe7\x9a\x84\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\x96\x87\xe4\xbb\xb6\xe7\x9a\x84\xe5\xae\x9e\xe9\x99\x85\xe8\xb7\xaf\xe5\xbe\x84\nbuild/archives - \xe6\x9b\xbf\xe6\x8d\xa2\xe6\x88\x90\xe4\xbd\xa0\xe6\x8c\x87\xe5\xae\x9a\xe7\x9a\x84\xe6\xb8\xa0\xe9\x81\x93\xe5\x8c\x85\xe7\x9a\x84\xe8\xbe\x93\xe5\x87\xba\xe8\xb7\xaf\xe5\xbe\x84\napp.apk - \xe6\x9b\xbf\xe6\x8d\xa2\xe6\x88\x90\xe4\xbd\xa0\xe8\xa6\x81\xe6\x89\x93\xe6\xb8\xa0\xe9\x81\x93\xe5\x8c\x85\xe7\x9a\x84APK\xe6\x96\x87\xe4\xbb\xb6\xe7\x9a\x84\xe5\xae\x9e\xe9\x99\x85\xe8\xb7\xaf\xe5\xbe\x84\n```\n\n* \xe7\x9b\xb4\xe6\x8e\xa5\xe6\x8c\x87\xe5\xae\x9a\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\x89\x93\xe5\x8c\x85\xef\xbc\x9a\n\n```shell\npacker-ng generate --channels=ch1,ch2,ch3 --output=build/archives app.apk\n```\n\n* \xe6\x8c\x87\xe5\xae\x9a\xe6\xb8\xa0\xe9\x81\x93\xe5\x88\x97\xe8\xa1\xa8\xe6\x96\x87\xe4\xbb\xb6\xe6\x89\x93\xe5\x8c\x85\xef\xbc\x9a\n\n```shell\npacker-ng generate --channels=@channels.txt --output=build/archives app.apk\n```\n\n* \xe9\xaa\x8c\xe8\xaf\x81\xe6\xb8\xa0\xe9\x81\x93\xe4\xbf\xa1\xe6\x81\xaf\xef\xbc\x9a\n\n```shell\npacker-ng verify app.apk\n```\n\n* \xe8\xbf\x90\xe8\xa1\x8c\xe5\x91\xbd\xe4\xbb\xa4\xe6\x9f\xa5\xe7\x9c\x8b\xe5\xb8\xae\xe5\x8a\xa9\n\n```shell\njava -jar tools/packer-ng-2.0.1.jar --help\n```\n\n* Python\xe8\x84\x9a\xe6\x9c\xac\xe8\xaf\xbb\xe5\x8f\x96\xe6\xb8\xa0\xe9\x81\x93\xef\xbc\x9a\n\n```shell\npython tools/packer-ng-v2.py app.apk\n```\n\n* C\xe7\xa8\x8b\xe5\xba\x8f\xe8\xaf\xbb\xe5\x8f\x96\xe6\xb8\xa0\xe9\x81\x93\xef\xbc\x9a\n\n```shell\ncd tools\nmake\nmake install\npacker app.apk\n```\n\n### \xe4\xbb\xa3\xe7\xa0\x81\xe4\xb8\xad\xe8\xaf\xbb\xe5\x8f\x96\xe6\xb8\xa0\xe9\x81\x93\n\n```java\n// \xe5\xa6\x82\xe6\x9e\x9c\xe6\xb2\xa1\xe6\x9c\x89\xe6\x89\xbe\xe5\x88\xb0\xe6\xb8\xa0\xe9\x81\x93\xe4\xbf\xa1\xe6\x81\xaf\xe6\x88\x96\xe9\x81\x87\xe5\x88\xb0\xe9\x94\x99\xe8\xaf\xaf\xef\xbc\x8c\xe9\xbb\x98\xe8\xae\xa4\xe8\xbf\x94\xe5\x9b\x9e\xe7\x9a\x84\xe6\x98\xaf""\n// com.mcxiaoke.packer.helper.PackerNg\nString channel = PackerNg.getChannel(Context)\n```\n\n### \xe6\x96\x87\xe4\xbb\xb6\xe5\x90\x8d\xe6\xa0\xbc\xe5\xbc\x8f\xe6\xa8\xa1\xe7\x89\x88\n\n\xe6\xa0\xbc\xe5\xbc\x8f\xe6\xa8\xa1\xe7\x89\x88\xe4\xbd\xbf\xe7\x94\xa8Groovy\xe5\xad\x97\xe7\xac\xa6\xe4\xb8\xb2\xe6\xa8\xa1\xe7\x89\x88\xe5\xbc\x95\xe6\x93\x8e\xef\xbc\x8c\xe9\xbb\x98\xe8\xae\xa4\xe6\x96\x87\xe4\xbb\xb6\xe5\x90\x8d\xe6\xa0\xbc\xe5\xbc\x8f\xe6\x98\xaf\xef\xbc\x9a `${appPkg}-${channel}-${buildType}-v${versionName}-${versionCode}` \xe3\x80\x82\n\n\xe5\x81\x87\xe5\xa6\x82\xe4\xbd\xa0\xe7\x9a\x84App\xe5\x8c\x85\xe5\x90\x8d\xe6\x98\xaf  `com.your.company` \xef\xbc\x8c\xe6\xb8\xa0\xe9\x81\x93\xe5\x90\x8d\xe6\x98\xaf `Google_Play` \xef\xbc\x8c`buildType` \xe6\x98\xaf `release` \xef\xbc\x8c`versionName` \xe6\x98\xaf `2.1.15` \xef\xbc\x8c`versionCode` \xe6\x98\xaf `200115` \xef\xbc\x8c\xe9\x82\xa3\xe4\xb9\x88\xe7\x94\x9f\xe6\x88\x90\xe7\x9a\x84\xe9\xbb\x98\xe8\xae\xa4APK\xe7\x9a\x84\xe6\x96\x87\xe4\xbb\xb6\xe5\x90\x8d\xe6\x98\xaf `com.your.company-Google_Player-release-2.1.15-20015.apk` \xe3\x80\x82\n\n\xe5\x8f\xaf\xe4\xbd\xbf\xe7\x94\xa8\xe4\xbb\xa5\xe4\xb8\x8b\xe5\x8f\x98\xe9\x87\x8f:\n\n  * *projectName* - \xe9\xa1\xb9\xe7\x9b\xae\xe5\x90\x8d\xe5\xad\x97\n  * *appName* - App\xe6\xa8\xa1\xe5\x9d\x97\xe5\x90\x8d\xe5\xad\x97\n  * *appPkg* - `applicationId` (App\xe5\x8c\x85\xe5\x90\x8dpackageName)\n  * *channel* - \xe6\x89\x93\xe5\x8c\x85\xe6\x97\xb6\xe6\x8c\x87\xe5\xae\x9a\xe7\x9a\x84\xe6\xb8\xa0\xe9\x81\x93\xe5\x90\x8d\n  * *buildType* - `buildType` (release/debug/beta\xe7\xad\x89)\n  * *flavor* - `flavor` (flavor\xe5\x90\x8d\xe5\xad\x97\xef\xbc\x8c\xe5\xa6\x82paid/free\xe7\xad\x89)\n  * *versionName* - `versionName` (\xe6\x98\xbe\xe7\xa4\xba\xe7\x94\xa8\xe7\x9a\x84\xe7\x89\x88\xe6\x9c\xac\xe5\x8f\xb7)\n  * *versionCode* - `versionCode` (\xe5\x86\x85\xe9\x83\xa8\xe7\x89\x88\xe6\x9c\xac\xe5\x8f\xb7)\n  * *buildTime* - `buildTime` (\xe7\xbc\x96\xe8\xaf\x91\xe6\x9e\x84\xe5\xbb\xba\xe6\x97\xa5\xe6\x9c\x9f\xe6\x97\xb6\xe9\x97\xb4)\n  * *fileSHA1* - `fileSHA1 ` (\xe6\x9c\x80\xe7\xbb\x88APK\xe6\x96\x87\xe4\xbb\xb6\xe7\x9a\x84SHA1\xe5\x93\x88\xe5\xb8\x8c\xe5\x80\xbc)\n\n------\n\n## \xe5\x85\xb6\xe5\xae\x83\xe8\xaf\xb4\xe6\x98\x8e\n\n\xe6\xb8\xa0\xe9\x81\x93\xe8\xaf\xbb\xe5\x8f\x96C\xe8\xaf\xad\xe8\xa8\x80\xe5\xae\x9e\xe7\x8e\xb0\xe4\xbd\xbf\xe7\x94\xa8 [GenericMakefile](https://github.com/mbcrawfo/GenericMakefile) \xe6\x9e\x84\xe5\xbb\xba\xef\xbc\x8c[APK Signing Block](https://source.android.com/security/apksigning/v2) \xe8\xaf\xbb\xe5\x8f\x96\xe5\x92\x8c\xe5\x86\x99\xe5\x85\xa5Java\xe5\xae\x9e\xe7\x8e\xb0\xe4\xbf\xae\xe6\x94\xb9\xe8\x87\xaa [apksig](https://android.googlesource.com/platform/tools/apksig/+/master) \xe5\x92\x8c [walle](https://github.com/Meituan-Dianping/walle/tree/master/payload_writer) \xef\xbc\x8c\xe7\x89\xb9\xe6\xad\xa4\xe8\x87\xb4\xe8\xb0\xa2\xe3\x80\x82\n\n\n------\n\n## \xe5\x85\xb3\xe4\xba\x8e\xe4\xbd\x9c\xe8\x80\x85\n\n### \xe8\x81\x94\xe7\xb3\xbb\xe6\x96\xb9\xe5\xbc\x8f\n* Blog: <http://blog.mcxiaoke.com>\n* Github: <https://github.com/mcxiaoke>\n* Email: [packer-ng-plugin@mcxiaoke.com](mailto:packer-ng-plugin@mcxiaoke.com)\n\n### \xe5\xbc\x80\xe6\xba\x90\xe9\xa1\xb9\xe7\x9b\xae\n\n* Rx\xe6\x96\x87\xe6\xa1\xa3\xe4\xb8\xad\xe6\x96\x87\xe7\xbf\xbb\xe8\xaf\x91: <https://github.com/mcxiaoke/RxDocs>\n* MQTT\xe5\x8d\x8f\xe8\xae\xae\xe4\xb8\xad\xe6\x96\x87\xe7\x89\x88: <https://github.com/mcxiaoke/mqtt>\n* Awesome-Kotlin: <https://github.com/mcxiaoke/awesome-kotlin>\n* Kotlin-Koi: <https://github.com/mcxiaoke/kotlin-koi>\n* Next\xe5\x85\xac\xe5\x85\xb1\xe7\xbb\x84\xe4\xbb\xb6\xe5\xba\x93: <https://github.com/mcxiaoke/Android-Next>\n* Gradle\xe6\xb8\xa0\xe9\x81\x93\xe6\x89\x93\xe5\x8c\x85: <https://github.com/mcxiaoke/gradle-packer-plugin>\n* EventBus\xe5\xae\x9e\xe7\x8e\xb0xBus: <https://github.com/mcxiaoke/xBus>\n* \xe8\x98\x91\xe8\x8f\x87\xe9\xa5\xadApp: <https://github.com/mcxiaoke/minicat>\n* \xe9\xa5\xad\xe5\x90\xa6\xe5\xae\xa2\xe6\x88\xb7\xe7\xab\xaf: <https://github.com/mcxiaoke/fanfouapp-opensource>\n* Volley\xe9\x95\x9c\xe5\x83\x8f: <https://github.com/mcxiaoke/android-volley>\n\n------\n\n## License\n\n    Copyright 2014 - 2018 Xiaoke Zhang\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n'