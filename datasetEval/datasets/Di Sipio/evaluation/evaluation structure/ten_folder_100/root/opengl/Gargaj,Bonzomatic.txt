b'# Bonzomatic\r\n\r\n[![Build status](https://ci.appveyor.com/api/projects/status/ix6fwi6nym1tu4e7?svg=true)](https://ci.appveyor.com/project/Gargaj/bonzomatic)\r\n[![Build Status](https://travis-ci.org/Gargaj/Bonzomatic.svg)](https://travis-ci.org/Gargaj/Bonzomatic)\r\n\r\n## What\'s this?\r\nThis is a live-coding tool, where you can write a 2D fragment/pixel shader while it is running in the background.\r\n\r\n![Screenshot](https://i.imgur.com/8K8IztLl.jpg)\r\n\r\nThe tool was originally conceived and implemented after the Revision 2014 demoscene party\'s live coding competition where two contestants improv-code an effect in 25 minutes head-to-head. Wanna see how it looks in action? Check https://www.youtube.com/watch?v=KG_2q4OEhKc\r\n\r\n## Keys\r\n- F2: toggle texture preview\r\n- F5 or Ctrl-R: recompile shader\r\n- F11 or Ctrl/Cmd-f: hide shader overlay\r\n- Alt-F4 or Shift+Escape: exbobolate your planet\r\n\r\n## Requirements\r\nOn Windows, both DirectX 9 and 11 are supported.\r\n\r\nFor the OpenGL version (for any platform), at least OpenGL 4.1 is required.\r\n\r\nOn recent macOS, to allow sound input to be captured (for FFT textures to be generated), you need to: Open up System Preferences, click on Security & Privacy, click on the Privacy tab then click on the Microphone menu item. Make sure Bonzomatic.app is in the list and ticked.\r\n\r\n## Configuration\r\nYou can configure Bonzomatic by creating a `config.json` and placing it next to the binary executable you\'re planning to run in the working directory for the binary; Bonzomatic will helpfully print this directory out for you when you run it, and you can also pass a file (with absolute or relative path, whichever you want) as parameter to the executable to load any other file as `config.json`. This allows you to have multiple configurations for multiple situations.\r\n\r\nThe file can have the following contents: (all fields are optional)\r\n``` javascript\r\n{\r\n  "window":{ // default window size / state, if there\'s a setup dialog, it will override it\r\n    "width":1920,\r\n    "height":1080,\r\n    "fullscreen":true,\r\n  },\r\n  "font":{ // all paths in the file are also relative to the binary, but again, can be absolute paths if that\'s more convenient\r\n    "file":"Input-Regular_(InputMono-Medium).ttf",\r\n    "size":16,\r\n  },\r\n  "rendering":{\r\n    "fftSmoothFactor": 0.9, // 0.0 means there\'s no smoothing at all, 1.0 means the FFT is completely smoothed flat\r\n    "fftAmplification": 1.0, // 1.0 means no change, larger values will result in brighter/stronger bands, smaller values in darker/weaker ones\r\n  },\r\n  "textures":{ // the keys below will become the shader variable names\r\n    "texChecker":"textures/checker.png",\r\n    "texNoise":"textures/noise.png",\r\n    "texTex1":"textures/tex1.jpg",\r\n  },\r\n  "gui":{\r\n    "outputHeight": 200,\r\n    "opacity": 192, // 255 means the editor occludes the effect completely, 0 means the editor is fully transparent\r\n    "texturePreviewWidth": 64,\r\n    "spacesForTabs": false,\r\n    "tabSize": 8,\r\n    "visibleWhitespace": true,\r\n    "autoIndent": "smart", // can be "none", "preserve" or "smart"\r\n    "scrollXFactor": 1.0, // if horizontal scrolling is too slow you can speed it up here (or change direction)\r\n    "scrollYFactor": 1.0, // if vertical scrolling is too slow you can speed it up here (or change direction)\r\n  },\r\n  "midi":{ // the keys below will become the shader variable names, the values are the CC numbers\r\n    "fMidiKnob": 16, // e.g. this would be CC#16, i.e. by default the leftmost knob on a nanoKONTROL 2\r\n  },\r\n  // this section is if you want to enable NDI streaming; otherwise just ignore it\r\n  "ndi":{\r\n    "enabled": true,\r\n    "connectionString": "<ndi_product something=\\"123\\"/>", // metadata sent to the receiver; completely optional\r\n    "identifier": "hello!", // additional string to the device name; helps source discovery/identification in the receiver if there are multiple sources on the network\r\n    "frameRate": 60.0, // frames per second\r\n    "progressive": true, // progressive or interleaved?\r\n  },\r\n  "postExitCmd":"copy_to_dropbox.bat" // this command gets ran when you quit Bonzomatic, and the shader filename gets passed to it as first parameter. Use this to take regular backups.\r\n}\r\n```\r\n### Automatic shader backup\r\nIf you want the shader to be backed up once you quit Bonzomatic, you can use the above `postExitCmd` parameter in the config, and use a batch file like this:\r\n```\r\n@echo off\r\nREM ### cf. https://stackoverflow.com/a/23476347\r\nfor /f "tokens=2 delims==" %%a in (\'wmic OS Get localdatetime /value\') do set "dt=%%a"\r\nset "YY=%dt:~2,2%" & set "YYYY=%dt:~0,4%" & set "MM=%dt:~4,2%" & set "DD=%dt:~6,2%"\r\nset "HH=%dt:~8,2%" & set "Min=%dt:~10,2%" & set "Sec=%dt:~12,2%"\r\ncopy %1 X:\\MyShaderBackups\\%YYYY%%MM%%DD%-%HH%%Min%%Sec%.glsl\r\n```\r\nThis will copy the shader timestamped into a specified folder.\r\n\r\n## Building\r\nAs you can see you\'re gonna need [CMAKE](https://cmake.org/) for this, but don\'t worry, a lot of it is automated at this point.\r\n\r\n### Windows\r\nUse at least [Visual C++ 2010](https://support.microsoft.com/ru-ru/help/2977003/the-latest-supported-visual-c-downloads). For the DX9/DX11 builds, obviously you\'ll be needing a [DirectX SDK](https://www.microsoft.com/en-us/download/details.aspx?id=6812), though a lot of it is already in the Windows 8.1 SDK as well.\r\n\r\n### OSX/macOS\r\n```cmake``` should take care of everything:\r\n```\r\nmkdir build && cd build\r\ncmake -DCMAKE_BUILD_TYPE=Release ../\r\ncmake --build .\r\n```\r\nThe Bonzomatic.app bundle, resulting from the compilation, should be found in `./build/Bonzomatic.app`. You can place it anywhere.\r\nWe do NOT recommend putting it in /Applications. Bonzomatic is looking for config.json files and resources living at the same level of the app.\r\n\r\n### Linux\r\nYou\'ll need ```xorg-dev``` and ```libglu1-mesa-dev```; after that ```cmake``` should take care of the rest:\r\n```\r\napt install xorg-dev libglu1-mesa-dev cmake\r\ncd Bonzomatic\r\ncmake .\r\nmake\r\nmake install\r\n```\r\n\r\n### OpenBSD\r\n[Xenocara](https://xenocara.org) contains all required components.  Hack away with\r\n```\r\ncmake .\r\nmake\r\n```\r\nor use the port\r\n```\r\ncd /usr/ports/graphics/bonzomatic\r\nmake install\r\n```\r\n\r\n\r\n## Organizing a competition\r\nIf you want to organize a competition using Bonzomatic at your party, here\'s a handy-dandy guide on how to get started:\r\nhttps://github.com/Gargaj/Bonzomatic/wiki/How-to-set-up-a-Live-Coding-compo\r\n\r\n## Credits and acknowledgements\r\n### Original / parent project authors\r\n- "ScintillaGL" project by Mykhailo Parfeniuk (https://github.com/sopyer/ScintillaGL)\r\n- Riverwash LiveCoding Tool by Micha\xc5\x82 Staniszewski and Michal Szymczyk (http://www.plastic-demo.org)\r\n\r\n### Libraries and other included software\r\n- Scintilla editing component by the Scintilla Dev Team (https://www.scintilla.org)\r\n- OpenGL Extension Wrangler Library by Nigel Stewart (http://glew.sourceforge.net)\r\n- mini_al by David Reid (https://github.com/dr-soft/mini_al)\r\n- KISSFFT by Mark Borgerding (https://github.com/mborgerding/kissfft)\r\n- STB Image and Truetype libraries by Sean Barrett (https://nothings.org)\r\n- GLFW by whoever made GLFW (https://www.glfw.org/faq.html)\r\n- JSON++ by Hong Jiang (https://github.com/hjiang/jsonxx)\r\n- NDI(tm) SDK by NewTek(tm) (https://www.newtek.com/ndi.html)\r\n\r\nThese software are available under their respective licenses.\r\n\r\nThe remainder of this project code was (mostly, I guess) written by Gargaj / Conspiracy and is public domain.\r\nOSX / macOS maintenance and ports by Alkama / Tpolm + Calodox; Linux maintenance by PoroCYon / K2.\r\n\r\n## Contact / discussion forum\r\nIf you have anything to say, do it at https://www.pouet.net/topic.php?which=9881 or [![Join the chat at https://gitter.im/Gargaj/Bonzomatic](https://badges.gitter.im/Gargaj/Bonzomatic.svg)](https://gitter.im/Gargaj/Bonzomatic?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\r\n'