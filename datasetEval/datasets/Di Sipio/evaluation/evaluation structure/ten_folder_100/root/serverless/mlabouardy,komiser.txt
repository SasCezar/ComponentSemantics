b'<a href="https://komiser.io">\n  <img src="https://s3.eu-west-3.amazonaws.com/komiser-assets/images/logo.png" width="200" align="right" alt="Amp Logo">\n</a>\n\n<a href="https://komiser.io"><img alt="Amp" src="https://s3.eu-west-3.amazonaws.com/komiser-assets/images/icon.png" width="120" valign="middle"></a>\n\n[![Price](https://img.shields.io/badge/price-FREE-0098f7.svg)](https://github.com/mlabouardy/komiser/blob/master/LICENSE) [![Docker Stars](https://img.shields.io/docker/pulls/mlabouardy/komiser.svg)](https://hub.docker.com/r/mlabouardy/komiser/) \n[![MIT License](http://img.shields.io/badge/license-MIT-blue.svg?style=flat)](LICENSE) [![CircleCI](https://circleci.com/gh/mlabouardy/komiser/tree/master.svg?style=svg&circle-token=d35b1c7447995e60909b24fd316fef0988e76bc8)](https://circleci.com/gh/mlabouardy/komiser/tree/master) [![Docker Stars](https://img.shields.io/github/issues/mlabouardy/komiser.svg)](https://github.com/mlabouardy/komiser/issues) [<img src="https://img.shields.io/badge/slack-@komiser-yellow.svg?logo=slack">](https://mohamedlabouardy.typeform.com/to/p5qrA) <a href="https://github.com/mlabouardy/komiser#backers"><img src="https://opencollective.com/komiser/backers/badge.svg" alt="OpenCollective"></a>  <a href="https://github.com/mlabouardy/komiser#sponsors"><img src="https://opencollective.com/komiser/sponsors/badge.svg" alt="OpenCollective"></a> <a href="https://app.fossa.io/projects/git%2Bgithub.com%2Fmlabouardy%2Fkomiser?ref=badge_shield" alt="FOSSA Status"><img src="https://app.fossa.io/api/projects/git%2Bgithub.com%2Fmlabouardy%2Fkomiser.svg?type=shield"/></a> <span class="badge-patreon"><a href="https://patreon.com/komiser" title="Donate to this project using Patreon"><img src="https://img.shields.io/badge/patreon-donate-yellow.svg" alt="Patreon donate button" /></a></span> <span class="badge-opencollective"><a href="https://opencollective.com/komiser" title="Donate to this project using Open Collective"><img src="https://img.shields.io/badge/open%20collective-donate-yellow.svg" alt="Open Collective donate button" /></a></span>\n\n\nStay under budget by uncovering hidden costs, monitoring increases in spend, and making impactful changes based on custom recommendations.\n\n**Discuss it on [Product Hunt](https://www.producthunt.com/posts/komiser) \xf0\x9f\xa6\x84**\n\n*Komiser EE is available in private beta test stage, sign in for free at [https://cloud.komiser.io](https://cloud.komiser.io)*\n\n[![Twitter URL](https://img.shields.io/twitter/url/https/twitter.com/fold_left.svg?style=social&label=Follow%20%40Komiser)](https://twitter.com/komiseree) [![Tweet](https://img.shields.io/twitter/url/http/shields.io.svg?style=social)](https://twitter.com/intent/tweet?text=Optimize%20Cost%20and%20Security%20on%20AWS&url=https://github.com/mlabouardy/komiser&via=mlabouardy&hashtags=komiser,aws,gcp,cloud,serverless,devops) \n\n**Highlights**\n\n* Analyze and manage cloud cost, usage, security, and governance in one place.\n* Control your usage and create visibility across all used services to achieve maximum cost-effectiveness.\n* Detect potential vulnerabilities that could put your cloud environment at risk.\n* Get a deep understanding of how you spend on the AWS, GCP, OVH, DigitalOcean and Azure.\n\n<p align="center">\n\n[![IMAGE ALT TEXT HERE](https://s3.eu-west-3.amazonaws.com/komiser-assets/images/thumbnail.png?v=3)](https://www.youtube.com/watch?v=DDWf2KnvgE8)\n\n</p>\n\n## Backers\n\n[Become a backer](https://opencollective.com/komiser#backer) and show your support to our open source project.\n\n## Sponsors\n\nDoes your company use Komiser?  Ask your manager or marketing team if your company would be interested in supporting our project.  Support will allow the maintainers to dedicate more time for maintenance and new features for everyone.  Also, your company\'s logo will show [on GitHub](https://github.com/mlabouardy/komiser#readme) and on [our site](https://komiser.io) - who doesn\'t want a little extra exposure?  [Here\'s the info](https://opencollective.com/komiser#sponsor).\n\n## Download\n\nBelow are the available downloads for the latest version of Komiser (2.4.0). Please download the proper package for your operating system and architecture.\n\n### Linux:\n\n```\nwget https://cli.komiser.io/2.4.0/linux/komiser\n```\n\n### Windows:\n\n```\nwget https://cli.komiser.io/2.4.0/windows/komiser\n```\n\n### Mac OS X:\n\n```\nwget https://cli.komiser.io/2.4.0/osx/komiser\n```\n\n_Note_: make sure to add the execution permission to Komiser `chmod +x komiser`\n\n```\nbrew tap komiserio/komiser\nbrew install komiser\n```\n\n### Docker:\n\n```\ndocker run -d -p 3000:3000 -e AWS_ACCESS_KEY_ID="" -e AWS_SECRET_ACCESS_KEY="" -e AWS_DEFAULT_REGION="" --name komiser mlabouardy/komiser:2.4.0\n```\n\n## How to use\n\n### AWS\n\n* Create an IAM user with the following IAM [policy](https://raw.githubusercontent.com/mlabouardy/komiser/master/policy.json):\n\n```\nwget https://komiser.s3.amazonaws.com/policy.json\n```\n\n* Add your **Access Key ID** and **Secret Access Key** to *~/.aws/credentials* using this format\n\n``` \n[default]\naws_access_key_id = <access key id>\naws_secret_access_key = <secret access key>\nregion = <AWS region>\n```\n\n* That should be it. Try out the following from your command prompt to start the server:\n\n```\nkomiser start --port 3000\n```\n\nYou can also use Redis as a caching server:\n\n```\nkomiser start --port 3000 --redis localhost:6379 --duration 30\n```\n\n* Point your browser to http://localhost:3000\n\n<p align="center">\n    <img src="https://s3.eu-west-3.amazonaws.com/komiser-assets/images/dashboard-aws.png"/>\n</p>\n\n#### Multiple AWS Accounts Support\n\nKomiser support multiple AWS accounts through named profiles that are stored in the `config` and `credentials files`. You can configure additional profiles by using `aws configure` with the `--profile` option, or by adding entries to the `config` and `credentials` files.\n\nThe following example shows a credentials file with 3 profiles (production, staging & sandbox accounts):\n\n```\n[Production]\naws_access_key_id=<AWS_ACCESS_KEY_ID>\naws_secret_access_key=<AWS_SECRET_ACCESS_KEY>\n\n[Staging]\naws_access_key_id=<AWS_ACCESS_KEY_ID>\naws_secret_access_key=<AWS_SECRET_ACCESS_KEY>\n\n[Sandbox]\naws_access_key_id=<AWS_ACCESS_KEY_ID>\naws_secret_access_key=<AWS_SECRET_ACCESS_KEY>\n```\n\nTo enable multiple AWS accounts feature, add the --multiple option to Komiser:\n\n```\nkomiser start --port 3000 --redis localhost:6379 --duration 30 --multiple\n```\n\n* If you point your browser to http://localhost:3000, you should be able to see your accounts:\n\n<p align="center">\n    <img src="https://s3.eu-west-3.amazonaws.com/komiser-assets/images/dashboard-aws-multiple.png"/>\n</p>\n\n### GCP\n\n* Create a service account with *Viewer* permission, see [Creating and managing service accounts](https://cloud.google.com/iam/docs/creating-managing-service-accounts) docs.\n* Enable the below APIs for your project through GCP Console, `gcloud` or using the Service Usage API. You can find out more about these options in [Enabling an API in your GCP project](https://cloud.google.com/endpoints/docs/openapi/enable-api) docs.\n  * appengine.googleapis.com\n  * bigquery-json.googleapis.com \n  * compute.googleapis.com \n  * cloudfunctions.googleapis.com\n  * container.googleapis.com\n  * cloudresourcemanager.googleapis.com\n  * cloudkms.googleapis.com\n  * dns.googleapis.com\n  * dataflow.googleapis.com\n  * dataproc.googleapis.com\n  * iam.googleapis.com\n  * monitoring.googleapis.com\n  * pubsub.googleapis.com\n  * redis.googleapis.com\n  * serviceusage.googleapis.com\n  * storage-api.googleapis.com\n  * sqladmin.googleapis.com \n* To analyze and optimize the infrastructure cost, you need to export your daily cost to BigQuery, see [Export Billing to BigQuery](https://cloud.google.com/billing/docs/how-to/export-data-bigquery) docs.\n\n\n* Provide authentication credentials to your application code by setting the environment variable *GOOGLE_APPLICATION_CREDENTIALS*:\n\n``` \nexport GOOGLE_APPLICATION_CREDENTIALS="[PATH]"\n```\n\n* That should be it. Try out the following from your command prompt to start the server:\n\n```\nkomiser start --port 3000 --dataset project-id.dataset-name.table-name\n```\n\n* Point your browser to http://localhost:3000\n\n<p align="center">\n    <img src="https://s3.eu-west-3.amazonaws.com/komiser-assets/images/dashboard-gcp.png"/>\n</p>\n\n### OVH\n\n* Create an API application from [here](https://eu.api.ovh.com/createToken/). \n\n* This CLI will first look for direct instanciation parameters then `OVH_ENDPOINT`, `OVH_APPLICATION_KEY`, `OVH_APPLICATION_SECRET` and `OVH_CONSUMER_KEY` environment variables. If either of these parameter is not provided, it will look for a configuration file of the form:\n\n```\n[default]\n; general configuration: default endpoint\nendpoint=ovh-eu\n\n[ovh-eu]\n; configuration specific to \'ovh-eu\' endpoint\napplication_key=my_app_key\napplication_secret=my_application_secret\nconsumer_key=my_consumer_key\n```\n\n* The CLI will successively attempt to locate this configuration file in\n\n    * Current working directory: `./ovh.conf`\n    * Current user\'s home directory `~/.ovh.conf`\n    * System wide configuration `/etc/ovh.conf`\n\n* If you point your browser to http://localhost:3000, you should be able to see your projects:\n\n<p align="center">\n    <img src="https://s3.eu-west-3.amazonaws.com/komiser-assets/images/dashboard-ovh.png"/>\n</p>\n\n### DigitalOcean\n\n* To generate a personal access token, log in to the [DigitalOcean Control Panel](https://cloud.digitalocean.com/).\n\n* Click the **API** link in the main navigation, In the **Personal access tokens** section, click the **Generate New Token** button.\n\n* Create a *ready-only* scope token. When you click **Generate Token**, your token will be generated.\n\n* Set *DIGITALOCEAN_ACCESS_TOKEN* environment variable:\n\n```\nexport DIGITALOCEAN_ACCESS_TOKEN=<TOKEN>\n```\n\n* If you point your browser to http://localhost:3000, you should be able to see your projects:\n\n<p align="center">\n    <img src="https://s3.eu-west-3.amazonaws.com/komiser-assets/images/dashboard-digitalocean.png"/>\n</p>\n\n## Options\n\n```\nkomiser start [OPTIONS]\n```\n\n```\n   --port value, -p value      Server port (default: 3000)\n   --duration value, -d value  Cache expiration time (default: 30 minutes)\n   --redis value, -r value     Redis server (localhost:6379)\n   --dataset value, -ds value  BigQuery dataset name (project-id.dataset-name.table-name)\n   --multiple, -m              Enable multiple AWS accounts feature\n```\n\n## Configuring Credentials\n\nWhen using the CLI with AWS, you\'ll generally need your AWS credentials to authenticate with AWS services. Komiser supports multiple methods of supporting these credentials. By default the CLI will source credentials automatically from its default credential chain.\n\n* Environment Credentials - Set of environment variables that are useful when sub processes are created for specific roles.\n\n* Shared Credentials file (~/.aws/credentials) - This file stores your credentials based on a profile name and is useful for local development.\n\n* EC2 Instance Role Credentials - Use EC2 Instance Role to assign credentials to application running on an EC2 instance. This removes the need to manage credential files in production.\n\nWhen using the CLI with GCP, Komiser checks to see if the environment variable `GOOGLE_APPLICATION_CREDENTIALS` is set. If not an error occurs.\n\n## Documentation\n\nSee our documentation on [docs.komiser.io](https://docs.komiser.io). The source repository for the documentation website is [komiserio/docs](https://github.com/komiserio/docs).\n\n## Bugs and feature requests\n\nHave a bug or a feature request? Please first read the issue guidelines and search for existing and closed issues. If your problem or idea is not addressed yet, [please open a new issue](https://github.com/mlabouardy/komiser/issues/new).\n\n## Roadmap and contributing\n\nKomiser is written in Golang and is MIT licensed - contributions are welcomed whether that means providing feedback or testing existing and new feature.\n\n## Users\n\nIf you\'d like to have your company represented and are using Komiser please give formal written permission below via a comment on this [thread](https://github.com/mlabouardy/komiser/issues/76) or  via email to contact@komiser.io.\n\nWe will need a URL to a svg or png logo, a text title and a company URL.\n\n## Versioning\n\nWe use [SemVer](http://semver.org/) for versioning. For the versions available, see the [tags on this repository](https://github.com/mlabouardy/komiser/tags). \n\n\n## License\n[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2Fmlabouardy%2Fkomiser.svg?type=large)](https://app.fossa.io/projects/git%2Bgithub.com%2Fmlabouardy%2Fkomiser?ref=badge_large)\n'