b'faas-netes\n===========\n\n[![Go Report Card](https://goreportcard.com/badge/github.com/openfaas/faas-netes)](https://goreportcard.com/report/github.com/openfaas/faas-netes) [![Build Status](https://travis-ci.org/openfaas/faas-netes.svg?branch=master)](https://travis-ci.org/openfaas/faas-netes)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![OpenFaaS](https://img.shields.io/badge/openfaas-serverless-blue.svg)](https://www.openfaas.com)\n\n`faas-netes` is an OpenFaaS provider which enables Kubernetes for [OpenFaaS](https://github.com/openfaas/faas). The existing REST API, CLI and UI are fully compatible.\n\n> OpenFaaS also runs well on managed Kubernetes services like AKS, EKS and GKE. See our list of tutorials in the documentation site for more.\n\n[OpenFaaS (Functions as a Service)](https://github.com/openfaas/faas) is a framework for building serverless functions with Docker and Kubernetes which has first class support for metrics. Any process can be packaged as a function enabling you to consume a range of web events without repetitive boiler-plate coding.\n\n![Stack](https://camo.githubusercontent.com/08bc7c0c4f882ef5eadaed797388b27b1a3ca056/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f4446726b46344e586f41414a774e322e6a7067)\n\nIn this README you\'ll find a technical overview and instructions for deploying to a Kubernetes cluster. \n\n* Platform for deploying [serverless-style workloads](https://docs.openfaas.com/reference/workloads/) - microservices and functions\n* Native Kubernetes integrations (API and ecosystem)\n* Built-in UI portal\n* YAML templates & helm chart\n* Over 19k GitHub stars\n* Independent open-source project with over 240 contributors\n* Operator available to use Custom Resource Definitions (CRDs) [openfaas-operator](https://github.com/openfaas-incubator/openfaas-operator/)\n* OAuth2 / OIDC authz available\n\n## Get started\n\n* Tutorial: [Deploy to Kubernetes with `helm` or YAML](https://docs.openfaas.com/deployment)\n* [Read the blog at openfaas.com](https://www.openfaas.com/blog/)\n* [Join the Slack community](https://docs.openfaas.com/community)\n\nOpenFaaS can form a complete stack for Cloud Native application development called PLONK including: Prometheus, Linux/Linkerd, OpenFaaS, NATS/Nginx and Kubernetes. [Introducing PLONK](https://www.openfaas.com/blog/plonk-stack/).\n\n## Reference guide\n\n### Configuration via Environmental variables\n\nfaas-netes can be configured with environment variables, but for a full set of options see the [helm chart](./chart/openfaas/).\n\n| Option              | Usage                                                                                           |\n|---------------------|-------------------------------------------------------------------------------------------------|\n| `httpProbe`         | Boolean - use http probe type for function readiness and liveness. Default: `false`             |\n| `write_timeout`     | HTTP timeout for writing a response body from your function (in seconds). Default: `60s`        |\n| `read_timeout`      | HTTP timeout for reading the payload from the client caller (in seconds). Default: `60s`        |\n| `image_pull_policy` | Image pull policy for deployed functions (`Always`, `IfNotPresent`, `Never`).  Default: `Always` |\n| `gateway.resources`        | CPU/Memory resources requests/limits (memory: `120Mi`, cpu: `50m`) |\n| `faasnetes.resources`      | CPU/Memory resources requests/limits (memory: `120Mi`, cpu: `50m`) |\n| `operator.resources`       | CPU/Memory resources requests/limits (memory: `120Mi`, cpu: `50m`) |\n| `queueWorker.resources`    | CPU/Memory resources requests/limits (memory: `120Mi`, cpu: `50m`) |\n| `prometheus.resources`     | CPU/Memory resources requests/limits (memory: `512Mi`)             |\n| `alertmanager.resources`   | CPU/Memory resources requests/limits (memory: `25Mi`)              |\n| `nats.resources`           | CPU/Memory resources requests/limits (memory: `120Mi`)             |\n| `faasIdler.resources`      | CPU/Memory resources requests/limits (memory: `64Mi`)              |\n| `basicAuthPlugin.resources`| CPU/Memory resources requests/limits (memory: `50Mi`, cpu: `20m`)  |\n\n### Readiness checking\n\nThe readiness checking for functions assumes you are using our function watchdog which writes a .lock file in the default "tempdir" within a container. To see this in action you can delete the .lock file in a running Pod with `kubectl exec` and the function will be re-scheduled.\n\n### Namespaces\n\nBy default all OpenFaaS functions and services are deployed to the `openfaas` and `openfaas-fn` namespaces. To alter the namespace use the `helm` chart.\n\n### Ingress\n\nTo configure ingress see the `helm` chart. By default NodePorts are used. These are listed in the [deployment guide](https://docs.openfaas.com/deployment).\n\n### Image pull policy\n\nBy default, deployed functions will use an [imagePullPolicy](https://kubernetes.io/docs/concepts/containers/images/#updating-images) of `Always`, which ensures functions using static image tags are refreshed during an update.\nIf this is not desired behavior, set the `image_pull_policy` environment variable to an alternative.  `IfNotPresent` is particularly useful when developing locally with minikube.\nIn this case, you can set your local environment to [use minikube\'s docker](https://kubernetes.io/docs/getting-started-guides/minikube/#reusing-the-docker-daemon) so `faas-cli build` builds directly into minikube\'s image store.\n`faas-cli push` is unnecessary in this workflow - use `faas-cli build` then `faas-cli deploy`.\n\nNote: When set to `Never`, **only** local (or pulled) images will work.  When set to `IfNotPresent`, function deployments may not be updated when using static image tags.\n\n## Kubernetes Versions\n\nfaas-netes maintainers strive to support as many Kubernetes versions as possible and it is currently compatible with Kubernetes 1.11 and higher. Instructions for OpenShift are also available in the documentation.\n\n## Contributing\n\nYou can quickly create a standard development environment using\n\n```sh\nmake start-kind\n```\n\nthis will use [KinD](https://github.com/kubernetes-sigs/kind) to create a single node cluster and install the latest version of OpenFaaS via the Helm chart.\n\nCheck the contributor guide in `CONTRIBUTING.md` for more details on the workflow, processes, and additional tips.\n'