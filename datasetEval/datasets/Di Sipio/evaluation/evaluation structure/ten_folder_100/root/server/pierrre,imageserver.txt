b'# Image Server\nAn image server toolkit in Go (Golang)\n\n[![GoDoc](https://godoc.org/github.com/pierrre/imageserver?status.svg)](https://godoc.org/github.com/pierrre/imageserver)\n[![Build Status](https://travis-ci.org/pierrre/imageserver.svg?branch=master)](https://travis-ci.org/pierrre/imageserver)\n[![Go Report Card](https://goreportcard.com/badge/github.com/pierrre/imageserver)](https://goreportcard.com/report/github.com/pierrre/imageserver)\n\n## Features\n- HTTP server\n- Resize ([GIFT](https://github.com/disintegration/gift), [nfnt resize](https://github.com/nfnt/resize), [Graphicsmagick](http://www.graphicsmagick.org/))\n- Rotate\n- Crop\n- Convert (JPEG, GIF (animated), PNG , BMP, TIFF, ...)\n- Cache ([groupcache](https://github.com/golang/groupcache), [Redis](https://github.com/garyburd/redigo), [Memcache](https://github.com/bradfitz/gomemcache), in memory)\n- Gamma correction\n- Fully modular\n\n## Examples\n- [Simple](https://github.com/pierrre/imageserver/blob/master/examples/simple/simple.go)\n- [Advanced](https://github.com/pierrre/imageserver/blob/master/examples/advanced/advanced.go)\n- [Cache](https://github.com/pierrre/imageserver/blob/master/examples/cache/cache.go)\n- [Groupcache](https://github.com/pierrre/imageserver/blob/master/examples/groupcache/groupcache.go)\n- [HTTP Source](https://github.com/pierrre/imageserver/blob/master/examples/httpsource/httpsource.go)\n- [Mandelbrot](https://github.com/pierrre/mandelbrot/blob/master/examples/httpserver/httpserver.go) ([see interactive demo](https://mandelbrot.pierredurand.fr)) <img src="https://mandelbrot.pierredurand.fr/i?x=0&y=0&z=0" width="32" height="32" />\n\n## Demos\nThese demos use the "advanced" example.\n\n*Click the images to see the URL parameters.*\n\n### Resize\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Options</th>\n\t\t\t<th>Result</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><code>width=200</code><br />(preserve aspect ratio)</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><code>height=200</code><br />(preserve aspect ratio)</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?height=200"><img src="https://imageserver.pierredurand.fr/large.jpg?height=200" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><code>width=200&height=200</code><br />(change aspect ratio)</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&height=200"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&height=200" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><code>width=200&height=200&mode=fit</code><br />(fit in 200x200)</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&height=200&mode=fit"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&height=200&mode=fit" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><code>width=200&height=200&mode=fill</code><br />(fill 200x200 and crop)</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&height=200&mode=fill"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&height=200&mode=fill" /></a></td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n### Rotate\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Options</th>\n\t\t\t<th>Result</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><code>rotation=90</code><br />(counterclockwise)</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?rotation=90&width=200"><img src="https://imageserver.pierredurand.fr/large.jpg?rotation=90&width=200" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><code>rotation=45&background=ffaa88</code><br />(background)</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?rotation=45&background=ffaa88&width=200"><img src="https://imageserver.pierredurand.fr/large.jpg?rotation=45&background=ffaa88&width=200" /></a></td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n### Crop\nFormat: `min_x,min_y|max_x,max_y`\n\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Options</th>\n\t\t\t<th>Result</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><code>crop=556,111|2156,1711</code></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/huge.jpg?crop=556,111|2156,1711&width=200"><img src="https://imageserver.pierredurand.fr/huge.jpg?crop=556,111|2156,1711&width=200" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><code>crop=956,511|1756,1311</code></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/huge.jpg?crop=956,511|1756,1311&width=200"><img src="https://imageserver.pierredurand.fr/huge.jpg?crop=956,511|1756,1311&width=200" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><code>crop=1252,799|1460,1022</code></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/huge.jpg?crop=1252,799|1460,1022"><img src="https://imageserver.pierredurand.fr/huge.jpg?crop=1252,799|1460,1022" /></a></td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\n### Animated GIF\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Original</th>\n\t\t\t<th>Resized</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<th><a href="https://imageserver.pierredurand.fr/animated.gif">Animated</a></th>\n\t\t\t<th><a href="https://imageserver.pierredurand.fr/animated.gif?width=300&height=300&mode=fill"><img src="https://imageserver.pierredurand.fr/animated.gif?width=300&height=300&mode=fill" /></a></th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th><a href="https://imageserver.pierredurand.fr/spaceship.gif">Spaceship</a></th>\n\t\t\t<th><a href="https://imageserver.pierredurand.fr/spaceship.gif?width=300"><img src="https://imageserver.pierredurand.fr/spaceship.gif?width=300" /></a></th>\n\t\t</tr>\n\t</tbody>\n</table>\n\n### Gamma correction ([more info](http://www.ericbrasseur.org/gamma.html))\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Original</th>\n\t\t\t<th>Disabled</th>\n\t\t\t<th>Enabled</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/dalai_gamma.jpg">Dalai Gamma</a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/dalai_gamma.jpg?width=200&gamma_correction=false"><img src="https://imageserver.pierredurand.fr/dalai_gamma.jpg?width=200&gamma_correction=false" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/dalai_gamma.jpg?width=200&gamma_correction=true"><img src="https://imageserver.pierredurand.fr/dalai_gamma.jpg?width=200&gamma_correction=true" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/gray_squares.jpg">Gray squares</a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/gray_squares.jpg?width=200&gamma_correction=false"><img src="https://imageserver.pierredurand.fr/gray_squares.jpg?width=200&gamma_correction=false" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/gray_squares.jpg?width=200&gamma_correction=true"><img src="https://imageserver.pierredurand.fr/gray_squares.jpg?width=200&gamma_correction=true" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/random.png">Random</a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/random.png?width=200&gamma_correction=false"><img src="https://imageserver.pierredurand.fr/random.png?width=200&gamma_correction=false" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/random.png?width=200&gamma_correction=true"><img src="https://imageserver.pierredurand.fr/random.png?width=200&gamma_correction=true" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png">Rings</a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png?width=200&gamma_correction=false"><img src="https://imageserver.pierredurand.fr/rings.png?width=200&gamma_correction=false" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png?width=200&gamma_correction=true"><img src="https://imageserver.pierredurand.fr/rings.png?width=200&gamma_correction=true" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rules_sucks.png">Rules / sucks</a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rules_sucks.png?width=200&gamma_correction=false"><img src="https://imageserver.pierredurand.fr/rules_sucks.png?width=200&gamma_correction=false" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rules_sucks.png?width=200&gamma_correction=true"><img src="https://imageserver.pierredurand.fr/rules_sucks.png?width=200&gamma_correction=true" /></a></td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n### Resampling\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Resampling</th>\n\t\t\t<th><a href="https://imageserver.pierredurand.fr/rings.png">Rings</a></th>\n\t\t\t<th><a href="https://imageserver.pierredurand.fr/large.jpg">Large</a></th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>Nearest neighbor</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=nearest_neighbor&format=png"><img src="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=nearest_neighbor&format=png" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=nearest_neighbor&format=png"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=nearest_neighbor&format=png" width="400" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Box</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=box&format=png"><img src="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=box&format=png" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=box&format=png"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=box&format=png" width="400" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Linear</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=linear&format=png"><img src="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=linear&format=png" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=linear&format=png"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=linear&format=png" width="400" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Cubic</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=cubic&format=png"><img src="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=cubic&format=png" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=cubic&format=png"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=cubic&format=png" width="400" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Lanczos</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=lanczos&format=png"><img src="https://imageserver.pierredurand.fr/rings.png?width=200&resampling=lanczos&format=png" /></a></td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=lanczos&format=png"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&resampling=lanczos&format=png" width="400" /></a></td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n### Quality\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>JPEG quality</th>\n\t\t\t<th>Result</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>5%</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/medium.jpg?width=200&quality=5"><img src="https://imageserver.pierredurand.fr/medium.jpg?width=200&quality=5" width="400" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>10%</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/medium.jpg?width=200&quality=10"><img src="https://imageserver.pierredurand.fr/medium.jpg?width=200&quality=10" width="400" /></a></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>50%</td>\n\t\t\t<td><a href="https://imageserver.pierredurand.fr/medium.jpg?width=200&quality=50"><img src="https://imageserver.pierredurand.fr/medium.jpg?width=200&quality=50" width="400" /></a></td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n### Convert (JPEG to GIF)\n<a href="https://imageserver.pierredurand.fr/large.jpg?width=200&format=gif"><img src="https://imageserver.pierredurand.fr/large.jpg?width=200&format=gif" width="600" /></a>\n\n## Backward compatibility\nThere is no backward compatibility promises.\nIf you want to use it, vendor it.\nIt\'s always OK to change things to make things better.\nThe API is not 100% correct in the first commit.\n'