b'[![](https://jitpack.io/v/consenlabs/token-core-android.svg)](https://jitpack.io/#consenlabs/token-core-android)\n\n\n## Token Core\nTokenCore is a blockchain library. TokenCore provides the relatively consistent API that allows you to manage your wallets and sign transactions in BTC, ETH and EOS chains simultaneously.\nIn addition, TokenCore introduces the concept of \'identity\', you can use the same mnemonic to manage wallets on the three chains.\n\n## Installation\n\nStep 1. Add the JitPack repository to your build file\nAdd it in your root build.gradle at the end of repositories:\n```groovy\n\tallprojects {\n\t\trepositories {\n\t\t\t...\n\t\t\tmaven { url \'https://jitpack.io\' }\n\t\t}\n\t}\n```\n\nStep 2. Add the dependency\n```\ndependencies {\n\timplementation \'com.github.consenlabs:token-core-android:v0.1\'\n}\n```\n\nStep 3. Add the JAVA8 support to your build.gradle\n```\nandroid {\n    \xe2\x80\xa6\xe2\x80\xa6\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n   \xe2\x80\xa6\xe2\x80\xa6\n}\n```\n\nStep 4. (Optional) When you wants to debug your app in Android Oreo you shoud add the blow code to your build.gradle. Pls ref to https://issuetracker.google.com/issues/65941637 for more info.\n```\nandroid {\n    \xe2\x80\xa6\xe2\x80\xa6\n    packagingOptions {\n        exclude \'lib/x86_64/darwin/libscrypt.dylib\'\n    }\n   \xe2\x80\xa6\xe2\x80\xa6\n}\n```\n## Try the API\n### Init the storage to store the keystore file\n```\npublic class MainActivity extends AppCompatActivity implements KeystoreStorage {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        WalletManager.storage = this;\n        WalletManager.scanWallets();\n    }\n\n    public File getKeystoreDir() {\n        return this.getFilesDir();\n    }\n}\n```\n\n### Create new Identity and derive the eth, btc wallets\n```java\n// You should create or recover Identity first before you create other wallets\n// The last param, Metadata.P2WPKH means that the derived btc wallet is a SegWit wallet\nIdentity identity = Identity.createIdentity("MyFirstIdentity", SampleKey.PASSWORD, SampleKey.PASSWORD_HINT, Network.MAINNET, Metadata.P2WPKH);\n\n\nWallet ethereumWallet = identity.getWallets().get(0);\nWallet bitcoinWallet = identity.getWallets().get(1);\n```\n### Export Wallet\n```java\n\nString prvKey = WalletManager.exportPrivateKey(ethereumWallet.getId(), SampleKey.PASSWORD);\nSystem.out.println(String.format("PrivateKey: %s", prvKey));\nString mnemonic = WalletManager.exportMnemonic(ethereumWallet.getId(), SampleKey.PASSWORD).getMnemonic();\nSystem.out.println(String.format("Mnemonic: %s", mnemonic));\nString json = WalletManager.exportKeystore(ethereumWallet.getId(), SampleKey.PASSWORD);\nSystem.out.println(String.format("Keystore: %s", json));\n\n// output:\n// PrivateKey: f653be3f639f45ea1ed3eb152829b6d881ce62257aa873891e06fa9569a8d9aa\n// Mnemonic: tide inmate cloud around wise bargain celery cement jungle melody galaxy grocery\n// Keystore: {"id":"c7575eba-3ae3-4cc3-86ba-2eb9c6839cad","version":3,"crypto":{"ciphertext":"7083ba3dd5470ba4be4237604625e05fa6b668954d270beb848365cbf6933ec5","mac":"f4f9ea8d42ff348b11fc146c396da446cc975309b3538e08a58c0b218bddd15d","cipher":"aes-128-ctr","cipherparams":{"iv":"db3f523faf4da4f1c6edcd7bc1386879"},"kdf":"pbkdf2","kdfparams":{"dklen":32,"c":10240,"prf":"hmac-sha256","salt":"0ce830e9f888dfe33c31e6cfc444d6f588161c9d4128d4066ee5dfdcbc5d0079"}},"address":"4a1c2072ac67b616e5c578fd9e2a4d30e0158471"}\n```\n\n### SignTransaction\n```java\nEthereumTransaction tran = new EthereumTransaction(BigInteger nonce, BigInteger gasPrice, BigInteger gasLimit, String to, BigInteger value, String data)\nTxSignResult result = tran.signTransaction(chainId, SampleKey.PASSWORD, ethereumWallet);\nString signedTx = result.getSignedTx(); // This is the signature result which you need to broadcast.\nString txHash = result.getTxHash(); // This is txHash which you can use for locating your transaction record\n```\n\n## Copyright and License\n\n```\n  Copyright 2018 imToken PTE. LTD.\n\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n```\n\n## Thanks and more info\nThanks bitcoinj, CoreBitcoin and others library.\n'