b'[![GitHub issues](https://img.shields.io/github/issues/HerikLyma/CPPWebFramework.svg)](https://github.com/HerikLyma/CPPWebFramework/issues)\r\n[![Travis-CI](https://travis-ci.org/HerikLyma/CPPWebFramework.svg?branch=master)](https://travis-ci.org/HerikLyma/CPPWebFramework)\r\n[![Build status](https://ci.appveyor.com/api/projects/status/d8u7th2wl1qro6m2?svg=true)](https://ci.appveyor.com/project/HerikLyma/cppwebframework)\r\n[![Codacy Badge](https://api.codacy.com/project/badge/Grade/8b818182369744f0af42a52785f7b5fe)](https://www.codacy.com/app/HerikLyma/CPPWebFramework?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=HerikLyma/CPPWebFramework&amp;utm_campaign=Badge_Grade)\r\n[![Language (C++)](https://img.shields.io/badge/powered_by-C++-green.svg?style=flat-square)](https://isocpp.org/)\r\n[![license](https://img.shields.io/github/license/mashape/apistatus.svg)](https://github.com/HerikLyma/CPPWebFramework/blob/master/LICENSE.txt)\r\n\r\n\r\n# C++ Web Framework (CWF)\r\n\r\n\r\n\r\n\xe2\x80\x8bThe C++ Web Framework (CWF) is a MVC web framework, Open Source, under <a href="https://github.com/HerikLyma/CPPWebFramework/blob/master/LICENSE.txt">MIT License</a>, using C++ with Qt to be used in the development of web applications. The CWF was designed to consume few computational resources, such as memory and processing, and have a low response time for requests. \r\nWith MVC (Model-View-Controller) architecture, where you can create classes to take care of the business layer (Model), use CSTL (C++ Server Pages Standard Tag Library) within the Web Pages \r\nto take care of data presentation (View) and use the controllers as a between the two layers (Controller). The CWF had inspirations in Java Servlets, JSTL and Spring Framework.\r\n\r\n\xe2\x80\x8b\r\nBecause it is created in Qt, the C++ Web Framework can run on the same platforms supported by Qt:\r\n\r\n<ul>\r\n    <li><b>Desktop:</b> Linux, OS X, Windows</li>\r\n    <li><b>Embedded and RTOS:</b> Linux, QNX, VxWorks, Windows</li>\r\n    <li><b>Mobile:</b> Android, iOS, Windows</li>\r\n</ul>\r\n\r\n\r\nThe CWF has only one configuration file, called CPPWeb.ini and a policy of using only C++ and Qt in the development of its components in order to avoid the installation of numerous libraries and conflicts, maintain multiplatform characteristics, facilitate installation and keep the learning curve low in order to make web development as simple as possible, even for beginners.\r\n\r\n\r\n\r\n<hr/><b>Hello World - Example</b></br></br>\r\n\r\n```cpp\r\n#include "cppwebapplication.h"\r\n\r\nclass HelloWorldController : public CWF::Controller\r\n{\r\npublic:\r\n    void doGet(CWF::Request &request, CWF::Response &response) const override\r\n    {\r\n        response.write("<html><body>Hello World!</body></html>");\r\n    }\r\n};\r\n\r\n//Call\r\n//http://localhost:8080/hello\r\nint main(int argc, char *argv[])\r\n{\r\n    CWF::CppWebApplication server(argc, argv, "/PATH_TO_EXAMPLE/server/");\r\n    server.addController<HelloWorldController>("/hello");\r\n    return server.start();\r\n}\r\n```\r\n\r\n<hr/><b>MVC (Model-View-Controller) - Example</b></br></br>\r\n\r\n```cpp\r\n//hellomodel.h (Model)\r\n#include <QObject>\r\n\r\nclass HelloModel : public QObject\r\n{\r\n    Q_OBJECT\r\npublic slots:\r\n    QString greeting() const\r\n    {\r\n        return "Hello User!";\r\n    }\r\n};\r\n\r\n//helloview.view (View)\r\n<html>\r\n    <head>\r\n        <title>Hello</title>\r\n    </head>\r\n    <body>\r\n        <out value="#{model.greeting}"/>\r\n    </body>\r\n</html>\r\n\r\n//hellocontroller.h (Controller)\r\n#include <cwf/controller.h>\r\n#include <model/hellomodel.h>\r\n\r\nclass HelloController : public CWF::Controller\r\n{\r\npublic:\r\n    void doGet(CWF::Request &request, CWF::Response &response) const override\r\n    {\r\n        HelloModel model;\r\n        request.addAttribute("model", &model);\r\n        request.getRequestDispatcher("/pages/helloview.view").forward(request, response);\r\n    }\r\n};\r\n\r\n//main.cpp\r\n#include <cwf/cppwebapplication.h>\r\n#include <controller/hellocontroller.h>\r\n\r\n//Call\r\n//http://localhost:8080/hello\r\nint main(int argc, char *argv[])\r\n{\r\n    CWF::CppWebApplication server(argc, argv, "/PATH_TO_EXAMPLE/server/");\r\n    server.addController<HelloController>("/hello");\r\n    return server.start();\r\n}\r\n```\r\n\r\n<hr/><b>REST Web Service - Example</b></br></br>\r\n\r\n```cpp\r\n#include <cwf/sqlquery.h>\r\n#include <cwf/cppwebapplication.h>\r\n#include <cwf/sqldatabasestorage.h>\r\n\r\n/* \r\n * SQL Script\r\n * create table countries (co_id serial primary key, co_name varchar unique);\r\n * insert into countries (co_name) values (\'BRAZIL\'), (\'UNITED STATES OF AMERICA\'), (\'CANADA\');\r\n */\r\n\r\nCWF::SqlDatabaseStorage storage("QPSQL", "localhost", "postgres", "postgres", "1234", 5432);\r\n\r\nclass CountriesController : public CWF::Controller\r\n{\r\npublic:\r\n    void doGet(CWF::Request &request, CWF::Response &response) const override\r\n    {\r\n        CWF::SqlQuery qry(storage);\r\n        qry.exec("select * from countries");\r\n        response.write(qry.toJson());\r\n    }\r\n};\r\n\r\n//Call\r\n//http://localhost:8080/countries\r\nint main(int argc, char *argv[])\r\n{\r\n    CWF::CppWebApplication server(argc, argv, "/PATH_TO_EXAMPLE/server/");\r\n    server.addController<CountriesController>("/countries");\r\n    return server.start();\r\n}\r\n```\r\n\r\n<hr/><b>ORM (Object Relational Mapper) - Experimental - Example</b></br></br>\r\n\r\n```cpp\r\n#include <usermodel.h>\r\n#include <cwf/cppwebapplication.h>\r\n#include <cwf/sqldatabasestorage.h>\r\n/*\r\n* ORM (Experimental) - Tested only on PostgreSQL\r\n*/\r\nCWF::SqlDatabaseStorage conexao("QPSQL", "localhost", "postgres", "postgres", "1234", 5432);\r\n\r\nclass ORMController : public CWF::Controller\r\n{\r\npublic:\r\n    void doGet(CWF::Request &request, CWF::Response &response) const override\r\n    {\r\n        UserModel user{conexao};\r\n        user.setName("Herik Lima");\r\n        user.setPhone("+55 11 9 99999-0000");\r\n        user.setCountry("Brazil");\r\n        user.setState("S\xc3\xa3o Paulo");\r\n        response.write(QByteArray("<html><body>") + (user.save() ? "Saved" : "Error") + "</body></html>");\r\n    }\r\n};\r\n//Call\r\n//http://localhost:8080/orm\r\nint main(int argc, char *argv[])\r\n{        \r\n    CWF::CppWebApplication server(argc, argv, "/home/herik/CPPWebFramework/examples/ORM/server");\r\n    UserModel{conexao}.updateDB();//Create or update the table in database\r\n    server.addController<ORMController>("/orm");\r\n    return server.start();\r\n}\r\n\r\n//usermodel.h\r\n#ifndef USERMODEL_H\r\n#define USERMODEL_H\r\n\r\n#include <cwf/model.h>\r\n\r\nclass UserModel : public CWF::Model\r\n{\r\n    Q_OBJECT\r\n    Q_PROPERTY(QString name READ getName WRITE setName)\r\n    Q_PROPERTY(QString phone READ getPhone WRITE setPhone)\r\n    Q_PROPERTY(QString country READ getCountry WRITE setCountry)\r\n    Q_PROPERTY(QString state READ getState WRITE setState)\r\n    QString name;\r\n    QString phone;\r\n    QString country;\r\n    QString state;\r\npublic:\r\n    explicit UserModel(CWF::SqlDatabaseStorage &connection) : CWF::Model(connection, "usuario") {}\r\npublic slots:\r\n    QString getName() const { return name; }\r\n    void setName(const QString &value) { name = value; }\r\n    QString getPhone() const { return phone; }\r\n    void setPhone(const QString &value) { phone = value; }\r\n    QString getCountry() const { return country; }\r\n    void setCountry(const QString &value) { country = value; }\r\n    QString getState() const { return state; }\r\n    void setState(const QString &value) { state = value; }\r\n};\r\n\r\n#endif // USERMODEL_H\r\n\r\n```\r\n\r\n\r\n</br><hr/><b>Installation</b></br>\r\n<ol>\r\n    <li>Download and install Qt 5.9 or higher: https://www.qt.io/download-open-source/</li>\r\n    <li>Open the terminal</li>\r\n    <li>Install Qt Libraries: sudo apt-get install qt5-default (Linux)</li>\r\n    <li>Make a project clone: git clone https://github.com/HerikLyma/CPPWebFramework.git</li>\r\n    <li>cd CPPWebFramework/CPPWebFramework</li>\r\n    <li>qmake CPPWebFramework.pro</li>\r\n    <li>make</li>\r\n    <li>make install (use sudo on Linux)</li>\r\n</ol><hr/>\r\n\r\n<b>jemalloc optional installation (recommended)</b></br>\r\n<ol>\r\n    <li>Install jemalloc: sudo apt-get install libjemalloc-dev (linux)</li>\r\n    <li>Enable jemalloc in the .pro file: LIBS += -ljemalloc</li>\r\n</ol><hr/>\r\n\r\n<b>Steps to test the C++ Web Framework\'s examples</b></br>\r\n<ol>\r\n    <li>Open a .pro file from an example using Qt Creator</li>\r\n    <li>Change the path in the main.cpp file: CWF::CppWebApplication a(argc, argv, "/PATH_TO_EXAMPLE/server/");</li>\r\n    <li>Run the project</li>\r\n    <li>Open your browser and type: http://localhost:8080 to check if the server is online</li>\r\n</ol><hr/>\r\n\r\n<b>Steps to test the C++ Web Framework\'s HelloWorldDocker example with Docker containers</b></br>\r\n<ol>\r\n    <li>Install Docker</li>\r\n    <li>sudo docker run -d -p 80:80 imacellone/cwf-helloworld:1.0</li>\r\n    <li>Open your browser and type: http://localhost to check if the server is online</li>\r\n    <li>If you want to test your own examples, please follow the steps demonstrated on the CPPWebFramework/examples/helloworld.Dockerfile file, build and run the image.</li>\r\n</ol>\r\n<hr/><b>Site and documentation:</b> https://www.cppwebframework.com <br>\r\n<b>cppwebframework mailing list:</b> https://groups.google.com/forum/#!forum/cppwebframework <br>\r\n<b>Videos:</b> https://www.youtube.com/channel/UCf-Jt44A1k-PQ6z_mhN2GYQ\r\n'