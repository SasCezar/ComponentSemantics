b'<p>\n    <a href="https://restheart.org">\n        <img src="https://restheart.org/images/rh.png" width="400px" height="auto" class="image-center img-responsive" alt="RESTHeart - REST API Microservice for MongoDB"/>\n    </a>\n</p>\n\n# RESTHeart - REST API Microservice for MongoDB. #\n\n[![Build Status](https://travis-ci.org/SoftInstigate/restheart.svg?branch=master)](https://travis-ci.org/SoftInstigate/restheart)\n[![Maven Central](https://img.shields.io/maven-central/v/org.restheart/restheart.svg?label=Maven%20Central)](https://search.maven.org/search?q=g:%22org.restheart%22%20AND%20a:%22restheart%22)\n[![Docker Stars](https://img.shields.io/docker/stars/softinstigate/restheart.svg?maxAge=2592000)](https://hub.docker.com/r/softinstigate/restheart/)\n[![Docker Pulls](https://img.shields.io/docker/pulls/softinstigate/restheart.svg?maxAge=2592000)](https://hub.docker.com/r/softinstigate/restheart/)\n[![Join the chat at https://gitter.im/SoftInstigate/restheart](https://badges.gitter.im/SoftInstigate/restheart.svg)](https://gitter.im/SoftInstigate/restheart?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n\n## Table of Contents\n\n- [Summary](#summary)\n- [Run with Docker](#run-with-docker)\n- [Run manually](#run-manually)\n- [Tutorial](#tutorial)\n- [How to Build](#how-to-Build)\n- [Integration Tests](#integration-tests)\n- [Maven Dependencies](#maven-dependencies)\n  - [Snapshot Builds](#snapshot-builds)\n  - [Maven Site](#maven-Site)\n- [Continuous Integration](#continuous-integration)\n- [Full documentation](#full-documentation)\n- [Book a chat](#book-a-chat)\n\n<p align="center">\n   <a href="https://restheart.org">\n       <img src="https://restheart.org/images/restheart-what-is-it.svg" width="800px" height="auto" class="image-center img-responsive" />\n   </a>\n</p>\n\n## Summary\n\nRESTHeart is a REST API Microservice for MongoDB.\n\nRESTHeart connects to __MongoDB__ and opens its data to the Web. Clients, such as mobile and JavaScript apps, can access the database via a simple __API__ based on __JSON__ messages.\n\nWith RESTHeart teams can focus on building Angular, React, Vue, iOS or Android applications, because most of the server-side logic usually necessary for CRUD (Create, Read, Update, Delete) operations is automatically handled, without the need to write any code except for the client logic.\n\nFor example, to insert data in MongoDB developers model client-side JSON documents and then execute POST operations via HTTP to RESTHeart: no more need to deal with complicated server-side code and database drivers in Java, JavaScript, PHP, Ruby, Python, etc.\n\nFor these reasons, RESTHeart is widely used by freelancers, Web agencies and System Integrators with deadlines, because it allows them to focus on the most creative parts of their work.\n\nFor more ideas have a look at the collection of common [use cases](https://restheart.org/use-cases/).\n\nStarting from RESTHeart v4, security is handled by [restheart-security](https://github.com/SoftInstigate/restheart-security), which is a __reverse proxy microservice__ for HTTP resources, providing __Authentication__ and __Authorization__ services. \n\n> The commercial **RESTHeart Platform** provides a simpler and more powerful setup and configuration process. It also comes with support plans and enterprise-level additional features, such as:\n>\n> - [Transactions](https://restheart.org/docs/transactions/)\n> - [Change Streams](https://restheart.org/docs/change-streams) \n> - [JWT Authentication](https://restheart.org/docs/security/authentication/#jwt-authentication)\n> - [RESTHeart Authenticator](https://restheart.org/docs/security/authentication/#restheart-authenticator) with users defined in the database\n> - [RESTHeart Authorizer](https://restheart.org/docs/security/authorization/#restheart-authorizer) with ACL defined in the database and role-based data filter capabilities\n>\n> Download it with a 30 days free trial license from [https://restheart.org/get](https://restheart.org/get)\n>\n> Check the [editions matrix](https://restheart.org/editions) for more information.\n\n## Run with Docker\n\n### Prerequisites\n\nYou need Docker v1.13 and later.\n\nCan\'t use Docker? Check [Run without Docker](#run-manually)\n\n### Run the full stack\n\nThis runs a full stack comprising restheart-security, restheart and MongoDb using `docker-compose`\n\n```bash\n$ curl https://raw.githubusercontent.com/SoftInstigate/restheart/master/docker-compose.yml --output docker-compose.yml\n\n$ docker-compose up -d\n```\n\n### Default users and ACL\n\nThe default `users.yml` defines the following users:\n\n- id: \'admin\', password: \'secret\', role: \'admin\'\n- id: \'user\', password: \'secret\', role: \'user\'\n\nThe default `acl.yml` defines the following permission:\n\n- *admin* role can execute any request\n- *user* role can execute any request on collection `/{username}`\n\n> __WARNING__ You must update the passwords! See [Configuration](#configuration) for more information on how to override the default `users.yml` configuration file.\n\n### Check that everything works\n\n```bash\n# create database \'restheart\'\n$ curl --user admin:secret -I -X PUT :8080/\nHTTP/1.1 201 OK\n\n# create collection \'restheart.collection\'\n$ curl --user admin:secret -I -X PUT :8080/collection\nHTTP/1.1 201 OK\n\n# create a couple of documents\n$ curl --user admin:secret -X POST :8080/collection -d \'{"a":1}\' -H "Content-Type: application/json" \n$ curl --user admin:secret -X POST :8080/collection -d \'{"a":2}\' -H "Content-Type: application/json" \n\n# get documents\n$ curl --user admin:secret :8080/collection\n[{"_id":{"$oid":"5dd3cfb2fe3c18a7834121d3"},"a":1,"_etag":{"$oid":"5dd3cfb2439f805aea9d5130"}},{"_id":{"$oid":"5dd3cfb0fe3c18a7834121d1"},"a":2,"_etag":{"$oid":"5dd3cfb0439f805aea9d512f"}}]%\n```\n\n### Configuration\n\nThe following configuration files can be overwritten, by uncommenting the volumes sections in `docker-compose.yml`:\n\n- [restheart.yml](https://raw.githubusercontent.com/SoftInstigate/restheart/master/etc/restheart.yml)\n- [config.properties](https://raw.githubusercontent.com/SoftInstigate/restheart/master/Docker/etc/config.properties)\n- [restheart-security.yml](https://raw.githubusercontent.com/SoftInstigate/restheart-security/master/etc/restheart-security.yml)\n- [config-security.properties](https://raw.githubusercontent.com/SoftInstigate/restheart-security/master/Docker/etc/default-security.properties)\n- [users.yml](https://raw.githubusercontent.com/SoftInstigate/restheart-security/master/etc/users.yml)\n- [acl.yml](https://raw.githubusercontent.com/SoftInstigate/restheart-security/master/etc/acl.yml)\n\nFor instance, in order to overwrite the `users.yml` file, create the file `etc/users.yml` and uncomment the the volumes property of the restheart-security service:\n\n```properties\n    # uncomment to overwrite the configuration files   \n    volumes:\n    #    - ./etc/restheart-security.yml:/opt/restheart/etc/restheart-security.yml:ro\n    #    - ./etc/default-security.properties:/opt/restheart/etc/default-security.properties:ro\n    - ./etc/users.yml:/opt/restheart/etc/users.yml:ro\n    #    - ./etc/acl.yml:/opt/restheart/etc/acl.yml:ro\n```\n\n## Run manually\n\n### Prerequisites\n\nYou need:\n- Java v11+;\n- MongoDB running on `localhost` on port `27017`.\n\nFor more information on how to install and run MongoDB check [install tutorial](https://docs.mongodb.com/manual/installation/#mongodb-community-edition-installation-tutorials) and [manage mongodb](https://docs.mongodb.com/manual/tutorial/manage-mongodb-processes/) on MongoDB documentation.\n\n### Get the latest releases of restheart and restheart-security\n\nDownload the latest releases of *restheart* and *restheart-security* from the following links:\n\n- [download restheart](https://github.com/SoftInstigate/restheart/releases/latest)\n- [download restheart-security](https://github.com/SoftInstigate/restheart-security/releases/latest)\n\nDepending on the packages you downloaded, unzip or untar them: \n\n```bash\n$ unzip restheart-<version>.zip\n$ unzip restheart-security-<version>.zip\n```\n\nor:\n\n```bash\n$ tar -xzf restheart-<version>.tar.gz\n$ tar -xzf restheart-security-<version>.tar.gz\n```\n\n### Start restheart with security\n\nYou need to run both `restheart` and `restheart-security` processes with their *default* configurations.\n\n#### Run *restheart*\n\n```bash\n$ cd restheart-<version>\n\n$ java -jar restheart.jar etc/restheart.yml -e etc/default.properties\n```\n\nBy default RESTHeart only mounts the database `restheart`. This is controlled by the `root-mongo-resource` in the `restheart/etc/default.properties` file\n\n```properties\n# The MongoDb resource to bind to the root URI / \n# The format is /db[/coll[/docid]] or \'*\' to expose all dbs\nroot-mongo-resource = /restheart\n```\n\n> It means that the root resource `/` is bound to the `/restheart` database. This database doesn\'t actually exist until you explicitly create it by issuing a `PUT /` HTTP command.\n\n#### Run *restheart-security*\n\n```bash\n$ cd restheart-security-<version>\n\n$ java -jar restheart-security.jar etc/restheart-security.yml -e etc/default.properties\n```\n \n__NOTE__: for security reasons RESTHeart Security by default only binds on `localhost`, so it won\'t be reachable from external systems unless you edit the configuration. To accept connections from everywhere, you must set the http listener in the `restheart-security/etc/default.properties` file to bind to `0.0.0.0` like this:\n\n```properties\nhttp-listener = 0.0.0.0\n```\n\n### Start restheart without security (standalone mode)\n\n```bash\n$ cd restheart\n\n$ java -jar restheart.jar etc/restheart.yml -e etc/standalone.properties\n```\n\n`restheart` will start bound on HTTP port `8080`. \n\n### Configuration\n\nThe configuration and properties files are in the `etc` directory  of `restheart` and `restheart-security`.\n\nRefer to the configuration files for inline documentation:\n\n- [restheart.yml](https://github.com/SoftInstigate/restheart/blob/master/etc/restheart.yml)\n- [restheart-security.yml](https://github.com/SoftInstigate/restheart-security/blob/master/etc/restheart-security.yml)\n\nBeware that you must restart `restheart` to reload the new configuration.\n\n## Tutorial\n\nFor a quick introduction refer to the [tutorial](https://restheart.org/docs/tutorial/) on the RESTHeart Platform documentation.\n\n## How to Build\n\n> Building RESTHeart requires [Maven](http://www.oracle.com/technetwork/java/javase/downloads/index.html) and Java 11 or later.\n\nBuild the project with Maven:\n\n```bash\n$ mvn clean package\n```\n\n## Integration Tests\n\nTo run the integration test suite, first make sure that __mongod is running__ on `localhost`, on default port `27017` and without authentication enabled \xe2\x80\x94 i.e. no `--auth` option is specified.\n\n```bash\n$ mvn verify -DskipITs=false\n```\n\nAlternatively, if you have Docker, execute the following script:\n\n```bash\n$ ./bin/integration-tests.sh \n```\n    \nThe script starts a Docker container running MongoDB and then execute the integration tests with Maven. It will clean-up the container at the end.\n\n## Maven Dependencies\n\nRESTHeart\'s releases are available on [Maven Central](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.restheart%22).\n\nStable releases are available at:\n\nhttps://oss.sonatype.org/content/repositories/releases/org/restheart/restheart/\n\nIf you want to embed RESTHeart in your project, add the dependency to your POM file:\n\n```xml\n<dependencies>\n    <dependency>\n        <groupId>org.restheart</groupId>\n        <artifactId>restheart</artifactId>\n        <version>4.1.3</version>\n    </dependency>\n</dependencies>\n```\n\n### Snapshot Builds\n\nSnapshots are available at [Sonatype](https://oss.sonatype.org/content/repositories/snapshots/org/restheart/restheart/). If you want to build your project against a development release, first add the SNAPSHOT repository:\n\n\n```xml\n<repositories>\n    <repository>\n        <id>restheart-mvn-repo</id>\n        <url>https://oss.sonatype.org/content/repositories/snapshots</url>\n        <snapshots>\n            <enabled>true</enabled>\n            <updatePolicy>always</updatePolicy>\n        </snapshots>\n    </repository>\n</repositories>\n ```\n\nThen include the SNAPSHOT dependency in your POM:\n\n```xml\n<dependencies>\n    <dependency>\n        <groupId>org.restheart</groupId>\n        <artifactId>restheart</artifactId>\n        <version>4.1.4-SNAPSHOT</version>\n    </dependency>\n</dependencies>\n```\n\n### Maven Site\n\nAn automatically generated Maven Site for each build of the `master` branch is available at: http://softinstigate.github.io/restheart/\n\n## Continuous Integration\n\nWe continually integrate and deploy development releases to Maven Central with [Travis-CI](https://travis-ci.org/SoftInstigate/restheart).\n\nRESTHeart\'s public Docker images are also automatically built and pushed to [Docker Hub](https://hub.docker.com/r/softinstigate/restheart/). The `latest` tag for Docker images refers to the most recent SNAPSHOT release on the `master` branch.\n\n## Full documentation\n\nFor more information, read the [documentation](http://restheart.org/docs/).\n\n## Book a chat\n\nIf you have any question about RESTHeart and want to talk directly with the core development team, you can [book a free video chat](https://calendly.com/restheart/restheart-free-chat) with us.\n\n<hr></hr>\n\n_Made with :heart: by [SoftInstigate](http://www.softinstigate.com/). Follow us on [Twitter](https://twitter.com/softinstigate)_.\n'