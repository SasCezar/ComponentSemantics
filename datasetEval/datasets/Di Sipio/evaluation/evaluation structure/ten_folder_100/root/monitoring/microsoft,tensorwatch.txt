b'# Welcome to TensorWatch\r\n\r\nTensorWatch is a debugging and visualization tool designed for data science, deep learning and reinforcement learning from Microsoft Research. It works in Jupyter Notebook to show real-time visualizations of your machine learning training and perform several other key analysis tasks for your models and data. \r\n\r\nTensorWatch is designed to be flexible and extensible so you can also build your own custom visualizations, UIs, and dashboards. Besides traditional "what-you-see-is-what-you-log" approach, it also has a unique capability to execute arbitrary queries against your live ML training process, return a stream as a result of the query and view this stream using your choice of a visualizer (we call this [Lazy Logging Mode](#lazy-logging-mode])).\r\n\r\nTensorWatch is under heavy development with a goal of providing a platform for debugging machine learning in one easy to use, extensible, and hackable package.\r\n\r\n<img src="docs/images/teaser.gif" alt="TensorWatch in Jupyter Notebook" width="400"/>\r\n\r\n## How to Get It\r\n\r\n```\r\npip install tensorwatch\r\n```\r\n\r\nTensorWatch supports Python 3.x and is tested with PyTorch 0.4-1.x. Most features should also work with TensorFlow eager tensors.\r\n\r\n## How to Use It\r\n\r\n### Quick Start\r\n\r\nHere\'s simple code that logs an integer and its square as a tuple every second to TensorWatch:\r\n```\r\nimport tensorwatch as tw\r\nimport time\r\n\r\n# streams will be stored in test.log file\r\nw = tw.Watcher(filename=\'test.log\')\r\n\r\n# create a stream for logging\r\ns = w.create_stream(name=\'metric1\')\r\n\r\n# generate Jupyter Notebook to view real-time streams\r\nw.make_notebook()\r\n\r\nfor i in range(1000):\r\n    # write x,y pair we want to log\r\n    s.write((i, i*i)) \r\n\r\n    time.sleep(1)\r\n```\r\nWhen you run this code, you will notice a Jupyter Notebook file `test.ipynb` gets created in your script folder. From a command prompt type `jupyter notebook` and select `test.ipynb`. Choose *Cell > Run all* in the menu to see the real-time line graph as values get written in your script.\r\n\r\nHere\'s the output you will see in Jupyter Notebook:\r\n\r\n<img src="docs/images/quick_start.gif" alt="TensorWatch in Jupyter Notebook" width="250"/>\r\n\r\nTo dive deeper into the various other features, please see [Tutorials](#tutorials) and [notebooks](https://github.com/microsoft/tensorwatch/tree/master/notebooks).\r\n\r\n### How does this work?\r\n\r\nWhen you write to a TensorWatch stream, the values get serialized and sent to a TCP/IP socket as well as the file you specified. From Jupyter Notebook, we load the previously logged values from the file and then listen to that TCP/IP socket for any future values. The visualizer listens to the stream and renders the values as they arrive.\r\n\r\nOk, so that\'s a very simplified description. The TensorWatch architecture is actually much more powerful. Almost everything in TensorWatch is a *stream*. Files, sockets, consoles and even visualizers are streams themselves. A cool thing about TensorWatch streams is that they can listen to any other streams. This allows TensorWatch to create a *data flow graph*. This means that a visualizer can listen to many streams simultaneously, each of which could be a file, a socket or some other stream. You can recursively extend this to build arbitrary data flow graphs. TensorWatch decouples streams from how they get stored and how they get visualized.\r\n\r\n## Visualizations\r\nIn the above example, the line graph is used as the default visualization. However, TensorWatch supports many other diagram types including histograms, pie charts, scatter charts, bar charts and 3D versions of many of these plots. You can log your data, specify the chart type you want and let TensorWatch take care of the rest. \r\n\r\nOne of the significant strengths of TensorWatch is the ability to combine, compose, and create custom visualizations effortlessly. For example, you can choose to visualize an arbitrary number of streams in the same plot. Or you can visualize the same stream in many different plots *simultaneously*. Or you can place an arbitrary set of visualizations side-by-side. You can even create your own custom visualization widget simply by creating a new Python class, implementing a few methods.\r\n\r\n## Comparing Results of Multiple Runs\r\nEach TensorWatch stream may contain a metric of your choice. By default, TensorWatch saves all streams in a single file, but you could also choose to save each stream in separate files or not to save them at all (for example, sending streams over sockets or into the console directly, zero hit to disk!). Later you can open these streams and direct them to one or more visualizations. This design allows you to quickly compare the results from your different experiments in your choice of visualizations easily. \r\n\r\n## Training within Jupyter Notebook\r\nOften you might prefer to do data analysis, ML training, and testing - all from within Jupyter Notebook instead of from a separate script. TensorWatch can help you do sophisticated, real-time visualizations effortlessly from code that is run within a Jupyter Notebook end-to-end.\r\n\r\n## Lazy Logging Mode\r\nA unique feature in TensorWatch is the ability to query the live running process, retrieve the result of this query as a stream and direct this stream to your preferred visualization(s). You don\'t need to log any data beforehand. We call this new way of debugging and visualization a *lazy logging mode*.\r\n\r\nFor example, as seen below, we visualize input and output image pairs, sampled randomly during the training of an autoencoder on a fruits dataset. These images were not logged beforehand in the script. Instead, the user sends query as a Python lambda expression which results in a stream of images that gets displayed in the Jupyter Notebook:\r\n\r\n<img src="docs/images/fruits.gif" alt="TensorWatch in Jupyter Notebook" width="200"/>\r\n\r\nSee [Lazy Logging Tutorial](https://github.com/microsoft/tensorwatch/blob/master/docs/lazy_logging.md).\r\n\r\n### Pre-Training and Post-Training Tasks\r\n\r\nTensorWatch leverages several excellent libraries including [hiddenlayer](https://github.com/waleedka/hiddenlayer), [torchstat](https://github.com/Swall0w/torchstat), [Visual Attribution](https://github.com/yulongwang12/visual-attribution) to allow performing the usual debugging and analysis activities in one consistent package and interface.\r\n\r\nFor example, you can view the model graph with tensor shapes with a one-liner:\r\n\r\n<img src="docs/images/draw_model.png" alt="Model graph for Alexnet" width="400"/>\r\n\r\nYou can view statistics for different layers such as flops, number of parameters, etc:\r\n\r\n<img src="docs/images/model_stats.png" alt="Model statistics for Alexnet" width="600"/>\r\n\r\n[See notebook](https://github.com/microsoft/tensorwatch/blob/master/notebooks/network_arch.ipynb).\r\n\r\nYou can view the dataset in a lower dimensional space using techniques such as t-SNE:\r\n\r\n<img src="docs/images/tsne.gif" alt="t-SNE visualization for MNIST" width="400"/>\r\n\r\n[See notebook](https://github.com/microsoft/tensorwatch/blob/master/notebooks/data_exploration.ipynb).\r\n\r\n### Prediction Explanations\r\nWe wish to provide various tools for explaining predictions to help debugging models. Currently, we offer several explainers for convolutional networks, including [Lime](https://github.com/marcotcr/lime). For example, the following highlights the areas that cause the Resnet50 model to make a prediction for class 240 for the Imagenet dataset:\r\n\r\n<img src="docs/images/saliency.png" alt="CNN prediction explanation" width="300"/>\r\n\r\n[See notebook](https://github.com/microsoft/tensorwatch/blob/master/notebooks/cnn_pred_explain.ipynb).\r\n\r\n\r\n## Tutorials\r\n\r\n- [Simple Logging Tutorial](https://github.com/microsoft/tensorwatch/blob/master/docs/simple_logging.md)\r\n\r\n- [Lazy Logging Tutorial](https://github.com/microsoft/tensorwatch/blob/master/docs/lazy_logging.md)\r\n\r\n- [Using TensorWatch for Deep Learning Training (MNIST)](https://github.com/microsoft/tensorwatch/blob/master/notebooks/mnist.ipynb)\r\n\r\n- [Using TensorWatch for Deep Learning Training (Food360)](https://github.com/microsoft/tensorwatch/blob/master/notebooks/fruits_analysis.ipynb)\r\n\r\n- [Exploring Data Using T-SNE](https://github.com/microsoft/tensorwatch/blob/master/notebooks/data_exploration.ipynb)\r\n\r\n- [Predication Explainers for Convolutional Neural Networks](https://github.com/microsoft/tensorwatch/blob/master/notebooks/cnn_pred_explain.ipynb)\r\n\r\n- [Viewing Model Graph and Statistics](https://github.com/microsoft/tensorwatch/blob/master/notebooks/network_arch.ipynb)\r\n\r\n## Contribute\r\n\r\nWe would love your contributions, feedback, questions, and feature requests! Please [file a Github issue](https://github.com/microsoft/tensorwatch/issues/new) or send us a pull request. Please review the [Microsoft Code of Conduct](https://opensource.microsoft.com/codeofconduct/) and [learn more](https://github.com/microsoft/tensorwatch/blob/master/CONTRIBUTING.md).\r\n\r\n## Contact\r\n\r\nJoin the TensorWatch group on [Facebook](https://www.facebook.com/groups/378075159472803/) to stay up to date or ask any questions.\r\n\r\n## Credits\r\n\r\nTensorWatch utilizes several open source libraries for many of its features. These includes: [hiddenlayer](https://github.com/waleedka/hiddenlayer), [torchstat](https://github.com/Swall0w/torchstat), [Visual-Attribution](https://github.com/yulongwang12/visual-attribution), [pyzmq](https://github.com/zeromq/pyzmq), [receptivefield](https://github.com/fornaxai/receptivefield), [nbformat](https://github.com/jupyter/nbformat). Please see `install_requires` section in [setup.py](setup.py) for upto date list.\r\n\r\n## License\r\n\r\nThis project is released under the MIT License. Please review the [License file](LICENSE.txt) for more details.\r\n'