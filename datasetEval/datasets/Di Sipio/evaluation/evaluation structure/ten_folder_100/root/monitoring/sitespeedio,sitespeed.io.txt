b'# sitespeed.io\n\n[![Build status][travis-image]][travis-url]\n[![Downloads][downloads-image]][downloads-url]\n[![Docker][docker-image]][docker-url]\n[![Stars][stars-image]][stars-url]\n[![npm][npm-image]][npm-url]\n[![Changelog #212][changelog-image]][changelog-url]\n\n\n[Website](https://www.sitespeed.io/) | [Documentation](https://www.sitespeed.io/documentation/sitespeed.io/) | [Changelog](https://github.com/sitespeedio/sitespeed.io/blob/master/CHANGELOG.md) | [Twitter](https://twitter.com/SiteSpeedio)\n\n## Welcome to the wonderful world of web performance!\n\n**Sitespeed.io is a *complete web performance tool* that helps you measure the performance of your website. What exactly does that mean?**\n\nBefore we start telling you all about sitespeed.io you should just try it out:\n\n ```bash\n $ docker run --rm -v "$(pwd)":/sitespeed.io sitespeedio/sitespeed.io https://www.sitespeed.io/\n ```\n\n Or using npm (you need Chrome or Firefox installed)\n\n ```bash\n $ npm i -g sitespeed.io && sitespeed.io https://www.sitespeed.io/\n ```\n\nOk, now you have tried it, let us tell you more about sitespeed.io. We think of a complete web performance tool as having three key capabilities:\n\n - It test web sites using real browsers, simulating real users connectivity and collect important user centric metrics like Speed Index and First Visual Render.\n - It analyse how your page is built and give feedback how you can make it faster for the end user.\n - It collect and keep data how your pages is built so you easily can track changes.\n\n**What is sitespeed.io good for?**\n\nIt is usually used in two different areas:\n\n - Running in your continuous integration to find web performance regressions early: on commits or when you move code to your test environment\n - Monitoring your performance in production, alerting on regressions.\n\nTo understand how sitespeed.io does these things, let\'s talk about how it works.\n\nFirst a few key concepts:\n\n - Sitespeed.io is built upon a couple of other Open Source tools in the sitespeed.io suite.\n - [Browsertime](https://github.com/sitespeedio/browsertime) is the tool that drives the browser and collect metrics.\n - [The Coach](https://github.com/sitespeedio/coach) knows how to build fast websites and analyse your page and give you feedback what you should change.\n - Visual Metrics is metrics collected from a video recording of the browser screen.\n - Everything in sitespeed.io is a [plugin](https://www.sitespeed.io/documentation/sitespeed.io/plugins/) and they communicate by passing messages on a queue.\n\nWhen you as user choose to test a URL, this is what happens on a high level:\n\n 1. sitespeed.io starts and initialise all configured plugins.\n 2. The URL is passed around the plugins through the queue.\n    1. Browsertime gets the URL and opens the browser.\n    2. It starts to record a video of the browser screen.\n    3. The browser access the URL.\n    4. When the page is finished, Browsertime takes a screenshot of the page.\n    5. Then run some JavaScripts to analyse the page (using Coach and Browsertime scripts).\n    6. Stop the video and close the browser.\n    7. Analyse the video to get Visual Metrics like First Visual Change and Speed Index.\n    8. Browsertime passes all metrics and data on the queue so other plugins can use it.\n 3. The HTML/Graphite/InfluxDB plugin collects the metrics in queue.\n 4. When all URLs are tested, sitespeed sends a message telling plugins to summarise the metrics and then render it.\n 5. Plugins pickup the render message and the HTML plugin writes the HTML to disk.\n\n ## Try it out\n\n Using Docker (use latest Docker):\n\n ```bash\n $ docker run --rm -v "$(pwd)":/sitespeed.io sitespeedio/sitespeed.io https://www.sitespeed.io/\n ```\n\n Or install using npm:\n\n ```bash\n $ npm i -g sitespeed.io\n ```\n\n Or clone the repo and test the latest changes:\n\n ```bash\n $ git clone https://github.com/sitespeedio/sitespeed.io.git\n $ cd sitespeed.io\n $ npm install\n $ bin/sitespeed.js --help\n $ bin/sitespeed.js https://www.sitespeed.io/\n```\n\n## More details\n\nUsing sitespeed.io you can:\n* Test your web site against Web Performance best practices using the [Coach](https://github.com/sitespeedio/coach).\n* Collect Navigation Timing API, User Timing API and Visual Metrics from Firefox/Chrome using [Browsertime](https://github.com/sitespeedio/browsertime).\n* Run your custom-made JavaScript and collect whichever metric(s) you need.\n* Test one or multiple pages, across one or many runs to get more-accurate metrics.\n* Create HTML-result pages or store the metrics in Graphite.\n* Write your own plugins that can do whatever tests you want/need.\n\nSee all the latest changes in the [Changelog](https://github.com/sitespeedio/sitespeed.io/blob/master/CHANGELOG.md).\n\nCheckout our example [dashboard.sitespeed.io](https://dashboard.sitespeed.io/dashboard/db/page-summary)\n\nA summary report in HTML:\n<img src="https://raw.githubusercontent.com/sitespeedio/sitespeed.io/master/docs/img/start-readme.jpg">\n\nIndividual page report:\n<img src="https://raw.githubusercontent.com/sitespeedio/sitespeed.io/master/docs/img/start-url-readme.jpg">\n\nCollected metrics from a URL in Graphite/Grafana:\n<img src="https://raw.githubusercontent.com/sitespeedio/sitespeed.io/master/docs/img/grafana-readme.jpg">\n\nAnd look at trends in Grafana:\n<img src="https://raw.githubusercontent.com/sitespeedio/sitespeed.io/master/docs/img/grafana-trends-readme.jpg">\n\nVideo - easiest using Docker. This gif is optimized, the quality is much better IRL:\n\n<img src="https://raw.githubusercontent.com/sitespeedio/sitespeed.io/master/docs/img/barack.gif">\n\n## Test using WebPageReplay\nWe have a special Docker container that comes with [WebPageReplay](https://github.com/catapult-project/catapult/blob/master/web_page_replay_go/README.md) installed. This is a really early alpha release but we think you should try it out.\n\nWebPageReplay will let you replay your page locally (getting rid of server latency etc) and makes it easier to have stable metrics and find front end regressions.\n\nIt works like this:\n1. WebPageReplay is started in record mode\n2. Browsertime access the URLs you choose one time (so it is recorded)\n3. WebPageReplay is closed down\n4. WebPageReplay in replay mode is started\n5. Sitespeed.io (using Browsertime) test the URL so many times you choose\n6. WebPageReplay in replay mode is closed down\n\nYou can change latency by setting a Docker environment variable. Use REPLAY to turn on the replay functionality.\n\nDefault browser is Chrome:\n\n```\ndocker run --cap-add=NET_ADMIN --rm -v "$(pwd)":/sitespeed.io -e REPLAY=true -e LATENCY=100 sitespeedio/sitespeed.io -n 5 -b chrome https://en.wikipedia.org/wiki/Barack_Obama\n```\n\nUse Firefox:\n\n```\ndocker run --cap-add=NET_ADMIN --rm -v "$(pwd)":/sitespeed.io -e REPLAY=true -e LATENCY=100 sitespeedio/sitespeed.io -n 11 -b firefox https://en.wikipedia.org/wiki/Barack_Obama\n```\n\n<hr>\n\n<p><a href="https://dashboard.sitespeed.io">https://dashboard.sitespeed.io</a> is supported by:</p>\n<p>\n  <a href="https://www.digitalocean.com/">\n    <img src="https://opensource.nyc3.cdn.digitaloceanspaces.com/attribution/assets/SVG/DO_Logo_horizontal_blue.svg" width="201px">\n  </a>\n</p>\n\n# Sponsors\nYou can sponsor us to help us keep sitespeed.io running and making sure we can have the best test setup as possible. Read our [sponsor page](https://github.com/sponsors/soulgalore) for more info.\n\nThank you [https://www.supervisor.com](https://www.supervisor.com) for sponsoring sitespeed.io!\n\n[travis-image]: https://img.shields.io/travis/sitespeedio/sitespeed.io.svg?style=flat-square\n[travis-url]: https://travis-ci.org/sitespeedio/sitespeed.io\n[stars-url]: https://github.com/sitespeedio/sitespeed.io/stargazers\n[stars-image]: https://img.shields.io/github/stars/sitespeedio/sitespeed.io.svg?style=flat-square\n[downloads-image]: https://img.shields.io/npm/dt/sitespeed.io.svg?style=flat-square\n[downloads-url]: https://npmjs.org/package/sitespeed.io\n[docker-image]: https://img.shields.io/docker/pulls/sitespeedio/sitespeed.io.svg\n[docker-url]: https://hub.docker.com/r/sitespeedio/sitespeed.io/\n[changelog-image]: https://img.shields.io/badge/changelog-%23212-lightgrey.svg?style=flat-square\n[changelog-url]: https://changelog.com/212\n[npm-image]: https://img.shields.io/npm/v/sitespeed.io.svg\n[npm-url]: https://npmjs.org/package/sitespeed.io\n'