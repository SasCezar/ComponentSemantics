b"# koa-passport\n\n[Passport](https://github.com/jaredhanson/passport) middleware for Koa\n\n[![NPM][npm]](https://npmjs.org/package/koa-passport)\n[![Dependency Status][dependencies]](https://david-dm.org/rkusa/koa-passport)\n[![Build Status][travis]](https://travis-ci.org/rkusa/koa-passport)\n\nkoa-passport version  | koa version | branch\n--------------------- | ------------| ------\n1.x                   | 1.x         | v1.x\n2.x                   | 2.x         | v2.x\n4.x                   | 2.x         | master\n\n## Migration to `v3`\n\n- change `ctx.passport.*` to `ctx.state.*` (e.g. `ctx.passport.user` to `ctx.state.user`)\n- don't call passport methods on `ctx.req` (e.g. use `ctx.login` instead of `ctx.req.login`)\n- update custom authentication callback arguments to `err, user, info, status` (e.g. `passport.authenticate('local', function(err, user, info, status) { ... })(ctx, next)`)\n\n## Usage\n\n```js\n// body parser\nconst bodyParser = require('koa-bodyparser')\napp.use(bodyParser())\n\n// Sessions\nconst session = require('koa-session')\napp.keys = ['secret']\napp.use(session({}, app))\n\nconst passport = require('koa-passport')\napp.use(passport.initialize())\napp.use(passport.session())\n```\n\n[Example Application](https://github.com/rkusa/koa-passport-example)\n\nPassport's values and methods are exposed as follows:\n\n```js\napp.use(async ctx => {\n  ctx.isAuthenticated()\n  ctx.isUnauthenticated()\n  await ctx.login()\n  ctx.logout()\n  ctx.state.user\n})\n```\n\n## License\n\n  [MIT](LICENSE)\n\n[npm]: http://img.shields.io/npm/v/koa-passport.svg\n[dependencies]: http://img.shields.io/david/rkusa/koa-passport.svg\n[travis]: https://travis-ci.org/rkusa/koa-passport.svg?branch=master\n"