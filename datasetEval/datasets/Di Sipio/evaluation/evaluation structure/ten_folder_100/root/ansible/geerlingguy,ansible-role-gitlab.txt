b'# Ansible Role: GitLab\n\n[![Build Status](https://travis-ci.org/geerlingguy/ansible-role-gitlab.svg?branch=master)](https://travis-ci.org/geerlingguy/ansible-role-gitlab)\n\nInstalls GitLab, a Ruby-based front-end to Git, on any RedHat/CentOS or Debian/Ubuntu linux system.\n\nGitLab\'s default administrator account details are below; be sure to login immediately after installation and change these credentials!\n\n    root\n    5iveL!fe\n\n## Requirements\n\nNone.\n\n## Role Variables\n\nAvailable variables are listed below, along with default values (see `defaults/main.yml`):\n\n    gitlab_external_url: "https://gitlab/"\n\nThe URL at which the GitLab instance will be accessible. This is set as the `external_url` configuration setting in `gitlab.rb`, and if you want to run GitLab on a different port (besides 80/443), you can specify the port here (e.g. `https://gitlab:8443/` for port 8443).\n\n    gitlab_git_data_dir: "/var/opt/gitlab/git-data"\n\nThe `gitlab_git_data_dir` is the location where all the Git repositories will be stored. You can use a shared drive or any path on the system.\n\n    gitlab_backup_path: "/var/opt/gitlab/backups"\n\nThe `gitlab_backup_path` is the location where Gitlab backups will be stored.\n\n    gitlab_edition: "gitlab-ce"\n\nThe edition of GitLab to install. Usually either `gitlab-ce` (Community Edition) or `gitlab-ee` (Enterprise Edition).\n\n    gitlab_version: \'\'\n\nIf you\'d like to install a specific version, set the version here (e.g. `11.4.0-ce.0` for Debian/Ubuntu, or `11.4.0-ce.0.el7` for RedHat/CentOS).\n\n    gitlab_config_template: "gitlab.rb.j2"\n\nThe `gitlab.rb.j2` template packaged with this role is meant to be very generic and serve a variety of use cases. However, many people would like to have a much more customized version, and so you can override this role\'s default template with your own, adding any additional customizations you need. To do this:\n\n  - Create a `templates` directory at the same level as your playbook.\n  - Create a `templates\\mygitlab.rb.j2` file (just choose a different name from the default template).\n  - Set the variable like: `gitlab_config_template: mygitlab.rb.j2` (with the name of your custom template).\n\n### SSL Configuration.\n\n    gitlab_redirect_http_to_https: "true"\n    gitlab_ssl_certificate: "/etc/gitlab/ssl/gitlab.crt"\n    gitlab_ssl_certificate_key: "/etc/gitlab/ssl/gitlab.key"\n\nGitLab SSL configuration; tells GitLab to redirect normal http requests to https, and the path to the certificate and key (the default values will work for automatic self-signed certificate creation, if set to `true` in the variable below).\n\n    # SSL Self-signed Certificate Configuration.\n    gitlab_create_self_signed_cert: "true"\n    gitlab_self_signed_cert_subj: "/C=US/ST=Missouri/L=Saint Louis/O=IT/CN=gitlab"\n\nWhether to create a self-signed certificate for serving GitLab over a secure connection. Set `gitlab_self_signed_cert_subj` according to your locality and organization.\n\n    # LDAP Configuration.\n    gitlab_ldap_enabled: "false"\n    gitlab_ldap_host: "example.com"\n    gitlab_ldap_port: "389"\n    gitlab_ldap_uid: "sAMAccountName"\n    gitlab_ldap_method: "plain"\n    gitlab_ldap_bind_dn: "CN=Username,CN=Users,DC=example,DC=com"\n    gitlab_ldap_password: "password"\n    gitlab_ldap_base: "DC=example,DC=com"\n\nGitLab LDAP configuration; if `gitlab_ldap_enabled` is `true`, the rest of the configuration will tell GitLab how to connect to an LDAP server for centralized authentication.\n\n    gitlab_time_zone: "UTC"\n\nGitlab timezone.\n\n    gitlab_backup_keep_time: "604800"\n\nHow long to keep local backups (useful if you don\'t want backups to fill up your drive!).\n\n    gitlab_download_validate_certs: true\n\nControls whether to validate certificates when downloading the GitLab installation repository install script.\n\n    # Email configuration.\n    gitlab_email_enabled: "false"\n    gitlab_email_from: "gitlab@example.com"\n    gitlab_email_display_name: "Gitlab"\n    gitlab_email_reply_to: "gitlab@example.com"\n\nGitlab system mail configuration. Disabled by default; set `gitlab_email_enabled` to `true` to enable, and make sure you enter valid from/reply-to values.\n\n    # SMTP Configuration\n    gitlab_smtp_enable: "false"\n    gitlab_smtp_address: "smtp.server"\n    gitlab_smtp_port: "465"\n    gitlab_smtp_user_name: "smtp user"\n    gitlab_smtp_password: "smtp password"\n    gitlab_smtp_domain: "example.com"\n    gitlab_smtp_authentication: "login"\n    gitlab_smtp_enable_starttls_auto: "true"\n    gitlab_smtp_tls: "false"\n    gitlab_smtp_openssl_verify_mode: "none"\n    gitlab_smtp_ca_path: "/etc/ssl/certs"\n    gitlab_smtp_ca_file: "/etc/ssl/certs/ca-certificates.crt"\n\nGitlab SMTP configuration; of `gitlab_smtp_enable` is `true`, the rest of the configuration will tell GitLab how to send mails using an smtp server.\n\n    gitlab_nginx_listen_port: 8080\n\nIf you are running GitLab behind a reverse proxy, you may want to override the listen port to something else.\n\n    gitlab_nginx_listen_https: "false"\n\nIf you are running GitLab behind a reverse proxy, you may wish to terminate SSL at another proxy server or load balancer\n\n    gitlab_nginx_ssl_verify_client: ""\n    gitlab_nginx_ssl_client_certificate: ""\n\nIf you want to enable [2-way SSL Client Authentication](https://docs.gitlab.com/omnibus/settings/nginx.html#enable-2-way-ssl-client-authentication), set `gitlab_nginx_ssl_verify_client` and add a path to the client certificate in `gitlab_nginx_ssl_client_certificate`.\n\n    gitlab_default_theme: 2\n\nGitLab includes a number of themes, and you can set the default for all users with this variable. See [the included GitLab themes to choose a default](https://github.com/gitlabhq/gitlabhq/blob/master/config/gitlab.yml.example#L79-L85).\n\n## Dependencies\n\nNone.\n\n## Example Playbook\n\n    - hosts: servers\n      vars_files:\n        - vars/main.yml\n      roles:\n        - { role: geerlingguy.gitlab }\n\n*Inside `vars/main.yml`*:\n\n    gitlab_external_url: "https://gitlab.example.com/"\n\n## License\n\nMIT / BSD\n\n## Author Information\n\nThis role was created in 2014 by [Jeff Geerling](http://jeffgeerling.com/), author of [Ansible for DevOps](http://ansiblefordevops.com/).\n'