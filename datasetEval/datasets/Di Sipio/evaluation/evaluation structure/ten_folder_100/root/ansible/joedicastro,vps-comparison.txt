b'*WARNING: A work in progress!*\n\n*ATTENTION*\n\nIf you like this project, and you would like to have more plans and providers in the comparison, please take a look at [[https://github.com/joedicastro/vps-comparison/issues/22][this issue.]]\n\n* VPS Comparison\n\nA comparison between some VPS providers that have data centers located in\n*Europe*.\n\nInitially I\'m comparing only entry plans, below *5$* monthly.\n\nWhat I trying to show here it\'s basically a lot of things that I would want to\nknow before sign up with any of them. If I save you a few hours researching,\nlike I spend, I\'ll be glad!\n\n* VPS Providers\n\n** Company\n\n|--------------+--------------+-------------------+---------------+------------+------------------|\n|              | OVH          | Linode            | DigitalOcean  | Scaleway   | Vultr            |\n|--------------+--------------+-------------------+---------------+------------+------------------|\n| Foundation   | 1999         | 2003              | 2011          | 2013       | 2014             |\n| Headquarters | Roubaix (FR) | Galloway, NJ (US) | New York (US) | Paris (FR) | Matawan, NJ (US) |\n| Market       | 3\xc2\xb0 largest   |                   | 2\xc2\xb0 largest    |            |                  |\n| Website      | [[https://www.ovh.com/us][OVH]]          | [[https://www.linode.com/][Linode]]            | [[https://www.digitalocean.com][DigitalOcean]]  | [[https://www.scaleway.com/][Scaleway]]   | [[https://www.vultr.com/][Vultr]]            |\n|--------------+--------------+-------------------+---------------+------------+------------------|\n\nNotes:\n\n- The companies are sorted by the year of foundation.\n- Linode was spun-off from a company providing ColdFusion hosting (TheShore.net) that was founded in 1999.\n- Scaleway is a cloud division of Online.net (1999), itself subsidiary of the Iliad group (1990) owner also of the famous French ISP Free.\n- Vultr Holdings LLC is owned by Choopa LLC founded in 2000.\n- The Market numbers are extracted from the Wikipedia an other sources\n\n** Billing\n\n|--------------------+-----+--------+--------------+----------+-------|\n|                    | OVH | Linode | DigitalOcean | Scaleway | Vultr |\n|--------------------+-----+--------+--------------+----------+-------|\n| Credit Card        | Yes | Yes    | Yes          | Yes      | Yes   |\n| PayPal             | Yes | Yes    | Yes          | No       | Yes   |\n| Bitcoin            | No  | No     | No           | No       | Yes   |\n| Affiliate/Referral | Yes | Yes    | Yes          | No       | Yes   |\n| Coupon Codes       | Yes | Yes    | Yes          | Yes      | Yes   |\n|--------------------+-----+--------+--------------+----------+-------|\n\nNote:\n\n- Linode needs a credit card associated with the account first to be able to pay with PayPal later.\n\n** General Features\n\n|----------------------------+----------+----------+--------------+-----------------------------------+--------------|\n|                            | OVH      | Linode   | DigitalOcean | Scaleway                          | Vultr        |\n|----------------------------+----------+----------+--------------+-----------------------------------+--------------|\n| European data centers      | 3        | 2        | 3            | 2                                 | 4            |\n| Documentation              | [[https://www.ovh.co.uk/community/knowledge/][Docs]]     | [[https://www.linode.com/docs/][Docs]]     | [[https://www.digitalocean.com/community][Docs]]         | [[https://www.scaleway.com/docs/][Docs]]                              | [[https://www.vultr.com/docs/][Docs]]         |\n| Doc. subjective valuation  | 6/10     | 9/10     | 9/10         | 6/10                              | 8/10         |\n| Uptime guaranteed (SLA)    | 99,95%   | 99,9%    | 99,99%       | 99,9%                             | 100%         |\n| Outage refund/credit (SLA) | Yes      | Yes      | Yes          | No                                | Yes          |\n| API                        | Yes      | Yes      | Yes          | Yes                               | Yes          |\n| API Docs                   | [[https://api.ovh.com/][API Docs]] | [[https://www.linode.com/api][API Docs]] | [[https://developers.digitalocean.com/documentation/][API Docs]]     | [[https://developer.scaleway.com/][API Docs]]                          | [[https://www.vultr.com/api/][API Docs]]     |\n| Services status page       | [[http://status.ovh.com/][Status]]   | [[https://status.linode.com/][Status]]   | [[https://status.digitalocean.com/][Status]]       | [[https://status.online.net/tasklist/?project=11&status=&perpage=50&order=id&sort=desc][Status]]                            | [[https://www.vultr.com/status/][Status]]       |\n| Support Quality            |          |          |              |                                   |              |\n| Account Limits             |          |          | 10 instances | Limited instances (e.g. 50 VC1S ) | 10 instances |\n| Legal/ToS                  | [[https://www.ovh.com/us/support/termsofservice/][ToS]]      | [[https://www.linode.com/tos][ToS]]      | [[https://www.digitalocean.com/legal/terms/][ToS]]          | [[https://www.scaleway.com/terms/][ToS]]                               | [[https://www.vultr.com/legal/tos/][ToS]]          |\n|----------------------------+----------+----------+--------------+-----------------------------------+--------------|\n\nNote:\n\n- Scaleway has four grades of SLA, the first basic is for free but if you want something better, you have to pay a monthly fee.\n- One of the reasons why the Linode\'s documentation is so good and detailed is that they [[https://www.linode.com/docs/linode-writers-guide/][pay you 250$]] for write a guide for them if it\'s good enough to publish. They are a small team (about 70 people), so it makes sense.\n- The Linode API is not a RESTful API yet, but they are working in an upcoming one.\n- The default limits usually can be increased by asking support, but not in Scaleway, where you would have to pay fo a higher level of support. Those limits are set by default by the providers to stop abusing the accounts. \n- Scaleway also imposes a lot more of limits that can be looked up in the account settings (e.g. 100 images or 25 snapshots).\n- Vultr also impose a limit of a maximum instance cost of 150$ per month and requires a deposit when charges exceed 50$.\n\n*** European data centers\n\n   - *OVH*: Gravelines (FR), Roubaix (FR), Strasbourg (FR). It has also a data center in Paris (FR), but is not available for these plans.\n   - *Linode*: Frankfurt (DE), London (GB)\n   - *DigitalOcean*: Amsterdam (NL), Frankfurt (DE), London (GB)\n   - *Scaleway*: Amsterdam (NL), Paris (FR)\n   - *Vultr*: Amsterdam (NL), Frankfurt (DE), London (GB), Paris (FR)\n\n* Control Panel\n\n** Features\n\n |-------------------------------------+-------------------+-----------------------+----------------------------------------------+--------------+--------------------------------------|\n |                                     | OVH               | Linode                | DigitalOcean                                 | Scaleway     | Vultr                                |\n |-------------------------------------+-------------------+-----------------------+----------------------------------------------+--------------+--------------------------------------|\n | Subjective control panel evaluation | 5/10              | 6/10                  | 8/10                                         | 5/10         | 9/10                                 |\n | Graphs                              | Traffic, CPU, RAM | CPU, Traffic, Disk IO | CPU, RAM, Disk IO, Disk usage, Bandwith, Top | No           | Monthly Bandwith, CPU, Disk, Network |\n | Subjective graphs valuation         | 5/10              | 8/10                  | 9/10                                         | 0/10         | 8/10                                 |\n | Monthly usage per instance          | No                | Yes                   | No                                           | No           | Bandwith, Credits                    |\n | KVM Console                         | Yes               | Yes (Glish)           | Yes (VNC)                                    | Yes          | Yes                                  |\n | Power management                    | Yes               | Yes                   | Yes                                          | Yes          | Yes                                  |\n | Reset root password                 | Yes               | Yes                   | Yes                                          | No           | No                                   |\n | Reinstall instance                  | Yes               | Yes                   | Yes                                          | No           | Yes                                  |\n | First provision time                | Several hours     | <1 min                | <1 min                                       | some minutes | some minutes                         |\n | Median reinstall time               | ~12,5 min         | ~50 s                 | ~35 s                                        | N/A          | ~2,1 min                             |\n | Upgrade instance                    | Yes               | Yes                   | Yes                                          | No           | Yes                                  |\n | Change Linux Kernel                 | No                | Yes                   | CentOS                                       | Yes          | No                                   |\n | Recovery mode                       | No                | Yes                   | Yes                                          | Yes          | Boot with custom ISO                 |\n | Tag instances                       | No                | Yes                   | Yes                                          | Yes          | Yes                                  |\n | Responsive design (mobile UI)       | No                | No                    | No                                           | No           | Yes                                  |\n | Android App                         | Only in France    | Yes                   | Unofficial                                   | No           | Unofficial                           |\n | iOS App                             | Yes               | Yes                   | Unofficial                                   | No           | Unofficial                           |\n |-------------------------------------+-------------------+-----------------------+----------------------------------------------+--------------+--------------------------------------|\n\nNotes:\n\n- The OVH panel has a very old interface, effective but antique and cumbersome.\n- Linode also has an old interface, too much powerful, but not friendly. But in the coming months they are going to deliver a new control panel in Beta.\n- Linode let you choose the Linux Kernel version in the profile of your instance.\n- To reset the root password from the control panel is not a good security measure IMHO, it\'s useful, but you already have the KVM console for that.\n- In Vultr you can copy/see the masked default root password, but not reset it. This is necessary because the password is never sent by email.\n- You can reinstall the instances using the same SO/App or choosing another one.\n- Linode reinstall time (they call it rebuild) does not include the boot time, the instance is not started automatically.\n- In Vultr can use a custom ISO or choose one from the library like SystemRescueCD or Trinity Rescue Kit to boot your instance and perform recovery tasks.\n- Linode has an additional console (Lish) that allows you to control your instance even when is inaccessible by ssh and perform rescue or management tasks.\n- In Scaleway you have to set a root password first to get access to the KVM console.\n- The Scaleway\'s control panel in the basic account/SLA level is very limited and counter-intuitive, I don\'t know if this improves with superior levels.\n- In Scaleway happened to me once that the provision time exceed more than 45 min that I have to cancel the operation (that it was not easy, though).\n- In OVH the first provision of a VPS server it\'s a manual process and you have to pass a weird identification protocol on the way, including an incoming phone call in my case.\n\n** Instance creation\n\n*** Operating Systems\n\n |----------+------------------------------------+-------------------------------------------------------------------+--------------------------------+----------------------------------------+---------------------------------------------|\n |          | OVH                                | Linode                                                            | DigitalOcean                   | Scaleway                               | Vultr                                       |\n |----------+------------------------------------+-------------------------------------------------------------------+--------------------------------+----------------------------------------+---------------------------------------------|\n | Linux    | Arch Linux, CentOS, Debian, Ubuntu | Arch, CentOS, Debian, Fedora, Gentoo, OpenSUSE, Slackware, Ubuntu | CentOS, Debian, Fedora, Ubuntu | Alpine, CentOS, Debian, Gentoo, Ubuntu | CentOS, Debian, Fedora, Ubuntu              |\n | BSD      | No                                 | No                                                                | FreeBSD                        | No                                     | FreeBSD, OpenBSD                            |\n | Windows  | No                                 | No                                                                | No                             | No                                     | Windows 2012 R2 (16$) or Windows 2016 (16$) |\n | Other OS | No                                 | No                                                                | CoreOS                         | No                                     | CoreOS                                      |\n |----------+------------------------------------+-------------------------------------------------------------------+--------------------------------+----------------------------------------+---------------------------------------------|\n\n Note:\n\n - OVH also offers Linux two desktop distributions: Kubuntu and OVH Release 3.\n\n*** One-click Apps\n\n |----------------+---------------+--------+-----------------------+----------------+----------------------|\n |                | OVH           | Linode | DigitalOcean          | Scaleway       | Vultr                |\n |----------------+---------------+--------+-----------------------+----------------+----------------------|\n | Docker         | Yes           | No     | Yes                   | Yes            | Yes                  |\n | Stacks         | LAMP          | No     | LAMP, LEMP, ELK, MEAN | LEMP, ELK      | LAMP, LEMP           |\n | Drupal         | Yes           | No     | Yes                   | Yes            | Yes                  |\n | WordPress      | Yes           | No     | Yes                   | No             | Yes                  |\n | Joomla         | Yes           | No     | No                    | No             | Yes                  |\n | Django         | No            | No     | Yes                   | No             | No                   |\n | RoR            | No            | No     | Yes                   | No             | No                   |\n | GitLab         | No            | No     | Yes                   | Yes            | Yes                  |\n | Node.js        | No            | No     | Yes                   | Yes            | No                   |\n | E-Commerce     | PrestaShop    | No     | Magento               | PrestaShop     | Magento, PrestaShop  |\n | Personal cloud | Cozy          | No     | NextCloud, ownCloud   | OwnCloud, Cozy | NextCloud, ownCloud  |\n | Panels         | Plesk, cPanel | No     | No                    | Webmin         | cPanel (15$), Webmin |\n |----------------+---------------+--------+-----------------------+----------------+----------------------|\n\n Notes:\n- Some providers offer more one-click Apps that I do not include here to save space.\n- Some of this apps in some providers require a bigger and more expensive plan that the entry ones below 5$ that I analyze here.\n- Linode does not offers you any one-click app. Linode is old-school, you can do it yourself, and also Linode gives you plenty of detailed documentation to do it that way.\n- OVH uses Ubuntu, Debian or CentOS as SO for its apps.\n- Digital Ocean uses Ubuntu as SO for all of its apps.\n- Vultr uses CentOS as SO for all of its apps.\n- OVH Also offers Dokku on Ubuntu.\n- Do you really need a Panel (like cPanel)? They usually are a considerable security risk with several vulnerabilities and admin rights.\n\n*** Other features\n\n |----------------------------+---------+--------------+--------------+----------+-------|\n |                            | OVH     | Linode       | DigitalOcean | Scaleway | Vultr |\n |----------------------------+---------+--------------+--------------+----------+-------|\n | ISO images library         | No      | No           | No           | No       | Yes   |\n | Custom ISO image           | No      | Yes          | No           | Yes      | Yes   |\n | Install scripts            | No      | StackScripts | Cloud-init   | No       | iPXE  |\n | Preloaded SSH keys         | Yes     | No           | Yes          | Yes      | Yes   |\n |----------------------------+---------+--------------+--------------+----------+-------|\n\n Notes:\n\n- Linode lets you install virtually any SO in your instance in the old-school way, almost as if you\'d have to deal with the bare metal. Even when the instance does not boot itself at the end, you have to boot it yourself from the control panel.\n- The Vultr\'s ISO image library include several ISOs like Alpine, Arch, Finnix, FreePBX, pfSense, Rancher Os, SystemRescueCD, and Trinity Rescue Kit.\n- The Vultr\'s "Custom ISO image" feature allows you to install virtually any SO supported by KVM and the server architecture.\n- Linode does not preload your ssh keys into the instance automatically, but it\'s trivial to do it manually anyway (ssh-copy-id).\n- Scaleway has a curious way to provide custom images, a service called [[https://github.com/scaleway/image-builder][Image Builder.]] You have to create an instance with the Image Builder and from there you are able to create you own ISO image using a Docker builder system that create images that can run on real hardware.\n\n** Security\n\n|-----------------------------+------+---------+--------------+----------+-------|\n|                             | OVH  | Linode  | DigitalOcean | Scaleway | Vultr |\n|-----------------------------+------+---------+--------------+----------+-------|\n| 2FA                         | Yes  | Yes     | Yes          | Yes      | Yes   |\n| Restrict access IPs         | Yes  | Yes     | No           | No       | No    |\n| Account Login Logs          | No   | Partial | Yes          | No       | No    |\n| SSL Quality                 | [[https://www.ssllabs.com/ssltest/analyze.html?d=www.ovh.com][A-]]   | [[https://www.ssllabs.com/ssltest/analyze.html?d=manager.linode.com&s=69.164.200.204&latest][A+]]      | [[https://www.ssllabs.com/ssltest/analyze.html?d=cloud.digitalocean.com&s=104.16.25.4&hideResults=on][A+]]           | [[https://www.ssllabs.com/ssltest/analyze.html?d=cloud.scaleway.com][A]]        | [[https://www.ssllabs.com/ssltest/analyze.html?d=my.vultr.com&s=104.20.22.240&latest][A]]     |\n| DNS SPY Report              | [[https://dnsspy.io/scan/ovh.com][B]]    | [[https://dnsspy.io/scan/linode.com][B]]       | [[https://dnsspy.io/scan/digitalocean.com][B]]            | [[https://dnsspy.io/scan/scaleway.com][B]]        | [[https://dnsspy.io/scan/vultr.com][C]]     |\n| HTTP Security headers       | [[https://securityheaders.io/?q=www.ovh.com&followRedirects=on][F]] | [[https://securityheaders.io/?q=manager.linode.com&followRedirects=on][E]] | [[https://securityheaders.io/?q=cloud.digitalocean.com&followRedirects=on][C]] | [[https://securityheaders.io/?q=cloud.scaleway.com&followRedirects=on][F]] | [[https://securityheaders.io/?q=my.vultr.com&followRedirects=on][D]] |\n| Send root password by email | Yes  | No      | No           | No       | No    |\n| Account password recovery   | Link | Link    | Link         | Link     | Link  |\n|-----------------------------+------+---------+--------------+----------+-------|\n\nNotes:\n\n- Send plain text passwords by email is a very bad practice in terms of security.\n- OVH sends you the root password optionally if you use SSH keys, always in plain text if not.\n- Linode never sends you the root password because you are the one that sets it (even boot the instance for first time).\n- DigitalOcean sends you the passwords only if you don\'t use SSH keys, in plain text.\n- Vultr never sends you the root password, only the needed ones for one-click apps.\n- Linode only register the last login time for each user, and does not register the IP.\n- The account password recovery should be always through a reset link by email, and never get you current password back (and in plain text), but you never know... and if you find a provider doing that, you don\'t need to know anymore, get out of there as soon as possible and never reuse that password (any password).\n- DNS Spy Report is very useful to those that are going to use the provider to\n  manage their domains.\n\n* Plans (\xe2\x89\xa45$)\n\n** Features\n\n |----------------------+------------------+------------------------+----------------------------------------+--------------------+----------------------------------------+----------------------------------------|\n |                      | OVH              | Linode                 | DigitalOcean                           | Scaleway           | Vultr                                  | Vultr                                  |\n |----------------------+------------------+------------------------+----------------------------------------+--------------------+----------------------------------------+----------------------------------------|\n | Name                 | VPS SSD 1        | Linode 1024            | 5bucks                                 | VC1S               | 20GB SSD                               | 25GB SSD                               |\n |----------------------+------------------+------------------------+----------------------------------------+--------------------+----------------------------------------+----------------------------------------|\n | Monthly Price        | 3,62\xe2\x82\xac            | 5$                     | 5$                                     | 2,99\xe2\x82\xac              | 2,5$                                   | 5$                                     |\n | CPU / Threads        | 1/1              | 1/1                    | 1/1                                    | 1/2                | 1/1                                    | 1/1                                    |\n | CPU model            | Xeon E5v3 2.4GHz | Xeon E5-2680 v3 2.5GHz | Xeon E5-2650L v3 1.80 GHz              | Atom C2750 2.4 GHz | Intel Xeon 2.4 GHz                     | Intel Xeon 2.4 GHz                     |\n | RAM                  | 2 GB             | 1 GB                   | 512 MB                                 | 2 GB               | 512 MB                                 | 1 GB                                   |\n | SSD Storage          | 10 GB            | 20 GB                  | 20 GB                                  | 50 GB              | 20 GB                                  | 25 GB                                  |\n | Traffic              | \xe2\x88\x9e                | 1 TB                   | 1 TB                                   | \xe2\x88\x9e                  | 500 GB                                 | 1 TB                                   |\n | Bandwidth (In / Out) | 100/100 Mbps     | 40/1 Gbps              | 1/10 Gbps                              | 200/200 Mbps       | 1/10 Gbps                              | 1/10 Gbps                              |\n | Virtualization       | KVM              | KVM (Qemu)             | KVM                                    | KVM (Qemu)         | KVM (Qemu)                             | KVM (Qemu)                             |\n | Anti-DDoS Protection | Yes              | No                     | No                                     | No                 | 10$                                    | 10$                                    |\n | Backups              | No               | 2$                     | 1$                                     | No                 | 0,5 $                                  | 1$                                     |\n | Snapshots            | 2,99$            | Free (up to 3)         | 0,05$ per GB                           | 0,02 \xe2\x82\xac per GB      | Free (Beta)                            | Free (Beta)                            |\n | IPv6                 | Yes              | Yes                    | Optional                               | Optional           | Optional                               | Optional                               |\n | Additional public IP | 2$ (up to 16)    | Yes                    | Floating IPs (0,006$ hour if inactive) | 0,9\xe2\x82\xac (up to 10)    | 2$ (up to 2) / 3$ floating IPs         | 2$ (up to 2) / 3$ floating IPs         |\n | Private Network      | No               | Optional               | Optional                               | No (dynamic IPs)   | Optional                               | Optional                               |\n | Firewall             | Yes (by IP)      | No                     | Yes (by group)    | Yes (by group)     | Yes (by group)                         | Yes (by group)                         |\n | Block Storage        | From 5\xe2\x82\xac - 50GB   | No                     | From 10$ - 100GB                       | From 1\xe2\x82\xac - 50GB     | From 1$ - 10GB                         | From 1$ - 10GB                         |\n | Monitoring           | Yes (SLA)        | Yes (metrics, SLA)     | Beta (metrics, performance, SLA)       | No                 | No                                     | No                                     |\n | Load Balancer        | 13$              | 20$                    | 20$                                    | No                 | High availability (floating IPs & BGP) | High availability (floating IPs & BGP) |\n | DNS Zone             | Yes              | Yes                    | Yes                                    | No                 | Yes                                    | Yes                                    |\n | Reverse DNS          | Yes              | Yes                    | Yes                                    | Yes                | Yes                                    | Yes                                    |\n |----------------------+------------------+------------------------+----------------------------------------+--------------------+----------------------------------------+----------------------------------------|\n\n Note:\n- OVH hides its real CPU, but what they claim in their web matches with the hardware information reported in the tests (an E5-2620 v3 or  E5-2630 v3).\n- Vultr also hides the real CPU, but it could be a Xeon E5-2620/2630 v3 for the 20GB SSD plan and probably a v4 for the 25GB SSD one.\n- Vultr $2.50/month plan is only currently available in Miami, FL and New York, NJ.\n- OVH throttle network speed to 1 Mbps after excess monthly 10 TB traffic\n- The prices for DigitalOcean and Vultr do not include taxes (VAT) for European countries.\n- Linode allows you to have free additional public IPs but you have to request them to support and justify that you need them.\n- Linode Longview\'s monitoring system is free up to 10 clients, but also has a professional version that starts at 20$/mo for three client.\n- Linode don\'t support currently block storage, but they are working on it to offer the service in the upcoming months.\n- Linode snapshots (called Images) are limited to 2GB per Image, with a total of 10GB total Image storage and 3 Images per account. Disks of recently rebuilt instances are automatically stored as Images.\n- Scaleway also offers for the same price a BareMetal plan (with 4 ARM Cores), but as it is a dedicated server, I do not include it here.\n- Scaleway does not offers Anti-DDoS protection but they maintain that they use the Online.net\'s standard one.\n- Scaleway uses dynamic IPs by default as private IPs and you only can opt to use static IPs if you *remove* the Public IP from the instance.\n- Scaleway uses dynamic IPv6, meaning that IPv6 will change if you stop your server. You can\'t even opt to reserve IPv6.\n\n* Tests\n\n All the numbers showed here can be founded in the ~/logs~ folder in this\n repository, keep in mind that usually I show averages of several iterations of\n the same test.\n\n The graphs are generated with gnuplot directly from the tables of this\n ~README.org~ org-mode file. The tables are also automatically generated with a\n python script (~/ansible/roles/common/files/gather_data.py~) gathering the data\n contained in the log files. To be able to add more tests without touching the\n script, the criteria to gather the data and generate the tables are stored in a\n separate json file (~/ansible/roles/common/files/criteria.json~). The output of\n that script is a ~/logs/tables.org~ file that contain tables likes this:\n\n#+BEGIN_EXAMPLE\n|-\n| | Do-5Bucks-Ubuntu | Linode-Linode1024-Ubuntu | Ovh-Vpsssd1-Ubuntu | Scaleway-Vc1S-Ubuntu | Vultr-20Gbssd-Ubuntu | Vultr-25Gbssd-Ubuntu\n|-\n| Lynis (hardening index) |59 | 67 | 62 | 64 | 60 | 60\n| Lynis (tests performed) |220 | 220 | 220 | 225 | 230 | 231\n|-\n#+END_EXAMPLE\n\nThat does not seems like a table, but thanks to the awesome org-mode table\nmanipulation features, only by using the ~Ctrl-C Ctrl-C~ key combination that\nbecomes this:\n\n#+BEGIN_EXAMPLE\n|-------------------------+------------------+--------------------------+--------------------+----------------------+----------------------+----------------------|\n|                         | Do-5Bucks-Ubuntu | Linode-Linode1024-Ubuntu | Ovh-Vpsssd1-Ubuntu | Scaleway-Vc1S-Ubuntu | Vultr-20Gbssd-Ubuntu | Vultr-25Gbssd-Ubuntu |\n|-------------------------+------------------+--------------------------+--------------------+----------------------+----------------------+----------------------|\n| Lynis (hardening index) |               59 |                       67 |                 62 |                   64 |                   60 |                   60 |\n| Lynis (tests performed) |              220 |                      220 |                220 |                  225 |                  230 |                  231 |\n|-------------------------+------------------+--------------------------+--------------------+----------------------+----------------------+----------------------|\n#+END_EXAMPLE\n\nAnd finally using also a little magic from org-mode, org-plot and gnuplot, that\ntable would generate automatically a graph like the ones showed here with only a\nfew lines of text (see this file in raw mode to see how) and the ~Ctrl-c " g~\nkey combination over those lines. Thus, the only manual step is to copy/paste\nthose tables from that file into this one, and with only two key combinations\nfor table/graph the job is almost done (you can move/add/delete columns very\neasily with org-mode).\n\nThere is another python script (~/ansible~/roles/common/files/clean_ips.py~)\nthat automatically removes any public IPv4/IPv6 from the log files (only on\nthose that is needed).\n\n*** WARNING\n\n Performance tests can be affected by locations, data centers and VPS host\n neighbors. This is inherent to the same nature of the VPS service and can vary\n very significantly between instances of the same plan. For example, in the\n tests performed to realize this comparison I had found that in a plan (not\n included here, becasuse is more than $5/mo) a new instance that usually would\n give a UnixBench index about ~1700 only achieved an UnixBench index of\n 629,8. That\'s a considerable amount of lost performance in a VPS server... by\n the same price! Also the performance can vary over time, due to the VPS host\n neighbors. Because of this I discarded any instance that would report a poor\n performance and only show "typical" values for a given plan.\n\n** Automation\n\n   I have chosen Ansible to automate the tests to recollect information from the\n   VPS servers because once that the roles are write down it\'s pretty easy to\n   anyone to replicate them and get its own results with a little effort.\n\n   The first thing that you have to do is to edit the ~/ansible/hosts~ file to\n   use your own servers. In the template provided there are not real IPs\n   present, but serves you as a guide of how to manage them. For example in this\n   server:\n\n#+BEGIN_SRC\n    [digitalocean]\n    do-5bucks-ubuntu          ansible_host=X.X.X.X   ansible_python_interpreter=/usr/bin/python3\n#+END_SRC\n\n   You should have to put your own server IP. The interpreter path is only\n   needed when there is not a Python 2 interpreter available by default (like in\n   Ubuntu). Also I\'m using the variables per group to declare the default user\n   of a server, and I\'m grouping servers by provider. So, a complete example for\n   a new provider using a new instance running Ubuntu should be like this:\n\n#+BEGIN_SRC\n    [new_provider]\n    new_provider-plan_name-ubuntu   ansible_host=X.X.X.X   ansible_python_interpreter=/usr/bin/python3\n\n    [new_provider:vars]\n    ansible_user=root\n#+END_SRC\n\n   And you can add as many servers/providers as you want. If you are already\n   familiar with Ansible, you can suit the inventory file (~/ansible/hosts~) as\n   you need.\n\n   Then, you can start to tests the servers/providers using Ansible by running\n   the playbook, but should be a good idea to test the access first with a ping\n   (from the ~/ansible~ folder):\n\n#+BEGIN_SRC sh\n  $ ansible all -m ping\n#+END_SRC\n\n   If it\'s the first time that you are SSHing to a server, you are probably\n   going to be asked to add it to the =~/.ssh/known_hosts= file.\n\n   Then you can easily execute all the tasks in a server by:\n\n#+BEGIN_SRC sh\n  $ ansible-playbook site.yml -f 6\n#+END_SRC\n\n   With the ~-f 6~ option you can specify how many forks you want to create to\n   execute the tasks in parallel, the default is 5 but as I use here 6 VPS plans\n   I use also 6 forks.\n\n   You can also run only selected tasks/roles by using tags. You can list all\n   the available tasks:\n\n#+BEGIN_SRC sh\n  $ ansible-playbook site.yml --list-tasks\n#+END_SRC\n\n   And run only the tags that you want:\n\n#+BEGIN_SRC sh\n  $ ansible-playbook site.yml -t benchmark\n#+END_SRC\n\n  All the roles are set to store the logs of the tests in the ~/logs/~ folder\n  using the ~/logs/server_name~ folder structure.\n\n  *WARNING:*\n\n  All the tests that I include here are as "atomic" as possible, that is that in\n  every one of them I try to leave the server in a state as close as it was\n  before perform it, with the exception that I keep the logs. By the way, the\n  logs are stored in the ~/tmp~ folder intentionally because they will disappear\n  when you reboot the instance. There are three main reasons why I try to make\n  the tests as atomic as possible and do not take advantage of some common tasks\n  and perform them only once:\n\n  - Some plans have so little disk space available that if I do not erase\n    auxiliary files and packages between tests, they run out of space soon, and\n    worse, some of them until the point of make them unavailable to SSH\n    connections (e.g. OVH), making necessary manual intervention in the control\n    panel and ruining the advantage of the automation that Ansible give us.\n  - I want as little interference as possible between tests, and try to perform\n    them always in a state close to the default one of the instance. Some of\n    them (e.g. lynis, ports) change their results significantly if they are\n    performed after some of the package/configuration changes that other tests\n    do.\n  - In this way, and with a clever use of the Ansible tags, you can perform\n    individual tests without the need of execute the entire Ansible playbook.\n\n  Perhaps the only major drawback of this approach is that it consumes more time\n  globally when you perform all the tests together.\n\n** Location and SO\n\n   All the instances were allocated in London (GB), except for OVH VPS SSD 1 in\nGravelines (FR) and Scaleway VC1S in Paris (FR).\n\n   All the instances were running on Ubuntu 16.04 LTS\n\n   Currently the Vultr\'s 20GB SSD plan is sold out and is unavailable\n   temporarily, thus I only performed some tests (and some in a previous\n   version) in an instance that I deleted before new ones become unavailable. I\n   have the intention to retake the test as soon as the plan is available again.\n\n** System Performance\n\n*** UnixBench\n\n  [[https://github.com/kdlucas/byte-unixbench][UnixBench]] as is described in its page:\n\n  The purpose of UnixBench is to provide a basic indicator of the performance of\n  a Unix-like system; hence, multiple tests are used to test various aspects of\n  the system\'s performance. These test results are then compared to the scores\n  from a baseline system to produce an index value, which is generally easier to\n  handle than the raw scores. The entire set of index values is then combined to\n  make an overall index for the system.\n\n  Keep in mind, that this index is very influenced by the CPU raw power, and\n  does not reflect very well another aspects like disk performance. In this\n  index, more is better.\n\n  I only execute this test once because it takes some time -about 30-45 minutes\n  depending of the server- and the variations between several runs are almost\n  never significant.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:1700]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/unixbench.png"\n    |------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan                         | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | UnixBench (index, 1 thread)  |        1598.1 |      1248.6 |    1264.6 |         629.8 |         1555.1 |         1579.9 |\n    | UnixBench (index, 2 threads) |               |             |           |        1115.1 |                |                |\n    |------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n[[./img/unixbench.png]]\n\n**** Individual test indexes of the UnixBench benchmark.\n\n     In this table I show the individual tests results that compose the UnixBench\n     benchmark index.\n\n    #+PLOT: ind:2 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'black\'"   # This is the dumb column to identify the rows\n    #+PLOT: set:"linetype 2 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 7 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,400"\n    #+PLOT: file:"./img/unixbench_detailed.png"\n    |---------------------------------------+---+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan                                  |   | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |---------------------------------------+---+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Dhrystone 2 using register variables  | A |        2510.2 |      2150.0 |    2061.0 |        1057.9 |         2530.5 |         2474.5 |\n    | Double-Precision Whetstone            | B |         583.6 |       539.7 |     474.6 |         367.5 |          578.2 |          656.9 |\n    | Execl Throughput                      | C |        1038.9 |       941.8 |     799.5 |         400.0 |          963.8 |         1027.8 |\n    | File Copy 1024 bufsize 2000 maxblocks | D |        2799.5 |      1972.7 |    2222.5 |        1094.4 |         2775.3 |         2608.8 |\n    | File Copy 256 bufsize 500 maxblocks   | E |        1908.7 |      1286.2 |    1440.1 |         752.6 |         1888.8 |         1851.4 |\n    | File Copy 4096 bufsize 8000 maxblocks | F |        3507.1 |      2435.6 |    2692.6 |        1729.9 |         3248.4 |         3212.1 |\n    | Pipe Throughput                       | G |        1846.5 |      1472.1 |    1468.7 |         894.0 |         1813.6 |         1789.6 |\n    | Pipe-based Context Switching          | H |         744.0 |       623.2 |     597.2 |          60.3 |          739.0 |          746.3 |\n    | Process Creation                      | I |         904.5 |       690.5 |     706.8 |         288.2 |          848.1 |          949.9 |\n    | Shell Scripts (1 concurrent)          | J |        1883.2 |      1442.0 |    1501.9 |         801.9 |         1787.8 |         1851.2 |\n    | Shell Scripts (8 concurrent)          | K |        1725.0 |      1144.4 |    1362.7 |        1221.8 |         1665.9 |         1679.1 |\n    | System Call Overhead                  | L |        2410.1 |      2034.4 |    1955.6 |        1154.7 |         2461.0 |         2366.4 |\n    |---------------------------------------+---+---------------+-------------+-----------+---------------+----------------+----------------|\n\n [[./img/unixbench_detailed.png]]\n\n   Notes:\n\n   - Scaleway VC1S is the only plan that offers two CPU threads, so in the table\n     and the graph I only show the single thread numbers for a more fair comparison.\n\n*** Sysbench\n\n    Notes:\n\n    - I\'m only using one thread here for Scaleway\'s plan, to a more fair comparison.\n\n   [[https://github.com/akopytov/sysbench][Sysbench]] is a popular benchmarking tool that can test CPU, file I/O, memory,\n   threads, mutex and MySQL performance. One of the key features is that is\n   scriptable and can perform complex tests, but I rely here on several\n   well-known standard tests, basically to compare them easily to others that\n   you can find across the web.\n\n**** Sysbench cpu\n\n    In this test the cpu would verify a given primer number, by a brute force\n    algorithm that calculates all the divisions between this one and all the\n    numbers prior the square root of it from 2. It\'s a classic cpu stress test\n    and usually a more powerful cpu would employ less time in this test, thus\n    less is better.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/sysbench_cpu.png"\n    |------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan                   | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Sysbench CPU (seconds) |        31.922 |      37.502 |    39.080 |        46.130 |         30.222 |         30.544 |\n    |------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n  [[./img/sysbench_cpu.png]]\n\n**** Sysbench memory\n\n    This test measures the memory performance, it allocates a memory buffer and\n    reads/writes from it randomly until all the buffer is done. In this test,\n    more is better.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/sysbench_ram_mb.png"\n    |--------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan                           | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |--------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Sysbench RAM rand read (Mb/s)  |      2279.750 |    1334.162 |  1262.542 |      1228.898 |                |       2146.132 |\n    | Sysbench RAM rand write (Mb/s) |      2196.174 |    1310.624 |  1221.276 |      1181.516 |                |       2062.046 |\n    |--------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n    [[./img/sysbench_ram_mb.png]]\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/sysbench_ram_iops.png"\n    |--------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan                           | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |--------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Sysbench RAM rand read (IOPS)  |       2334463 |     1366183 |   1292842 |       1258393 |                |        2197641 |\n    | Sysbench RAM rand write (IOPS) |       2248883 |     1342079 |   1250589 |       1209873 |                |        2111535 |\n    |--------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n[[./img/sysbench_ram_iops.png]]\n\n**** Sysbench fileio\n\n     Here is the file system what is put to test. It measures the disk\n     input/output operations with random reads and writes. The numbers are more\n     reliable when the total file size is more greater than the amount of memory\n     available, but due to the limitations that some plans have in disk space I\n     had to restrain that to only 8GB. In this test, more is better.\n\n     Notes:\n\n     - It\'s very clear that something is going on with OVH in this plan, in all\n       the tests like this that I did the numbers were always close to or even\n       exactly 1000 IOPS and around to 4 MB/s. The only explanation to those\n       numbers that occurs to me is that they are limited on purpose. Seems that\n       other clients with this plan does not have this problem, while others\n       complain about the same results I have.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/sysbench_fileio_mb.png"\n    |---------------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Plan                            | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n    |---------------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Sysbench file rand read (Mb/s)  |         4.813 |      19.240 |    48.807 |        41.353 | Temp. unavailable |         23.022 |\n    | Sysbench file rand write (Mb/s) |         4.315 |       5.529 |    21.400 |         2.482 | Temp. unavailable |         17.510 |\n    |---------------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n[[./img/sysbench_fileio_mb.png]]\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/sysbench_fileio_iops.png"\n    |---------------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Plan                            | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n    |---------------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Sysbench file rand read (IOPS)  |          1232 |        4925 |     12495 |         10586 | Temp. unavailable |           5984 |\n    | Sysbench file rand write (IOPS) |          1105 |        1415 |      5478 |           635 | Temp. unavailable |           4482 |\n    |---------------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n[[./img/sysbench_fileio_iops.png]]\n\n**** Sysbench oltp (database)\n\n     Here the test measures the database performance. I used the MySQL database\n     for this tests, but the results could be applied also to the MariaDB\n     database. More requests per second is better but less 95% percentile is\n     better.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/sysbench_oltp.png"\n    |--------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan                     | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |--------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | DB R/W (request/second)  |       245.590 |      212.42 |   232.266 |       176.700 |        245.127 |        243.832 |\n    | request approx. 95% (ms) |       203.210 |     242.100 |   218.490 |       268.086 |        203.410 |        205.786 |\n    |--------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n[[./img/sysbench_oltp.png]]\n\n*** fio\n\n    [[https://github.com/axboe/fio][fio]] is a benchmarking tool used to measure I/O operations performance,\n    usually oriented to disk workloads, but you could use it to measure network,\n    cpu and memory I/O as well. It\'s scriptable and can simulate complex\n    workloads, but I use it here in a simple way to measure the disk\n    performance. In this test, more is better.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/fio_io.png"\n    |-----------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan            | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |-----------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Read IO (MB/s)  |         3.999 |     111.622 |   581.851 |       266.779 |        249.672 |        244.385 |\n    | Write IO (MB/s) |         3.991 |        93.6 |    35.317 |        84.684 |        192.748 |        194.879 |\n    |-----------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n[[./img/fio_io.png]]\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/fio_iops.png"\n    |------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan       | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Read IOPS  |           999 |       27905 |    145487 |         66694 |          62417 |          60913 |\n    | Write IOPS |           997 |       23399 |      8828 |         21170 |          48186 |          48719 |\n    |------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n[[./img/fio_iops.png]]\n\n*** dd\n\n    A classic, the ubiquitous ~dd~ tool that is being used forever for tons of\n    sysadmins for diverse purposes. I use here a pair of well-known fast tests\n    to measure the CPU and disk performance. Not very reliable (e.g. the disk is\n    only a sequential operation) but they are good enough to get an idea, and I\n    include them here because many people use them. In the CPU test less is\n    better and the opposite in the disk test.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:4.5]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/dd_cpu.png"\n    |------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan             | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | dd CPU (seconds) |         2.684 |       2.935 |     3.292 |         4.199 |          2.667 |          2.715 |\n    |------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n  [[./img/dd_cpu.png]]\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/dd_io.png"\n    |--------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan         | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |--------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | dd IO (MB/s) |           550 |       467.4 |     702.6 |         163.6 |            477 |          458.2 |\n    |--------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n[[./img/dd_io.png]]\n\n*** compiler\n\n    This test measures the time in seconds that a server takes to compile the\n    [[https://mariadb.org/][MariaDB]] server. This is not a synthetic test and gives you a more realistic\n    workload to compare them. Also helps to reveal the flaws that some plans\n    have due their limitations (e.g. cpu power in Scaleway and memory available\n    in DO). In this test, less is better.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/compile_mariadb.png"\n    |---------------------------+---------------+-------------+---------------+---------------+-------------------+----------------|\n    | Plan                      | OVH VPS SSD 1 | Linode 1024 | DO 5bucks     | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n    |---------------------------+---------------+-------------+---------------+---------------+-------------------+----------------|\n    | Compile MariaDB (seconds) |        1904.7 |      3070.2 | out of memory |        5692.7 | Temp. unavailable |         2069.3 |\n    |---------------------------+---------------+-------------+---------------+---------------+-------------------+----------------|\n\n[[./img/compile_mariadb.png]]\n\n  Notes:\n\n  - The compilation in DO fails at 65% after about 35min, the process it\'s killed when gets\n    out of memory.\n\n*** transcode video\n\n    In this test the measure is the frames per second achieved to transcode a\n    video with ~ffmpeg~ (or ~avconv~ in Debian). This is also a more realistic\n    approach to compare them, because is a more real workload (even when is not\n    usually performed in VPS servers) and stress heavily the CPU, but making\n    also a good use of the disk and memory. In this test, more is better.\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:6.5]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"datafile commentschars \'#\'"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/transcode.png"\n    |------+---------------+-------------+---------------+---------------+-------------------+----------------|\n    | Plan | OVH VPS SSD 1 | Linode 1024 | DO 5bucks     | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n    |------+---------------+-------------+---------------+---------------+-------------------+----------------|\n    | FPS  |           5.9 |         4.7 | out of memory |           3.2 | Temp. unavailable |            5.6 |\n    |------+---------------+-------------+---------------+---------------+-------------------+----------------|\n\n[[./img/transcode.png]]\n\n   Note:\n\n   - In DO the process is killed when ran out of memory.\n\n** Network Performance\n\n*** downloads\n\n    This test try to measure the average network speed downloading a 100mbit\n    file and the average sustained speed downloading a 10gb file from various\n    locations. I include some files that are in the same provider network as the\n    plans that I compare here to see how much influence this factor has\n    (remember that Scaleway belongs to Online.net). In the bash script used\n    there are more files and locations, but I only use some of them to limit the\n    monthly bandwidth usage of the plan. In this test, more is better.\n\n**** 100Mbit file IPv4\n\n    #+PLOT: ind:2 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'black\'"   # This is the dumb column to identify the rows\n    #+PLOT: set:"linetype 2 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 7 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/downloads_100v4.png"\n    |-------------------+---+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Plan              |   | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n    |-------------------+---+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Cachefly CDN      | A |        11.033 |      84.367 |       123 |        82.567 | Temp. unavailable |        182.333 |\n    | DigitalOcean (GB) | B |          11.9 |      90.767 |       137 |        79.633 |                   |        148.333 |\n    | LeaseWeb (NL)     | C |          11.9 |     100.067 |    87.867 |       105.667 |                   |        162.333 |\n    | Linode (GB)       | D |          11.9 |     110.667 |   125.333 |        77.233 |                   |        134.667 |\n    | Online.net (FR)   | E |          11.9 |       17.90 |    66.200 |         110.3 |                   |         73.267 |\n    | OVH (FR)          | F |            12 |       43.10 |      53.9 |          41.8 |                   |                |\n    | Softlayer (FR)    | G |          11.8 |      34.067 |    77.267 |          52.1 |                   |         79.533 |\n    | Vultr (GB)        | H |          11.9 |      32.867 |   121.667 |          60.2 |                   |            195 |\n    |-------------------+---+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n[[./img/downloads_100v4.png]]\n\n**** 100Mbit file IPv6\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/downloads_100v6.png"\n    |-------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Plan              | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n    |-------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | DigitalOcean (GB) |               |        89.7 |   145.667 |           113 | Temp. unavailable |            146 |\n    | LeaseWeb (NL)     |               |        98.7 |      13.6 |       109.967 |                   |        174.333 |\n    | Linode (GB)       |               |     109.667 |   126.333 |       111.333 |                   |        113.333 |\n    | Softlayer (FR)    |               |      42.223 |    91.567 |        31.233 |                   |         63.633 |\n    |-------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n[[./img/downloads_100v6.png]]\n\n**** 10Gbit file IPv4\n\n    #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n    #+PLOT: set:"style histogram cluster gap 1"\n    #+PLOT: set:"style fill solid"\n    #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n    #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n    #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n    #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n    #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n    #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n    #+PLOT: set:"boxwidth bw"\n    #+PLOT: set:"grid"\n    #+PLOT: set:"xrange writeback extend"\n    #+PLOT: set:"xtics scale 0"\n    #+PLOT: set:"key outside horizontal"\n    #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n    #+PLOT: file:"./img/downloads_10gv4.png"\n    |-----------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | Plan            | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n    |-----------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n    | CDN77 (NL)      |        11.967 |        91.6 |      65.9 |       120.667 | Temp. unavailable |        161.667 |\n    | Online.net (FR) |        11.933 |      21.467 |    64.333 |       117.333 |                   |        158.333 |\n    | OVH (FR)        |        11.967 |        54.2 |     41.15 |        37.867 |                   |            158 |\n    |-----------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n[[./img/downloads_10gv4.png]]\n*** speedtest\n\n    This test uses [[http://www.speedtest.net/][speedtest.net]] service to measure the average download/upload\n    network speed from the VPS server. To do that I use the awesome\n    [[https://github.com/sivel/speedtest-cli][speedtest-cli]] python script to be able to do it from the command line.\n\n    Keep in mind that this test is not very reliable because depends a lot of\n    the network capabilities and status of the speedtest\'s nodes (I try to\n    choose always the fastest node in each city). But it gives you an idea of\n    the network interconnections of each provider.\n\n    In those tests more is better.\n\n**** Nearest location\n\n     #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n     #+PLOT: set:"style histogram cluster gap 1"\n     #+PLOT: set:"style fill solid"\n     #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n     #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n     #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n     #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n     #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n     #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n     #+PLOT: set:"boxwidth bw"\n     #+PLOT: set:"grid"\n     #+PLOT: set:"xrange writeback extend"\n     #+PLOT: set:"xtics scale 0"\n     #+PLOT: set:"key outside horizontal"\n     #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n     #+PLOT: file:"./img/speedtest_near.png"\n     |-------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n     | Plan                    | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n     |-------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n     | Nearest Download (Mb/s) |        99.487 |     719.030 |   743.270 |       815.250 | Temp. unavailable |        584.740 |\n     | Nearest Upload (Mb/s)   |        80.552 |     273.677 |   464.403 |       288.130 |                   |         94.037 |\n     |-------------------------+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n [[./img/speedtest_near.png]]\n\n**** European cities download\n\n     #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n     #+PLOT: set:"style histogram cluster gap 1"\n     #+PLOT: set:"style fill solid"\n     #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n     #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n     #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n     #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n     #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n     #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n     #+PLOT: set:"boxwidth bw"\n     #+PLOT: set:"grid"\n     #+PLOT: set:"xrange writeback extend"\n     #+PLOT: set:"xtics scale 0"\n     #+PLOT: set:"key outside horizontal"\n     #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n     #+PLOT: file:"./img/speedtest_eur_down.png"\n     |-----------+---------------+-------------+-----------+---------------+-------------------+----------------|\n     | Plan      | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n     |-----------+---------------+-------------+-----------+---------------+-------------------+----------------|\n     | Madrid    |        98.940 |     390.947 |   376.187 |       367.177 | Temp. unavailable |        535.477 |\n     | Barcelona |        98.550 |     319.777 |   489.210 |       558.573 |                   |        796.617 |\n     | Paris     |        96.237 |     343.067 |   720.700 |        339.76 |                   |        493.723 |\n     | London    |        98.897 |    1395.290 |  1260.607 |       766.277 |                   |       3050.463 |\n     | Berlin    |        94.233 |     309.860 |   525.137 |       453.267 |                   |        943.980 |\n     | Rome      |        98.910 |      321.69 |   527.560 |       636.857 |                   |        964.350 |\n     |-----------+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n [[./img/speedtest_eur_down.png]]\n\n**** European cities upload\n\n     #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n     #+PLOT: set:"style histogram cluster gap 1"\n     #+PLOT: set:"style fill solid"\n     #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n     #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n     #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n     #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n     #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n     #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n     #+PLOT: set:"boxwidth bw"\n     #+PLOT: set:"grid"\n     #+PLOT: set:"xrange writeback extend"\n     #+PLOT: set:"xtics scale 0"\n     #+PLOT: set:"key outside horizontal"\n     #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n     #+PLOT: file:"./img/speedtest_eur_up.png"\n     |-----------+---------------+-------------+-----------+---------------+-------------------+----------------|\n     | Plan      | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD    | Vultr 25GB SSD |\n     |-----------+---------------+-------------+-----------+---------------+-------------------+----------------|\n     | Madrid    |        87.937 |     151.977 |   172.437 |        57.333 | Temp. unavailable |        128.560 |\n     | Barcelona |        85.670 |     152.757 |   148.080 |        41.480 |                   |        177.963 |\n     | Paris     |        91.173 |     182.267 |   337.737 |       199.737 |                   |        169.450 |\n     | London    |        86.360 |     302.350 |   282.380 |       107.260 |                   |        489.013 |\n     | Berlin    |        86.353 |      99.223 |   206.170 |        75.100 |                   |        194.157 |\n     | Rome      |        87.387 |      116.90 |    44.350 |        59.053 |                   |        121.390 |\n     |-----------+---------------+-------------+-----------+---------------+-------------------+----------------|\n\n [[./img/speedtest_eur_up.png]]\n\n** Web Performance\n\n   I\'m going to use two popular blog platforms to benchmark the web performance\n   in each instance: WordPress and Ghost. In order to minimize the hassle and\n   avoid any controversies (Apache vs Nginx, which DB, wich PHP, what cache to\n   use, etc) and also make all the process easier I\'m going to use the [[https://bitnami.com/][Bitnami]]\n   stacks to install both programs. Even when I\'m not specially fond of Bitnami\n   stacks (I would use other components), being self-contained helps a lot to\n   make easier the task as atomic and revert the server at the end to the\n   previous state.  To use two real products, even with dummy blog pages, makes\n   a great difference from using only a "Hello world!" HTML page, specially with\n   WordPress that also stresses heavily the database.\n\n   The [[https://bitnami.com/stack/wordpress][Bitnami\'s Wordpress]] stack uses Apache 2.4, MySQL 5.7, PHP 7, Varnish\n   4.1, and Wordpress 4.7\n\n   The [[https://bitnami.com/stack/ghost][Ghost]] stack uses Apache 2.4, Node.js 6.10, SQlite 3.7, Python 2.7 y Ghost\n   0.11\n\n   To perform the tests I\'m going to use also another two popular tools:\n   [[https://httpd.apache.org/docs/2.4/programs/ab.html][ApacheBench (aka ab)]] and [[https://github.com/wg/wrk][wrk.]] In order to do the tests properly, you have to\n   perform the tests from another machine, and even when I could use a new\n   instance to test all the other instances, I think that the local computer is\n   enough to test all of this plans. But there is a drawback, you need a good\n   internet connection, preferably with a small latency and a great bandwidth,\n   because all the tests are going to be performed in parallel. I\'m using a\n   symmetric fiber optic internet access with enough bandwidth, thus I did not\n   had any constrain in my side. But with bigger plans, and specially with wrk\n   and testing with more simultaneous connections it would be eventually a\n   problem, in that case a good VPS server to perform the tests would be\n   probably a better solution. I cold use an online service but that would make\n   more difficult and costly the reproducibility of these tests by anyone by\n   their own. Also I could use another tools (Locust, Gatling, etc), but they\n   have more requirements and would cause more trouble sooner in the local\n   machine. Also wrk is enough in their own to saturate almost any VPS web\n   server with very small requirements in the local machine, and faster.\n\n   To avoid install or compile any software in the local machine, specially wrk\n   that is not present in all the distributions, I\'m going to use two Docker\n   images ([[https://hub.docker.com/r/williamyeh/wrk/][williamyeh/wrk]] and [[https://hub.docker.com/r/jordi/ab/][jordi/ab]]) to perform the tests. In the\n   circumstances of these tests, using Docker almost does not cause any\n   performance loss on the local machine, is more than enough. But if we want to\n   test bigger plans with more stress, then it would be wiser to install locally\n   both tools and perform the tests from them.\n\n   Anyway, there is a moment, no matter with software I use to perform the tests\n   (but specially with wrk), that when testing WordPress the requests are so\n   much that the system runs out of memory and the MySQL database is killed and\n   eventually the Apache server is killed too if the test persists enough, until\n   that the server would be unavailable for a few minutes (some times never\n   recover on its own and I had to restart it from the control panel). After\n   all, is a kind of mini DDoS attack what are performing here. This can be\n   improved a lot with other stack components and a careful configuration. The\n   thing here is that all of the instances are tested with the same\n   configuration. Thus, I do not try here to test the maximum capacity of a\n   server as much as I try to compare them under the same circumstances. To\n   avoid lost the SSH connection (and have to perform a manual intervention)\n   with the servers, I limit the connections until a certain point, pause the\n   playbook five minutes and then restart the stack before perform the next\n   test.\n\n   In the servers where the memory available is less than 1GB, to be able to\n   install the stacks, I set a swap cache file of 512GB. But to perform the\n   tests I deactivate that cache memory to compare all of them in the default\n   offered conditions.\n   \n*** WordPress\n\n**** ApacheBench\n\n***** Requests\n\n       This graph show the number of requests achieved with several concurrent\n       connections in 3 minutes, more valid requests is better.\n\n****** 10 connections\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_10_requests.png"\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan              | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Total (requests)  |          4562 |        3496 |      3921 |          3901 |                |           4180 |\n       | Failed (requests) |             0 |           0 |         0 |             0 |                |              0 |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Valid (requests)  |          4562 |        3496 |      3921 |          3901 |              0 |           4180 |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       #+TBLFM: @4$2=@2-@3::@4$3=@2-@3::@4$4=@2-@3::@4$5=@2-@3::@4$6=@2-@3::@4$7=@2-@3\n\n       [[./img/web_wp_ab_10_requests.png]]\n\n****** 25 connections\n\n       I truncate the graph by the top here because of the excess of invalid\n       requests from DO misrepresents the most important value, the successful\n       requests.\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:7000]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_25_requests.png"\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan              | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Total (requests)  |          5412 |        4310 |     18653 |          4248 |                |           5293 |\n       | Failed (requests) |             0 |           0 |     18542 |             0 |                |              0 |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Valid (requests)  |          5412 |        4310 |       111 |          4248 |              0 |           5293 |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       #+TBLFM: @4$2=@2-@3::@4$3=@2-@3::@4$4=@2-@3::@4$5=@2-@3::@4$6=@2-@3::@4$7=@2-@3\n\n       [[./img/web_wp_ab_25_requests.png]]\n\n****** 50 connections\n\n       I truncate the graph by the top here because of the excess of invalid\n       requests from DO misrepresents the most important value, the successful\n       requests.\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:7000]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_50_requests.png"\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan              | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Total (requests)  |          5597 |        3976 |     30283 |          3900 |                |           5267 |\n       | Failed (requests) |             0 |           0 |     30201 |             0 |                |              0 |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Valid (requests)  |          5597 |        3976 |        82 |          3900 |              0 |           5267 |\n       |-------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       #+TBLFM: @4$2=@2-@3::@4$3=@2-@3::@4$4=@2-@3::@4$5=@2-@3::@4$6=@2-@3::@4$7=@2-@3\n\n       [[./img/web_wp_ab_50_requests.png]]\n\n***** Requests per second\n\n       This graph show the requests per second achieved with several concurrent\n       connections in 3 minutes, more is better.\n\n****** 10 connections\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_10_rps.png"\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan                            | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Requests per second (mean, RPS) |         25.34 |       19.40 |     21.78 |         21.66 |                |          23.22 |\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n       [[./img/web_wp_ab_10_rps.png]]\n\n****** 25 connections\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_25_rps.png"\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan                            | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Requests per second (mean, RPS) |         30.06 |       23.93 |           |         23.60 |                |          29.40 |\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n       [[./img/web_wp_ab_25_rps.png]]\n\n        Note:\n\n       - The requests per second in DO is not a valid number because ab makes no\n         distinction between valid and failed requests.\n    \n****** 50 connections\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_50_rps.png"\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan                            | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Requests per second (mean, RPS) |         31.09 |       22.09 |           |         21.67 |                |          29.26 |\n       |---------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n       [[./img/web_wp_ab_50_rps.png]]\n\n       Note:\n\n       - The requests per second in DO is not a valid number because ab makes no\n         distinction between valid and failed requests.\n    \n***** Time per request\n\n       This other chart shows the mean time per request and under what time are\n       served the 95% of all requests. Less is better.\n\n****** 10 connections\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_10_times.png"\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan                             | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Time per request (mean, ms)      |       394.565 |     515.481 |   459.156 |       461.720 |                |        430.655 |\n       | 95% request under this time (ms) |           624 |         840 |       779 |           711 |                |            725 |\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n       [[./img/web_wp_ab_10_times.png]]\n\n****** 25 connections\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_25_times.png"\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan                             | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Time per request (mean, ms)      |       831.539 |    1044.750 |           |      1059.526 |                |        850.458 |\n       | 95% request under this time (ms) |          1157 |        1492 |           |          1486 |                |           1195 |\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n\n       [[./img/web_wp_ab_25_times.png]]\n\n       Note:\n\n       - The times in DO are not a valid numbers because ab makes no distinction between valid and failed requests.\n\n****** 50 connections\n\n       #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n       #+PLOT: set:"style histogram cluster gap 1"\n       #+PLOT: set:"style fill solid"\n       #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n       #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n       #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n       #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n       #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n       #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n       #+PLOT: set:"boxwidth bw"\n       #+PLOT: set:"grid"\n       #+PLOT: set:"xrange writeback extend"\n       #+PLOT: set:"xtics scale 0"\n       #+PLOT: set:"key outside horizontal"\n       #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n       #+PLOT: file:"./img/web_wp_ab_50_times.png"\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Plan                             | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n       | Time per request (mean, ms)      |      1608.017 |    2263.603 |           |      2307.753 |                |       1708.784 |\n       | 95% request under this time (ms) |          2289 |        3122 |           |          3082 |                |           2489 |\n       |----------------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n       [[./img/web_wp_ab_50_times.png]]\n\n       Note:\n\n       - The times in DO are not a valid numbers because ab makes no distinction between valid and failed requests.\n\n**** wrk\n\n     With those tests, using the wrk capacity to saturate almost any server, I\n     increment the connections in three steps (100, 150, 200) under a 3 minutes\n     load to be how the performance of each server is degrading. I could use\n     a linear plot, but that would make me to change the gather python script\n     and I think that\'s clear enough in this way.\n\n     Of course, the key here is the amount of memory, the plans that support\n     more load are also the ones that have more memory.\n\n     More valid requests is better.\n\n***** 100 connections\n\n     I truncate the graph by the top here because of the excess of invalid\n     requests (the database is killed to soon) from Vultr misrepresents the\n     most important value, the successful requests.\n\n     #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:7000]"\n     #+PLOT: set:"style histogram cluster gap 1"\n     #+PLOT: set:"style fill solid"\n     #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n     #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n     #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n     #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n     #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n     #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n     #+PLOT: set:"boxwidth bw"\n     #+PLOT: set:"grid"\n     #+PLOT: set:"xrange writeback extend"\n     #+PLOT: set:"xtics scale 0"\n     #+PLOT: set:"key outside horizontal"\n     #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n     #+PLOT: file:"./img/web_wp_wrk_100.png"\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Plan               | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Total (requests)   |          5190 |        4411 |     14872 |          4670 |                |           5644 |\n     | Timeout (requests) |          4088 |        3956 |      1106 |          4257 |                |           4297 |\n     | Failed (requests)  |               |             |     14773 |               |                |                |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Valid (requests)   |          1102 |         455 |     -1007 |           413 |              0 |           1347 |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     #+TBLFM: @5$2=@2-@3-@4::@5$3=@2-@3-@4::@5$4=@2-@3-@4::@5$5=@2-@3-@4::@5$6=@2-@3-@4::@5$7=@2-@3-@4\n\n     [[./img/web_wp_wrk_100.png]]\n\n***** 150 connections\n\n     I truncate the graph by the top here because of the excess of invalid\n     requests (the database is killed to soon) from Vultr & DO misrepresents the\n     most important value, the successful requests.\n\n     #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:8000]"\n     #+PLOT: set:"style histogram cluster gap 1"\n     #+PLOT: set:"style fill solid"\n     #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n     #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n     #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n     #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n     #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n     #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n     #+PLOT: set:"boxwidth bw"\n     #+PLOT: set:"grid"\n     #+PLOT: set:"xrange writeback extend"\n     #+PLOT: set:"xtics scale 0"\n     #+PLOT: set:"key outside horizontal"\n     #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n     #+PLOT: file:"./img/web_wp_wrk_150.png"\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Plan               | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Total (requests)   |          6870 |        4554 |     32561 |          4809 |                |          94838 |\n     | Timeout (requests) |          6647 |        4434 |       752 |          4709 |                |            824 |\n     | Failed (requests)  |               |             |     32464 |               |                |          94154 |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Valid (requests)   |           223 |         120 |      -655 |           100 |              0 |           -140 |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     #+TBLFM: @5$2=@2-@3-@4::@5$3=@2-@3-@4::@5$4=@2-@3-@4::@5$5=@2-@3-@4::@5$6=@2-@3-@4::@5$7=@2-@3-@4\n\n     [[./img/web_wp_wrk_150.png]]\n\n***** 200 connections\n\n     I truncate the graph by the top here because of the excess of invalid\n     requests (the database is killed to soon) from several plans misrepresents\n     the most important value, the successful requests.\n\n     #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:9000]"\n     #+PLOT: set:"style histogram cluster gap 1"\n     #+PLOT: set:"style fill solid"\n     #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n     #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n     #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n     #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n     #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n     #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n     #+PLOT: set:"boxwidth bw"\n     #+PLOT: set:"grid"\n     #+PLOT: set:"xrange writeback extend"\n     #+PLOT: set:"xtics scale 0"\n     #+PLOT: set:"key outside horizontal"\n     #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n     #+PLOT: file:"./img/web_wp_wrk_200.png"\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Plan               | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Total (requests)   |         27967 |       44710 |      8817 |         22691 |                |          53795 |\n     | Timeout (requests) |          5003 |        1071 |      1040 |          3630 |                |           1216 |\n     | Failed (requests)  |         22774 |       43837 |      8740 |         18996 |                |          53088 |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Valid (requests)   |           190 |        -198 |      -963 |            65 |              0 |           -509 |\n     |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     #+TBLFM: @5$2=@2-@3-@4::@5$3=@2-@3-@4::@5$4=@2-@3-@4::@5$5=@2-@3-@4::@5$6=@2-@3-@4::@5$7=@2-@3-@4\n\n     [[./img/web_wp_wrk_200.png]]\n\n*** Ghost\n\n    The same tests with wrk as above but in Ghost, a faster and more efficient\n    blog than wordpress. More valid request is better.\n\n**** 100 connections\n\n      #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n      #+PLOT: set:"style histogram cluster gap 1"\n      #+PLOT: set:"style fill solid"\n      #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n      #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n      #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n      #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n      #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n      #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n      #+PLOT: set:"boxwidth bw"\n      #+PLOT: set:"grid"\n      #+PLOT: set:"xrange writeback extend"\n      #+PLOT: set:"xtics scale 0"\n      #+PLOT: set:"key outside horizontal"\n      #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n      #+PLOT: file:"./img/web_ghost_wrk_100.png"\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Plan               | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Total (requests)   |        126831 |       85527 |     21247 |         45912 |                |         123244 |\n      | Timeout (requests) |            96 |          95 |       925 |            93 |                |             92 |\n      | Failed (requests)  |               |             |      9065 |               |                |                |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Valid (requests)   |        126735 |       85432 |     11257 |         45819 |              0 |         123152 |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      #+TBLFM: @5$2=@2-@3-@4::@5$3=@2-@3-@4::@5$4=@2-@3-@4::@5$5=@2-@3-@4::@5$6=@2-@3-@4::@5$7=@2-@3-@4\n\n      [[./img/web_ghost_wrk_100.png]]\n\n**** 150 connections\n\n      #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n      #+PLOT: set:"style histogram cluster gap 1"\n      #+PLOT: set:"style fill solid"\n      #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n      #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n      #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n      #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n      #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n      #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n      #+PLOT: set:"boxwidth bw"\n      #+PLOT: set:"grid"\n      #+PLOT: set:"xrange writeback extend"\n      #+PLOT: set:"xtics scale 0"\n      #+PLOT: set:"key outside horizontal"\n      #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n      #+PLOT: file:"./img/web_ghost_wrk_150.png"\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Plan               | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Total (requests)   |        127445 |       88424 |     69010 |         45924 |                |         121817 |\n      | Timeout (requests) |           157 |         147 |       864 |           156 |                |            156 |\n      | Failed (requests)  |               |             |     63794 |               |                |                |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Valid (requests)   |        127288 |       88277 |      4352 |         45768 |              0 |         121661 |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      #+TBLFM: @5$2=@2-@3-@4::@5$3=@2-@3-@4::@5$4=@2-@3-@4::@5$5=@2-@3-@4::@5$6=@2-@3-@4::@5$7=@2-@3-@4\n\n      [[./img/web_ghost_wrk_150.png]]\n\n**** 200 connections\n\n      #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n      #+PLOT: set:"style histogram cluster gap 1"\n      #+PLOT: set:"style fill solid"\n      #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n      #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n      #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n      #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n      #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n      #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n      #+PLOT: set:"boxwidth bw"\n      #+PLOT: set:"grid"\n      #+PLOT: set:"xrange writeback extend"\n      #+PLOT: set:"xtics scale 0"\n      #+PLOT: set:"key outside horizontal"\n      #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n      #+PLOT: file:"./img/web_ghost_wrk_200.png"\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Plan               | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Total (requests)   |        126968 |       86381 |     83685 |         44906 |                |         122767 |\n      | Timeout (requests) |           236 |         229 |      1182 |           238 |                |            230 |\n      | Failed (requests)  |               |             |     80257 |               |                |                |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      | Valid (requests)   |        126732 |       86152 |      2246 |         44668 |              0 |         122537 |\n      |--------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n      #+TBLFM: @5$2=@2-@3-@4::@5$3=@2-@3-@4::@5$4=@2-@3-@4::@5$5=@2-@3-@4::@5$6=@2-@3-@4::@5$7=@2-@3-@4\n\n      [[./img/web_ghost_wrk_200.png]]\n\n** Default Security\n\n  *Warning*: Security in a VPS is your responsibility, nobody else. But taking a\n   look to the default security applied in the default instances of a provider\n   could give you a reference of the care that they take in this matter. And\n   maybe it could give you also a good reference of how they care about their\n   own systems security.\n\n\n*** Lynis\n\n    [[https://github.com/CISOfy/lynis][Lynis]] is a security audit tool that helps you to harden and test compliance\n    on your computers, among other things. As part of that is has an index that\n    values how secure is your server. This index should be take with caution,\n    it\'s not an absolute value, only a reference. It not covers yet all the\n    security measures of a machine and could be not well balanced to do a\n    effective comparison. In this test, more is better, but take into account\n    that the number of tests performed had also an impact on the index (the\n    number of test executed is a dynamic value that depends on the system\n    features detected).\n\n     #+PLOT: ind:1 type:2d with:histogram set:"yrange [0:*]"\n     #+PLOT: set:"style histogram cluster gap 1"\n     #+PLOT: set:"style fill solid"\n     #+PLOT: set:"linetype 1 lc rgb \'#9400D3\'"\n     #+PLOT: set:"linetype 2 lc rgb \'#009E73\'"\n     #+PLOT: set:"linetype 3 lc rgb \'#56B4E9\'"\n     #+PLOT: set:"linetype 4 lc rgb \'#E69F00\'"\n     #+PLOT: set:"linetype 5 lc rgb \'#F0E442\'"\n     #+PLOT: set:"linetype 6 lc rgb \'#0072B2\'"\n     #+PLOT: set:"boxwidth bw"\n     #+PLOT: set:"grid"\n     #+PLOT: set:"xrange writeback extend"\n     #+PLOT: set:"xtics scale 0"\n     #+PLOT: set:"key outside horizontal"\n     #+PLOT: set:"terminal pngcairo font \'Ubuntu,13\' size 888,300"\n     #+PLOT: file:"./img/lynis.png"\n     |-------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Plan                    | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n     |-------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n     | Lynis (hardening index) | 62 (220)      | 67 (220)    | 59 (220)  | 64 (225)      | 60 (230)       | 60 (231)       |\n     |-------------------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n [[./img/lynis.png]]\n\n  Notes:\n\n - The number between round brackets are the number of tests performed in every server.\n\n*** Open ports\n\n    This tests uses [[https://nmap.org][nmap]] (also netstat to double check) to see the network ports\n    and protocols that are open by default in each instance.\n\n**** open ports IPv4\n\n    |----------------+---------------+-------------+-----------+-----------------------+----------------+-----------------------|\n    | Plan           | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S         | Vultr 20GB SSD | Vultr 25GB SSD        |\n    |----------------+---------------+-------------+-----------+-----------------------+----------------+-----------------------|\n    | Open TCP ports | 22 (ssh)      | 22 (ssh)    | 22 (ssh)  | 22 (ssh)              |                | 22 (ssh)              |\n    | Open UDP ports | 68 (dhcpc)    |             |           | 68 (dhcpc), 123 (ntp) |                | 68 (dhcpc), 123 (ntp) |\n    |----------------+---------------+-------------+-----------+-----------------------+----------------+-----------------------|\n\n**** open ports IPv6\n\n    |----------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Plan           | OVH VPS SSD 1 | Linode 1024 | DO 5bucks | Scaleway VC1S | Vultr 20GB SSD | Vultr 25GB SSD |\n    |----------------+---------------+-------------+-----------+---------------+----------------+----------------|\n    | Open TCP ports |               | 22 (ssh)    |           | 22 (ssh)      |                | 22 (ssh)       |\n    | Open UDP ports |               | 22 (ssh)    |           | 22 (ssh)      |                | 22 (ssh)       |\n    |----------------+---------------+-------------+-----------+---------------+----------------+----------------|\n\n**** open protocols\n\n    |---------------------+--------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------|\n    | Plan                | OVH VPS SSD 1                                                                  | Linode 1024                                                                                                                                                                                                               | DO 5bucks                                                                      | Scaleway VC1S                                                                                                                                 | Vultr 20GB SSD | Vultr 25GB SSD                                                                                                                                           |\n    |---------------------+--------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------|\n    | Open protocols IPv4 | 1 (icmp), 2 (igmp), 6 (tcp), 17 (udp), 103 (pim), 136 (udplite), 255 (unknown) | 1 (icmp), 2 (igmp), 4 (ipv4), 6 (tcp), 17 (udp), 41 (ipv6), 47 (gre), 50 (esp), 51 (ah), 64 (sat), 103 (pim), 108 (ipcomp), 132 (sctp), 136 (udplite), 242 (unknown), 255 (unknown)                                       | 1 (icmp), 2 (igmp), 6 (tcp), 17 (udp), 103 (pim), 136 (udplite), 255 (unknown) | 1 (icmp), 2 (igmp), 6 (tcp), 17 (udp), 136 (udplite), 255 (unknown)                                                                           |                | 1 (icmp), 2 (igmp), 6 (tcp), 17 (udp), 103 (pim), 136 (udplite), 196 (unknown), 255 (unknown)                                                            |\n    | Open protocols IPv6 |                                                                                | 0 (hopopt), 4 (ipv4), 6 (tcp), 17 (udp), 41 (ipv6), 43 (ipv6-route), 44 (ipv6-frag), 47 (gre), 50 (esp), 51 (ah), 58 (ipv6-icmp), 59 (ipv6-nonxt), 60 (ipv6-opts), 108 (ipcomp), 132 (sctp), 136 (udplite), 255 (unknown) |                                                                                | 0 (hopopt), 6 (tcp), 17 (udp), 43 (ipv6-route), 44 (ipv6-frag), 58 (ipv6-icmp), 59 (ipv6-nonxt), 60 (ipv6-opts), 136 (udplite), 255 (unknown) |                | 0 (hopopt), 6 (tcp), 17 (udp), 43 (ipv6-route), 44 (ipv6-frag), 58 (ipv6-icmp), 59 (ipv6-nonxt), 60 (ipv6-opts), 103 (pim), 136 (udplite), 255 (unknown) |\n    |---------------------+--------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------|\n\n** Custom DIY distro install\n\n |----------------------------+---------+--------------+--------------+----------+-------|\n |                            | OVH     | Linode       | DigitalOcean | Scaleway | Vultr |\n |----------------------------+---------+--------------+--------------+----------+-------|\n | Distro install in instance | Partial | Partial      | Yes          | Yes      | Yes   |\n |----------------------------+---------+--------------+--------------+----------+-------|\n\n TODO. Pending to automate also this.\n\nNotes:\n\n- To test the "Distro install in instance" I use a installation script to install Arch Linux from an official Debian instance. The purpose is to test if you are restricted in any way to use a different SO than the ones officially supported.\n- The "Distro install" script fails partially in OVH and Linode, requires your manual intervention, that does not mean that you are not able to do it, only that you\'ll probably need more work to do it.\n'