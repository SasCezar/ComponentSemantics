b"# stolon - PostgreSQL cloud native High Availability\n\n[![Build Status](https://run.agola.io/api/v1alpha/badges/org%2Fstolon%2Fstolon?branch=master)](https://run.agola.io/org/stolon/projects/stolon.proj)\n[![Join the chat at https://gitter.im/sorintlab/stolon](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/sorintlab/stolon?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n[![Go Report Card](https://goreportcard.com/badge/github.com/sorintlab/stolon)](https://goreportcard.com/report/github.com/sorintlab/stolon)\n[![Downloads](https://img.shields.io/github/downloads/sorintlab/stolon/latest/total.svg)](https://github.com/sorintlab/stolon/releases)\n[![Latest release](https://img.shields.io/github/release/sorintlab/stolon.svg)](https://github.com/sorintlab/stolon/releases)\n\n![Stolon Logo](logos/stolon-color.png)\n\nstolon is a cloud native PostgreSQL manager for PostgreSQL high availability. It's cloud native because it'll let you keep an high available PostgreSQL inside your containers (kubernetes integration) but also on every other kind of infrastructure (cloud IaaS, old style infrastructures etc...)\n\nFor an introduction to stolon you can also take a look at [this post](https://sgotti.me/post/stolon-introduction/)\n\n## Features\n\n* Leverages PostgreSQL streaming replication.\n* Resilient to any kind of partitioning. While trying to keep the maximum availability, it prefers consistency over availability.\n* [kubernetes integration](examples/kubernetes/README.md) letting you achieve postgreSQL high availability.\n* Uses a cluster store like [etcd](https://github.com/coreos/etcd), [consul](https://www.consul.io) or kubernetes API server as an high available data store and for leader election\n* Asynchronous (default) and [synchronous](doc/syncrepl.md) replication.\n* Full cluster setup in minutes.\n* Easy [cluster admininistration](doc/stolonctl.md)\n* Can do point in time recovery integrating with your preferred backup/restore tool.\n* [Standby cluster](doc/standbycluster.md) (for multi site replication and near zero downtime migration).\n* Automatic service discovery and dynamic reconfiguration (handles postgres and stolon processes changing their addresses).\n* Can use [pg_rewind](doc/pg_rewind.md) for fast instance resyncronization with current master.\n\n## Architecture\n\nStolon is composed of 3 main components\n\n* keeper: it manages a PostgreSQL instance converging to the clusterview computed by the leader sentinel.\n* sentinel: it discovers and monitors keepers and proxies and computes the optimal clusterview.\n* proxy: the client's access point. It enforce connections to the right PostgreSQL master and forcibly closes connections to old masters.\n\nFor more details and requirements see [Stolon Architecture and Requirements](doc/architecture.md)\n\n![Stolon architecture](doc/architecture_small.png)\n\n## Documentation\n\n[Documentation Index](doc/README.md)\n\n## Installation\n\nStolon is available in [brew](https://brew.sh/). It is **unofficial and not supported** by the project.\nSo check the version before installing using `brew`.\n\n[Step to install using brew](doc/unofficial_packages.md)\n\n## Quick start and examples\n\n* [Simple cluster example](doc/simplecluster.md)\n* [Kubernetes example](examples/kubernetes/README.md)\n* [Two (or more) nodes setup](doc/twonodes.md)\n\n## Project Status\n\nStolon is under active development and used in different environments. Probably its on disk format (store hierarchy and key contents) will change in future to support new features. If a breaking change is needed it'll be documented in the release notes and an upgrade path will be provided.\n\nAnyway it's quite easy to reset a cluster from scratch keeping the current master instance working and without losing any data.\n\n## Requirements\n\n* PostgreSQL 11, 10 or 9 (9.4, 9.5, 9.6)\n* etcd2 >= v2.0, etcd3 >= v3.0, consul >= v0.6 or kubernetes >= 1.8 (based on the store you're going to use)\n\n* OS: currently stolon is tested on GNU/Linux (with reports of people using it also on Solaris, *BSD and Darwin)\n\n## build\n\nTo build stolon we usually test and support the latest two major versions of Go like in the [Go release policy](https://golang.org/doc/devel/release.html#policy).\n\n```\nmake\n```\n\n## High availability\n\nStolon tries to be resilient to any partitioning problem. The cluster view is computed by the leader sentinel and is useful to avoid data loss (one example over all avoid that old dead masters coming back are elected as the new master).\n\nThere can be tons of different partitioning cases. The primary ones are covered (and in future more will be added) by various [integration tests](tests/integration)\n\n## FAQ\n\nSee [here](doc/faq.md) for a list of faq. If you have additional questions please ask.\n\n## Contributing to stolon\n\nstolon is an open source project under the Apache 2.0 license, and contributions are gladly welcomed!\nTo submit your changes please open a pull request.\n\n## Contacts\n\n* For bugs and feature requests file an [issue](https://github.com/sorintlab/stolon/issues/new)\n* For general discussion about using and developing stolon, join the [stolon](https://groups.google.com/forum/#!forum/stolon) mailing list\n* For real-time discussion, join us on [Gitter](https://gitter.im/sorintlab/stolon)\n"