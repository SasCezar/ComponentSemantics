b'# Ultra\n\n[![CircleCI](https://circleci.com/gh/venantius/ultra.svg?style=svg)](https://circleci.com/gh/venantius/ultra)  \nHey, you know who has two thumbs and strong opinions? That\'s right, it\'s me.\n\nUltra is a Leiningen plugin for an absolutely kick-ass development environment.\n\nI\'ve written a blog post describing Ultra in greater depth [here](http://blog.venanti.us/ultra).\n\nUltra is the rare piece of essentially "finished" software. I\'ve ironed out most of the bugs, and don\'t plan on adding much in the future. In other words: it\'s not unmaintained, it\'s just done.\n\n## Installation\n\nTo install Ultra, just add the following to your `~/.lein/profiles.clj`\n\n```clojure\n{:user {:plugins [[venantius/ultra "0.6.0"]]}}\n```\n\n### Requirements\n\nLein 2.9.0  \nJDK 8  \nClojure 1.7+  \n\nIf you want to use something older, see [LEGACY_SUPPORT.md](./LEGACY_SUPPORT.md)\n\n### ClojureScript Support\n\nAt the moment, Ultra doesn\'t have ClojureScript support at the REPL. The relevant upstream issue to track work on this is https://github.com/greglook/puget/issues/27; from there, Whidbey will need to be updated, and then Ultra will be able to consume the changes.\n\n## Features\nFor a detailed list of features, check out the [wiki](https://github.com/venantius/ultra/wiki). Here\'s the highlight reel:\n\n*A colorized REPL!*\n![colorized repl](https://venantius.github.io/ultra/images/colorized-repl.png)\n\n*Syntax-highlighted `source`!*\n![colorized source](https://venantius.github.io/ultra/images/colorized-source.png)\n\n*[Clearer test output](https://github.com/venantius/ultra/wiki/Tests)!*\n![test output demo](https://venantius.github.io/ultra/images/test-output.png)\n\n*Better stacktraces!*\n![test stacktrace demo](https://venantius.github.io/ultra/images/colorized-test-stacktrace.png)\n\n## Configuration\n\nAll of the above features are enabled by default, but can be turned off by setting a `false` flag in your profile. If you wanted Ultra to essentially no-op, your configuration map would look like this:\n\n```clojure\n{:ultra {:repl         false\n         :stacktraces  false\n         :tests        false}}\n```\n### REPL Configuration\n\nUltra uses [Whidbey](https://github.com/greglook/whidbey) as its pretty-printing engine, and supports all of Whidbey\'s configuration flags.\n\n```clojure\n{:ultra {:repl {:width 180\n                :map-delimiter ""\n                :extend-notation true\n                :print-meta true\n                 ...}}}\n```\n\n###### `:width`\n\nNumber of characters to try to wrap pretty-printed forms at.\n\n###### `:print-meta`\n\nIf true, metadata will be printed before values.\n\n###### `:sort-keys`\n\nPrint maps and sets with ordered keys. Defaults to true, which will sort all collections. If a number, counted collections will be sorted up to the set size. Otherwise, collections are not sorted before printing.\n\n###### `:map-delimiter`\n\nThe text placed between key-value pairs in a map.\n\n###### `:map-coll-separator`\n\nThe text placed between a map key and a collection value. The keyword :line will cause line breaks if the whole map does not fit on a single line.\n\n###### `:seq-limit`\n\nIf set to a positive number, then lists will only render at most the first n elements. This can help prevent unintentional realization of infinite lazy sequences.\n\n### Using CIDER alongside Ultra\n\nProjects which extend the Clojure REPL will conflict with each other; a middleware which modifies REPL print output will break the assumption of another middleware expecting unmodified Clojure output. Specifically, Ultra and CIDER collide on certain test result values ([#79](https://github.com/venantius/ultra/issues/79)).\n\nUse either CIDER or Ultra, but not both. Configure `cider-jack-in` to skip the Leiningen user profile, and therefore skip using Ultra, in .emacs:\n\n```emacs\n; Skip :user section of ~/.lein/profiles.clj when using cider-jack-in.\n(setq cider-lein-parameters\n      "with-profile -user repl :headless :host localhost")\n```\n\nIf you have a lein user profile intended to alter CIDER\'s behavior, consider these options:\n\n1. Declare a separate [profile](https://github.com/technomancy/leiningen/blob/master/doc/PROFILES.md) and name it in `with-profile -user,YOURPROFILE` in the Emacs `cider-lein-parameters` variable.\n2. Configure CIDER\'s `cider-jack-in-lein-plugins` variable.\n\nCIDER added variables:\n\n* `cider-lein-parameters` in CIDER v0.7.0\n* `cider-jack-in-lein-plugins` in CIDER v0.11.0\n\nRunning project tests may cause the CIDER REPL to hang ([#79](https://github.com/venantius/ultra/issues/79)) when using `cider-connect` (as opposed to `cider-jack-in`) with an existing `lein repl` which is running Ultra.\n\n## Contributing\n\nPlease open an issue here before submitting pull requests; I prefer to have documentation and consensus that either of our time will be well spent by working on it. When opening an issue -- particularly for bugs -- please refer to [CONTRIBUTING.md](https://github.com/venantius/ultra/blob/master/CONTRIBUTING.md)\n\nBug fixes and code cleanup are always appreciated and won\'t get too much pushback; new features will be held to a higher standard - this whole project is something of a massive exercise in ego, after all.\n\n## Motivation\n\n...or, why didn\'t you just put all of this stuff in your `~/.lein/profiles.clj`?\n\nIn short, my `:user` profile was starting to become bloated. It was difficult to tell whether plugins were interfering with each other, and my `:injections` key in particular was starting to look a little unwieldy.\n\nAt some point I realized I was up to my neck in alligators and that it was time to push things into a standalone repository.\n\n## Special Thanks\n\nUltra wraps, calls, or draws inspiration from the following libraries, and their owners and authors deserve credit for doing most of the hard work.\n\n - [AvisoNovate/pretty](https://github.com/AvisoNovate/pretty) - Better exceptions\n - [brentonashworth/lein-difftest](https://github.com/brentonashworth/lein-difftest) - Lein-difftest - test diffs using difform\n - [greglook/puget](https://github.com/greglook/puget) - Colorized pretty-printing\n - [greglook/whidbey](https://github.com/greglook/whidbey) - Puget nREPL middleware\n - [jaycfields/expectations](https://github.com/jaycfields/expectations) - The Expectations testing library\n - [pjstadig/humane-test-output](https://github.com/pjstadig/humane-test-output) - Diffs in tests using clojure.test\n\n## License\n\nIn some cases, I\'ve borrowed code snippets from libraries above and re-written them. Where that is the case, the Copyright of the original author[s] remains in effect. Any modifications to their code, as well as all original content, is Copyright \xc2\xa9 2019 W. David Jarvis.\n\nDistributed under the Eclipse Public License 1.0, the same as Clojure.\n'