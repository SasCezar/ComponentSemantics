b'# punic [![Travis][image_1]][link_1] [![license][image_2]][link_2] [![tag][image_3]][link_3]\n\n## IMPORTANT\n\nDue to work restrictions I can no longer contribute or maintain this project. I\'d be happy to pass over ownership onto any interested party who is willing to maintain it. Please let me know: [schwa@schwa.com](mailto:schwa@schwa.com)\n\n---\n\n[image_1]: https://img.shields.io/travis/schwa/punic.svg?maxAge=3600\n[link_1]: https://travis-ci.org/schwa/punic/branches\n[image_2]: https://img.shields.io/github/license/schwa/punic.svg?maxAge=3600\n[link_2]: https://github.com/schwa/punic/blob/master/LICENSE\n[image_3]: https://img.shields.io/github/tag/schwa/punic.svg?maxAge=3600\n[link_3]: https://github.com/schwa/punic/releases\n\n## Description\n\nPunic is intended to be an easier to use, faster and more reliable implementation of the [Carthage](http://github.com/carthage/carthage) dependency management system.\n\n## What\'s New?\n\nSee [VERSION_HISTORY.markdown](https://github.com/schwa/punic/blob/master/VERSION_HISTORY.markdown)\n\n## Caveat!!!\n\n<strike>Punic can be considered an early preview release and probably is not ready for production use. Use at your own peril.</strike>\n\nPunic has been running on a production system for a while now. While bugs probably can and do exist it is ready to replace Carthage.\n\n## Installation\n\n### Homebrew (NEW!)\n\nPunic can now be installed via [homebrew](http://brew.sh). This is the *preferred* installation method and does not require installation of any other dependencies. This method is also preferred for continuous integration.\n\n```shell\n$ brew tap schwa/punic\n$ brew install punic\n```\n\nYou keep punic up to date using the normal homebrew methods:\n\n```shell\n$ brew update\n$ brew upgrade\n```\n\n### pypi.python.org\n\nIf you\'re prefer you can also install punic from [pypi] (https://pypi.python.org/pypi/punic/)\n\n```shell\n$ brew install libyaml\n$ pip install punic           # or `pip3 install punic`\n```\n\nNote: Punic is python 3.6 compatible and should work the same in both versions of the language.\n\nNote be careful installing punic (and in fact _all_ python software) with `sudo`. In fact installing with `sudo` is not explicitly supported.\n\nInstalling punic inside a python virtualenv is supported but you might have difficulty if you try to execute a virtualenv-ed punic from Xcode (e.g. `punic copy-frameworks`).\n\n## Usage\n\nPunic has built-in help:\n\n```\n$ punic --help\nUsage: punic [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --echo                  Echo all commands to terminal.\n  --verbose               Verbose logging.\n  --color / --no-color    TECHNICOLOR.\n  --timing / --no-timing  Log timing info\n  --help                  Show this message and exit.\n\nCommands:\n  build            Fetch and build the project\'s dependencies.\n  cache            Cache punic build artifacts to Amazon S3\n  clean            Clean project & punic environment.\n  copy-frameworks  In a Run Script build phase, copies each...\n  fetch            Fetch the project\'s dependencies..\n  graph            Output resolved dependency graph.\n  init             Generate punic configuration file.\n  list             Lists all platforms, projects, xcode...\n  readme           Opens punic readme in your browser...\n  resolve          Resolve dependencies and output...\n  search           Search github for repositories and optionally...\n  update           Update and rebuild the project\'s...\n  version          Display the current version of Punic.\nschwa@ungoliant ~/D/test>\n```\n\nEach sub-command also has built in help:\n\n```\n$ punic build --help\n\nUsage: punic build [OPTIONS] [DEPS]...\n\n  Fetch and build the project\'s dependencies.\n\nOptions:\n  --configuration TEXT  Dependency configurations to build. Usually \'Release\'\n                        or \'Debug\'.\n  --platform TEXT       Platform to build. Comma separated list.\n  --fetch / --no-fetch  Controls whether to fetch dependencies.\n  --help                Show this message and exit.\n```\n\nTo make your Xcode project consume other Carthage compatible dependencies add a file called `Cartfile` at the root level of your project. For example:\n\n```\ngithub "AlamoFire/AlamoFire"\ngithub "realm/realm-cocoa"\n```\n\nPunic uses Carthage\'s syntax and structure for Cartfiles. For more information see the [Carthage documentation](https://github.com/Carthage/Carthage/blob/master/Documentation/Artifacts.md#cartfile) itself.\n\nA `Cartfile` isn\'t required to exactly specify what version of which dependency it requires, To do that you can manually resolve your dependencies:\n\n```shell\npunic resolve\n```\n\nThis resolve step creates a new file called `Carthage.resolved`. Using the above file as input the `Cartfile.resolved` contains the following:\n\n```\ngithub "AlamoFire/AlamoFire" "3.4.1"\ngithub "realm/realm-cocoa" "v1.0.2"\n```\n\nNote that the resolve sub-command has to fetch all dependencies. This can take a while the first time you run it.\n\nYou generally do not need to manually invoke `punic resolve` - it is usually automatically performed for you as part of an update. See later.\n\nTo checkout and build your dependencies run `punic build`. For example\n\n```shell\npunic build --platform iOS --configuration Debug\n```\n\nThis fetches the latest versions of all dependencies and then builds them.\n\nYou can only build your dependencies if your dependencies have been resolved (i.e. there\'s a `Cartfile.resolved` file in your project\'s directory).\n\nYou should run `punic build` when:\n\n* You first clone a punic enabled project\n* Your `Carthage.resolved` file has changed (perhaps you fetched some changes from another developer)\n\nIf you know punic already has the correct dependencies checked out you can run build with the `--no-fetch` switch:\n\n```shell\npunic build --platform iOS --configuration Debug --no-fetch\n```\n\nNote that you can specify a platform and a configuration for `punic build`. If you fail to specify a platform then all platforms will be compiled. If you fail to specify a configuration then the dependency\'s default will be used (this is usually "Release").\n\nIf you always specify the same platform and configuration for builds you can create a `punic.yaml` file in the same directory as your `Cartfile`:\n\n```yaml\ndefaults:\n  configuration: Debug\n  platform: iOS\n  xcode-version: 7.3.1\n```\n\nYou can use `punic init` to help you generate a `punic.yaml` (TODO: We intend `punic.yaml` will increase in expressiveness over time)\n\nIf you want to perform a quick clean of a project (deleting the project\'s "Derived Data" directory) you can use the following:\n\n```shell\npunic clean\n```\n\nRunning `punic resolve` then `punic build` together is a common operation and have been combined into the `punic update` sub-command:\n\n```shell\npunic update\n```\n\nSee https://github.com/Carthage/Carthage for usage information\n\n\n## New Features\n\n### `punic.yaml` files.\n\nAs well as configuring your build dependencies with `Cartfile` you can also use a `punic.yaml` file to specify other options.\n\n#### `punic.yaml` defaults\n\nAn example `punic.yaml` file follows:\n\n```yaml\ndefaults:\n  configuration: Debug\n  platform: iOS\n```\n\nThis example specifies both a default configuration and a default platform. This allows you to skip providing `--configuration` and `--platform` switches on the command-line.\n\nSwitches provided on the command line will override defaults in your `punic.yaml` file.\n\n#### `punic.yaml` repo-overrides\n\nAssume you have a project that depends on an external repository "ExampleOrg/Project-A" which in turns depends on another external repository "ExampleOrg/Project-B". If you wanted to fork and make changes to "Project-B" you would also have to fork and change the Cartfile within "Project-A" so that it refers to the forked URL of "Project-B".\n\nWith the `repo-overrides` section of `punic.yaml` you can globally replace the URL of any dependency without having to edit Cartfiles deep within your dependency hierarchy.\n\n```yaml\nrepo-overrides:\n  Project-B: git@github.com:MyOrg/Project-B.git\n```\n\nYou can also use this feature to redirect a dependency to a local, on disk url. This is useful if you need to test changes inside a dependency.\n\n```yaml\nrepo-overrides:\n  Project-B: file:///Users/example/Projects/Project-B\n```\n\nNote that repositories pointed to by file URL are still cloned and fetched just like any other repository and your changes _must_ be committed for them to be picked up by Punic.\n\n#### `punic.yaml` skip lists\n\nPunic by default will build every scheme of every xcode project of every dependency, if the scheme\'s Build target builds a .framework of the correct platform architecture. This can often cause punic to build too many frameworks - some of which are not used by your root project.\n\nYou can use the `skips` section of your root project\'s `punic.yaml` to define what punic should skip during its build phase.\n\nFor example:\n\n```yaml\ndefaults:\n  configuration: Debug\n  platform: iOS\nskips:\n- [ iOS, NMSSH, NMSSH.xcodeproj ]\n- [ iOS, rxswift, Rx.xcodeproj, RxBlocking-iOS ]\n- [ iOS, rxswift, Rx.xcodeproj, RxCocoa-iOS ]\n- [ iOS, rxswift, Rx.xcodeproj, RxTests-iOS ]\n- [ iOS, Eureka, Example.xcodeproj ]\n- [ iOS, realm-cocoa, Realm.xcodeproj, Realm ]\n```\n\nA skips list is made of a list of filters. Each filter is a list of platform name, dependency name, Xcode project name and scheme name. You can leave out the scheme name if you want to skip all schemes in a particular xcode project.\n\n## Roadmap\n\nThe punic roadmap is managed here: https://github.com/schwa/punic/projects\n\n## Contributing\n\nBug reports, feature suggestions are most welcome. If you want improve punic yourself clone punic, and run `pip install -e .` from inside. You can then make changes inside your cloned repository and test them live.\n\n## Differences between Punic & Carthage\n\nImportantly: `carthage bootstrap` has been replaced by `punic build`. See the [FAQ](#where-did-the-bootstrap-command-go) for more information.\n\nAside from differences of implementation one of the fundamental differences is that Carthage always runs `xcodebuild clean` before building dependencies. Punic deliberately does not perform this clean step and provides an explicit `punic clean` command. The goal of this is to not force collaborators to sit through long clean builds when very little has changed. This can provide dramatic speed ups to a users workflow (during testing builds that can take Carthage 20-25 minutes to build on top-end hardware take less than a minute to do a \'dirty\' build.)\n\nPunic only supports "github" style dependency specifications.\n\nFor more detailed information see the [Punic documentation](https://github.com/schwa/punic/blob/master/documentation/Notes.markdown).\n\n## Frequently Answer Questions\n\n### Where did the `bootstrap` command go?\n\nBootstrap proved to be confusing with users believing they should only run it once per project and not whenever the `Cartfile.resolved` has changed. It has been replaced by the `build` subcommand. The previous behavior of the build subcommand can be reproduced with: `punic build --no-fetch`.\n\n### Why can\'t I specify use the `--derived-data` switch?\n\nIt seems best to always use a custom derived data directory for punic builds. This keeps punic builds of dependencies separated from your own builds. It also allows punic to very quickly clean the derived-data directory.\n\n### Where does punic store keep everything?\n\n```\n<project-dir>/\n    Cartfile\n    Cartfile.resolved\n    Carthage/\n        Build/\n        Checkouts/\n    punic.yaml\n~/Library/Application Support/io.schwa.punic/\n    DerivedData/\n    cache.shelf\n    repo_cache/\n```\n\n### Why rewrite Carthage?\n\nCarthage has had some rather severe performance and stability issues that have made it very hard to reliably use in production. These issues have historically proven very hard for the maintainers of Carthage to address. Instead of contributing fixes to Carthage it was deemed quicker and easier to produce a new clean room implementation of the concepts pioneered by the Carthage developers\n\n(TODO: Link to Carthage issues.)\n\n### What about Swift Package Manager?\n\nSwift Package Manager is currently in its very early days and it will be a while before SPM is ready to be used to ship software. Until then Carthage and Punic still serve an important role.\n\n### Why not use Cocoapods?\n\nNo thank you.\n\n### How can I use punic with circleci\n\nAdd the following to your circle.yml file:\n\n```\nmachine:\n  xcode:\n    version: 8.3\ndependencies:\n  pre:\n    - brew tap schwa/punic\n    - brew install punic\n    - punic build\n```\n\n## License\n\nMIT\n'