b"[![TravisCI Build Status](https://travis-ci.org/HaxeFoundation/haxelib.svg?branch=development)](https://travis-ci.org/HaxeFoundation/haxelib)\n[![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/HaxeFoundation/haxelib?branch=development&svg=true)](https://ci.appveyor.com/project/HaxeFoundation/haxelib)\n\n# Haxelib: library manager for Haxe\n\nHaxelib is a library management tool shipped with the [Haxe Toolkit](http://haxe.org/).\n\nIt allows searching, installing, upgrading and removing libraries from the [haxelib repository](http://lib.haxe.org/) as well as submitting libraries to it.\n\nFor more documentation, please refer to http://lib.haxe.org/documentation/\n\n## Development info\n\n### Running the haxelib server for development\n\nThe server has to be compiled with Haxe 3.2.1+. It can be run in Apache using mod_neko / mod_tora.\n\nCurrently using [Docker](https://www.docker.com/) is the simpliest way to build and run the server. It doesn't require setting up Apache or MySQL since everything is included in the container. We would recommend to use the [Docker Platform](https://www.docker.com/products/docker) instead of the Docker Toolbox.\n\nTo start, run:\n\n```\ndocker-compose -f test/docker-compose.yml up -d\n```\n\nThe command above will copy the server source code and website resources into a container, compile it, and then start Apache to serve it.  To view the website, visit `http://localhost:2000/` (or `http://$(docker-machine ip):2000/` if the Docker Toolbox is used).\n\nSince the containers will expose port 2000 (web) and 3306 (MySQL), make sure there is no other local application listening to those ports. In case there is another MySQL instance listening to 3306, we will get an error similar to `Uncaught exception - mysql.c(509) : Failed to connect to mysql server`.\n\nTo stop the server, run:\n```\ndocker-compose -f test/docker-compose.yml down\n```\n\nIf we modify any of the server source code or website resources, we need to rebuild the image and replace the running container by issuing the commands as follows:\n```\ndocker-compose -f test/docker-compose.yml build\ndocker-compose -f test/docker-compose.yml up -d\n```\n\nTo iterate quickly during development, we can use `-f test/docker-compose-dev.yml` in place of `-f test/docker-compose.yml` when starting the container. `-f test/docker-compose-dev.yml` mounts the repo's `/www` folder to the container, such that there is no need to rebuild and replace the running containers. Instead, after modifying the server source code or html templates, run `haxe server.hxml` and the container should pick up the changes immediately. The downside of this is that we have to make sure we've installed the right haxelib dependencies. Also, Docker only allows mounting folders in certain locations (e.g. `/Users` on Mac), so it may not work if we cloned the repo to `/my_projects/haxelib`.\n\nTo run haxelib client with this local server, prepend the arguments, `-R $SERVER_URL`, to each of the haxelib commands, e.g.:\n```\nneko bin/haxelib.n -R http://localhost:2000/ search foo\n```\n\nTo run integration tests with the local development server:\n```\n# prepare the test files\nhaxe prepare_tests.hxml\n\n# run the tests\nhaxe integration_tests.hxml\n```\nNote that the integration tests will reset the server database before and after each test.\n\n### About this repo\n\nBuild files:\n\n* client.hxml: Build the current haxelib client.\n* client_tests.hxml: Build and run the client tests.\n* client_legacy.hxml: Build the haxelib client that works with Haxe 2.x.\n* server.hxml: Build the new website, and the Haxe remoting API.\n* server_tests.hxml: Build and run the new website tests.\n* server_each.hxml: Libraries and configs used by server.hxml and server_tests.hxml.\n* server_legacy.hxml: Build the legacy website.\n* integration_tests.hxml: Build and run tests that test haxelib client and server together.\n* package.hxml: Package the client as package.zip for submitting to the lib.haxe.org as [haxelib](http://lib.haxe.org/p/haxelib/).\n* prepare_tests.hxml: Package the test libs.\n* ci.hxml: Used by our CIs, TravisCI and AppVeyor.\n\nFolders:\n\n* /src/: Source code for the haxelib tool and the website, including legacy versions.\n* /bin/: The compile target for building the haxelib client, legacy client, and others.\n* /www/: The compile target (and supporting files) for the haxelib website (including legacy server)\n* /test/: Source code and files for testings.\n\nOther files:\n\n* schema.json: JSON schema of haxelib.json.\n* deploy.json: Deploy configuration used by `haxelib run ufront deploy` for pushing the haxelib website to lib.haxe.org.\n* deploy_key.enc: Encrypted ssh private key for logging in to lib.haxe.org. Used by TravisCI.\n* Dockerfile: Docker build file for building an image that runs the haxelib server.\n"