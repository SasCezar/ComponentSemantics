b'# Emoji, flags and emoticons support for Elasticsearch\n\n> Add support for emoji and flags in any Lucene compatible search engine!\n\nIf you wish to search `\xf0\x9f\x8d\xa9` to find **donuts** in your documents, you came to the right place.\n\n_For Elasticsearch version inferior to 6.4, please [go to the plugin section](/esplugin)._\n\n## The Synonyms, flags and emoticons\n\nOnce you have a `\xf0\x9f\x8d\xa9` token, you need to expand it to the token "donut", in **your language**. That\'s the goal of the [synonym dictionaries](/synonyms).\n\nWe build Solr / Lucene compatible synonyms files in all languages supported by [Unicode CLDR](http://cldr.unicode.org/) so you can set them up in an analyzer. It looks like this:\n\n```\n\xf0\x9f\x91\xa9\xe2\x80\x8d\xf0\x9f\x9a\x92 => \xf0\x9f\x91\xa9\xe2\x80\x8d\xf0\x9f\x9a\x92, firefighter, firetruck, woman\n\xf0\x9f\x91\xa9\xe2\x80\x8d\xe2\x9c\x88 => \xf0\x9f\x91\xa9\xe2\x80\x8d\xe2\x9c\x88, pilot, plane, woman\n\xf0\x9f\xa5\x93 => \xf0\x9f\xa5\x93, bacon, meat, food\n\xf0\x9f\xa5\x94 => \xf0\x9f\xa5\x94, potato, vegetable, food\n\xf0\x9f\x98\x85 => \xf0\x9f\x98\x85, cold, face, open, smile, sweat\n\xf0\x9f\x98\x86 => \xf0\x9f\x98\x86, face, laugh, mouth, open, satisfied, smile\n\xf0\x9f\x9a\x8e => \xf0\x9f\x9a\x8e, bus, tram, trolley\n\xf0\x9f\x87\xab\xf0\x9f\x87\xb7 => \xf0\x9f\x87\xab\xf0\x9f\x87\xb7, france\n\xf0\x9f\x87\xac\xf0\x9f\x87\xa7 => \xf0\x9f\x87\xac\xf0\x9f\x87\xa7, united kingdom\n```\n\nFor emoticons, use [this mapping](emoticons.txt) with a char_filter to replace emoticons by emoji.\n\n**Learn more about this in our [blog post describing how to search with emoji in Elasticsearch](http://jolicode.com/blog/search-for-emoji-with-elasticsearch) (2016).**\n\n### Getting started\n\nDownload the emoji and emoticon file you want from this repository and store them in `PATH_ES/config/analysis`.\n\n```\nconfig\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 analysis\n\xe2\x94\x82\xc2\xa0\xc2\xa0 \xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 cldr-emoji-annotation-synonyms-en.txt\n\xe2\x94\x82\xc2\xa0\xc2\xa0 \xe2\x94\x94\xe2\x94\x80\xe2\x94\x80 emoticons.txt\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 elasticsearch.yml\n...\n```\n\nUse them like this:\n\n```json\nPUT /en-emoji\n{\n  "settings": {\n    "analysis": {\n      "char_filter": {\n        "emoticons_char_filter": {\n          "type": "mapping",\n          "mappings_path": "analysis/emoticons.txt"\n        }\n      },\n      "filter": {\n        "english_emoji": {\n          "type": "synonym",\n          "synonyms_path": "analysis/cldr-emoji-annotation-synonyms-en.txt" \n        }\n      }\n    }\n  }\n}\n```\n\n## How to contribute\n\n### Build from CLDR SVN\n\nYou will need:\n\n- php cli\n- php zip and curl extensions\n\nEdit the tag in `tools/build-released.php` and run `php tools/build-released.php`.\n\n### Update emoticons\n\nRun `php tools/build-emoticon.php`.\n\n## Licenses\n\nEmoji data courtesy of CLDR. See [unicode-license.txt](unicode-license.txt) for details. Some modifications are done on the data, [see here](https://github.com/jolicode/emoji-search/issues/6).\nEmoticon data based on [https://github.com/wooorm/emoticon/](https://github.com/wooorm/emoticon/) (MIT).\n\nThis repository in distributed under [MIT License](LICENSE). Feel free to use and contribute as you please!\n'