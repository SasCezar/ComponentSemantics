b'Google Santa Tracker for Web\n============================\n\nThis repository contains the code to [Google Santa Tracker](https://santatracker.google.com), an educational and entertaining tradition for the December holiday period.\nIt is a companion to the [Android](https://github.com/google/santa-tracker-android) app.\n\nIf you\'d like to learn more about the engineering that goes into Santa Tracker, and how Santa Tracker works offline as a Progressive Web App, please check out [Santa Tracker as a PWA](https://developers.google.com/web/showcase/2017/santa).\n\n<img src="https://storage.googleapis.com/santa/santa-preview.jpeg" width="384" align="center" />\n\n## Changes\n\nIn the 2016 version of Santa Tracker, some featured changes include-\n\n* Upgrade to use Polymer 1.7\n* Santa is a Progressive Web App supporting Add to Home Screen and offline through Service Worker\n* Further streamlined Chromecast support\n* Support the [Web Share API](https://developers.google.com/web/updates/2016/10/navigator-share) where available\n* Added several new games, including Gift Matcher, Code a Snowflake and Wrap Battle\n\n# Supports\n\nSanta Tracker supports Chrome, Firefox, and Edge; it also supports IE11, Safari 9+ and Chromium-based browsers (Opera, Samsung etc) at m44 or above.\n\n# Usage\n\n## Prerequisites\n\nYou\'ll need `npm`, `bower` (use `npm install -g bower` if it\'s missing) and Java available on your system.\n\n## Setup\n\nClone project, then from within the repo:\n\n```bash\n$ npm install\n```\n\nFor a list of commands, run `gulp --help`.\n\n## Build and run\n\nBuild and run with `gulp serve`.\nThis will serve from the root directory and recompile JavaScript or CSS on watched changes.\nThe first build might take some time (~10-20m), as it compiles every scene.\n\nYou can load scenes (even while locked) via their ID, e.g. at `/#codeboogie`.\nAlternatively, unlock houses (in dev) by calling `santaApp.unlockAllHouses()`.\n\nIf you\'d like to serve another way, then you can build all development dependencies with `gulp`.\n\n## Serve production build\n\nFirst, build for prod and set a `baseurl` for static assets:\n\n    gulp dist --baseurl="http://localhost:9000/"\n\nServe prod:\n\n    serve -p 3000 dist_prod/\n\nSeparately, serve the static resources:\n\n    serve -p 9000 --cors dist_static/\n\nOpen http://localhost:3000/.\n\n## Release\n\nUse `gulp dist --pretty` to build.\nThis performs additional steps, such as vulcanizing code and internationalization.\nServe from `./dist_pretty`.\n\n## Portal Docker deployment\n\n* Checkout / update any dependent repos\n* Build the image: `docker build -t santa .`\n* Create the container: `docker create --restart always -p 8080:8080 --name santa santa`\n* Run the container: `docker start -d santa`\n* Verify that the container is running: `docker ps`\n* Verify that the container is listening: `curl -I http://lg-head:8080`\n\nTo rebuild, run `docker rm -f santa` and start over from building the image.\n\n# Scenes\n\nSanta Tracker is comprised shared code along with many individual scenes: e.g., `village`, `tracker` etc.\n\n## Relevant Paths\n\nScenes are referenced in a few locations-\n\n* `scenes.js`: The definition for each scene is contained here.\n  If an `entryPoint` is specified, then the scene is compiled with the Closure Compiler.\n  This is also used as the reference for the HTML fanout, creating a HTML file per scene, per language.\n* `images/og`: The OG image (for sharing) in the form `images/og/sceneName.png`, and have a resolution of 1333x1000.\n* `images/scenes`: Each scene should have two images, the centered and resized version of the OG image-\n  1. a 950x564 2x image: `images/scenes/sceneName_2x.png`\n  1. a 475x282 1x image: `images/scenes/sceneName.png`\n* `elements/santa-strings.html`: Due to inconsistent scene i18n message IDs, each scene needs to have its name declared here for dynamic string loading at runtime.\n\nThere are two optional locations-\n\n* `scenes/dorf/sass/_houses.scss`: If the scene is also a _house_ that lives in the village.\n* `scenes/press/js/models.js`: To be included in the Press and Educators scenes.\n\n# License\n\nAll image and audio files (including *.png, *.jpg, *.svg, *.mp3, *.wav \nand *.ogg) are licensed under the CC-BY-NC license. All other files are \nlicensed under the Apache 2 license. See the LICENSE file for details.\n\n    Copyright 2015 Google Inc. All rights reserved.\n    \n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n    \n        http://www.apache.org/licenses/LICENSE-2.0\n    \n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n'