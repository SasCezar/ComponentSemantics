b'# TelegramBotPHP\n[![API](https://img.shields.io/badge/Telegram%20Bot%20API-November%2017%2C%202017-36ade1.svg)](https://core.telegram.org/bots/api)\n![PHP](https://img.shields.io/badge/php-%3E%3D5.3-8892bf.svg)\n![CURL](https://img.shields.io/badge/cURL-required-green.svg)\n\n[![Total Downloads](https://poser.pugx.org/eleirbag89/telegrambotphp/downloads)](https://packagist.org/packages/eleirbag89/telegrambotphp)\n[![License](https://poser.pugx.org/eleirbag89/telegrambotphp/license)](https://packagist.org/packages/eleirbag89/telegrambotphp)\n[![StyleCI](https://styleci.io/repos/38492095/shield?branch=master)](https://styleci.io/repos/38492095)\n\nA very simple PHP [Telegram Bot API](https://core.telegram.org/bots).    \nCompliant with the November 17, 2017 Telegram Bot API update.\n\nRequirements\n---------\n\n* PHP >= 5.3\n* Curl extension for PHP5 must be enabled.\n* Telegram API key, you can get one simply with [@BotFather](https://core.telegram.org/bots#botfather) with simple commands right after creating your bot.\n\nFor the WebHook:\n* An VALID SSL certificate (Telegram API requires this). You can use [Cloudflare\'s Free Flexible SSL](https://www.cloudflare.com/ssl) which crypts the web traffic from end user to their proxies if you\'re using CloudFlare DNS.    \nSince the August 29 update you can use a self-signed ssl certificate.\n\nFor the getUpdates(Long Polling):\n* Some way to execute the script in order to serve messages (for example cronjob)\n\nDownload\n---------\n\n#### Using Composer\n\nFrom your project directory, run:\n```\ncomposer require eleirbag89/telegrambotphp\n```\nor\n```\nphp composer.phar require eleirbag89/telegrambotphp\n```\nNote: If you don\'t have Composer you can download it [HERE](https://getcomposer.org/download/).\n\n#### Using release archives\n\nhttps://github.com/Eleirbag89/TelegramBotPHP/releases\n\n#### Using Git\n\nFrom a project directory, run:\n```\ngit clone https://github.com/Eleirbag89/TelegramBotPHP.git\n```\n\nInstallation\n---------\n\n#### Via Composer\'s autoloader\n\nAfter downloading by using Composer, you can include Composer\'s autoloader:\n```php\ninclude (__DIR__ . \'/vendor/autoload.php\');\n\n$telegram = new Telegram(\'YOUR TELEGRAM TOKEN HERE\');\n```\n\n#### Via TelegramBotPHP class\n\nCopy Telegram.php into your server and include it in your new bot script:\n```php\ninclude \'Telegram.php\';\n\n$telegram = new Telegram(\'YOUR TELEGRAM TOKEN HERE\');\n```\n\nNote: To enable error log file, also copy TelegramErrorLogger.php in the same directory of Telegram.php file.\n\nConfiguration (WebHook)\n---------\n\nNavigate to \nhttps://api.telegram.org/bot(BOT_TOKEN)/setWebhook?url=https://yoursite.com/your_update.php\nOr use the Telegram class setWebhook method.\n\nExamples\n---------\n\n```php\n$telegram = new Telegram(\'YOUR TELEGRAM TOKEN HERE\');\n\n$chat_id = $telegram->ChatID();\n$content = array(\'chat_id\' => $chat_id, \'text\' => \'Test\');\n$telegram->sendMessage($content);\n```\n\nIf you want to get some specific parameter from the Telegram response:\n```php\n$telegram = new Telegram(\'YOUR TELEGRAM TOKEN HERE\');\n\n$result = $telegram->getData();\n$text = $result[\'message\'] [\'text\'];\n$chat_id = $result[\'message\'] [\'chat\'][\'id\'];\n$content = array(\'chat_id\' => $chat_id, \'text\' => \'Test\');\n$telegram->sendMessage($content);\n```\n\nTo upload a Photo or some other files, you need to load it with CurlFile:\n```php\n// Load a local file to upload. If is already on Telegram\'s Servers just pass the resource id\n$img = curl_file_create(\'test.png\',\'image/png\'); \n$content = array(\'chat_id\' => $chat_id, \'photo\' => $img );\n$telegram->sendPhoto($content);\n```\n\nTo download a file on the Telegram\'s servers\n```php\n$file = $telegram->getFile($file_id);\n$telegram->downloadFile($file[\'result\'][\'file_path\'], \'./my_downloaded_file_on_local_server.png\');\n```\n\nSee update.php or update cowsay.php for the complete example.\nIf you wanna see the CowSay Bot in action [add it](https://telegram.me/cowmooobot).\n\nIf you want to use getUpdates instead of the WebHook you need to call the the `serveUpdate` function inside a for cycle.\n```php\n$telegram = new Telegram(\'YOUR TELEGRAM TOKEN HERE\');\n\n$req = $telegram->getUpdates();\n\nfor ($i = 0; $i < $telegram-> UpdateCount(); $i++) {\n\t// You NEED to call serveUpdate before accessing the values of message in Telegram Class\n\t$telegram->serveUpdate($i);\n\t$text = $telegram->Text();\n\t$chat_id = $telegram->ChatID();\n\n\tif ($text == \'/start\') {\n\t\t$reply = \'Working\';\n\t\t$content = array(\'chat_id\' => $chat_id, \'text\' => $reply);\n\t\t$telegram->sendMessage($content);\n\t}\n\t// DO OTHER STUFF\n}\n```\nSee getUpdates.php for the complete example.\n\nFunctions\n------------\n\nFor a complete and up-to-date functions documentation check http://eleirbag89.github.io/TelegramBotPHP/\n\nBuild keyboards\n------------\n\nTelegram\'s bots can have two different kind of keyboards: Inline and Reply.    \nThe InlineKeyboard is linked to a particular message, while the ReplyKeyboard is linked to the whole chat.    \nThey are both an array of array of buttons, which rapresent the rows and columns.    \nFor instance you can arrange a ReplyKeyboard like this:\n![ReplyKeabordExample](https://picload.org/image/rilclcwr/replykeyboard.png)\nusing this code:\n```php\n$option = array( \n    //First row\n    array($telegram->buildKeyboardButton("Button 1"), $telegram->buildKeyboardButton("Button 2")), \n    //Second row \n    array($telegram->buildKeyboardButton("Button 3"), $telegram->buildKeyboardButton("Button 4"), $telegram->buildKeyboardButton("Button 5")), \n    //Third row\n    array($telegram->buildKeyboardButton("Button 6")) );\n$keyb = $telegram->buildKeyBoard($option, $onetime=false);\n$content = array(\'chat_id\' => $chat_id, \'reply_markup\' => $keyb, \'text\' => "This is a Keyboard Test");\n$telegram->sendMessage($content);\n```\nWhen a user click on the button, the button text is send back to the bot.    \nFor an InlineKeyboard it\'s pretty much the same (but you need to provide a valid URL or a Callback data)\n![InlineKeabordExample](https://picload.org/image/rilclcwa/replykeyboardinline.png)\n```php\n$option = array( \n    //First row\n    array($telegram->buildInlineKeyBoardButton("Button 1", $url="http://link1.com"), $telegram->buildInlineKeyBoardButton("Button 2", $url="http://link2.com")), \n    //Second row \n    array($telegram->buildInlineKeyBoardButton("Button 3", $url="http://link3.com"), $telegram->buildInlineKeyBoardButton("Button 4", $url="http://link4.com"), $telegram->buildInlineKeyBoardButton("Button 5", $url="http://link5.com")), \n    //Third row\n    array($telegram->buildInlineKeyBoardButton("Button 6", $url="http://link6.com")) );\n$keyb = $telegram->buildInlineKeyBoard($option);\n$content = array(\'chat_id\' => $chat_id, \'reply_markup\' => $keyb, \'text\' => "This is a Keyboard Test");\n$telegram->sendMessage($content);\n```\nThis is the list of all the helper functions to make keyboards easily:     \n\n```php\nbuildKeyBoard(array $options, $onetime=true, $resize=true, $selective=true)\n```\nSend a custom keyboard. $option is an array of array KeyboardButton.  \nCheck [ReplyKeyBoardMarkUp](https://core.telegram.org/bots/api#replykeyboardmarkup) for more info.    \n\n```php\nbuildInlineKeyBoard(array $inline_keyboard)\n```\nSend a custom keyboard. $inline_keyboard is an array of array InlineKeyboardButton.  \nCheck [InlineKeyboardMarkup](https://core.telegram.org/bots/api#inlinekeyboardmarkup) for more info.    \n\n```php\nbuildInlineKeyBoardButton($text, $url, $callback_data, $switch_inline_query)\n```\nCreate an InlineKeyboardButton.    \nCheck [InlineKeyBoardButton](https://core.telegram.org/bots/api#inlinekeyboardbutton) for more info.    \n\n```php\nbuildKeyBoardButton($text, $url, $request_contact, $request_location)\n```\nCreate a KeyboardButton.    \nCheck [KeyBoardButton](https://core.telegram.org/bots/api#keyboardbutton) for more info.    \n\n\n```php\nbuildKeyBoardHide($selective=true)\n```\nHide a custom keyboard.  \nCheck [ReplyKeyBoarHide](https://core.telegram.org/bots/api#replykeyboardhide) for more info.    \n\n```php\nbuildForceReply($selective=true)\n```\nShow a Reply interface to the user.  \nCheck [ForceReply](https://core.telegram.org/bots/api#forcereply) for more info.\n\nList of Bots using the library\n------------\n\nLet me know using this [Issue](https://github.com/Eleirbag89/TelegramBotPHP/issues/80) if you have made a bot using this API, I will add it to this section.    \n* [iHarfBot](https://t.me/iHarfBot) - Lang: Persian/Farsi\n* [AsansorBot](https://t.me/AsansorBot) - Lang: Persian/Farsi\n* [IDPbot](https://t.me/IDPbot) - Lang: Persian/Farsi (Down as 14/10/2019)\n* [Evil Insult Generator](https://telegram.me/EvilInsultGeneratorBot) - Lang English/German\n* [ibelitbot](https://telegram.me/ibelitbot) -Lang Persian (Down as 14/10/2019)\n* [Advanced Pools Bot](https://telegram.me/apollbot) - Lang Italian/English([Contribute](https://poeditor.com/join/project/NMAUjrAZ5f))\n* [Btn_Bot](https://telegram.me/Btn_Bot) - Lang pt-BR - Cria bot\xc3\xb5es transparente para publica\xc3\xa7\xc3\xb5es.\n* [DiffSGLaPuntabot](https://telegram.me/DiffSGLaPuntabot) [DiffGravinaCTbot](https://telegram.me/DiffGravinaCTbot) [DiffAdranobot](https://t.me/DiffAdranobot) - Lang: it/Italian - Bots to handle Recycling in San Giovanni La Punta, Gravina and Adrano (OpenSource Template https://github.com/Gualty/BOTDifferenziata)\n* [GoBot](https://t.me/CoReYe_PGO_bot)\n* [RaidBot](https://t.me/CoReYe_PGO_Raid_bot)\n\nEmoticons\n------------\nFor a list of emoticons to use in your bot messages, please refer to the column Bytes of this table:\nhttp://apps.timwhitlock.info/emoji/tables/unicode\n\nLicense\n------------\n\nThis open-source software is distributed under the MIT License. See LICENSE.md\n\nContributing\n------------\n\nAll kinds of contributions are welcome - code, tests, documentation, bug reports, new features, etc...\n\n* Send feedbacks.\n* Submit bug reports.\n* Write/Edit the documents.\n* Fix bugs or add new features.\n\nContact me\n------------\n\nYou can contact me [via Telegram](https://telegram.me/ggrillo) but if you have an issue please [open](https://github.com/Eleirbag89/TelegramBotPHP/issues) one.\n\nSupport me\n------------\n\nYou can support me using via LiberaPay [![Donate using Liberapay](https://liberapay.com/assets/widgets/donate.svg)](https://liberapay.com/eleirbag89/donate)\n\nor buy me a beer or two using [Paypal](https://paypal.me/eleirbag89). \n'