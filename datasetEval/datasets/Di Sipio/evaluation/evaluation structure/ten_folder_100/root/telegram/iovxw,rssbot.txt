b'# rssbot [![Travis Build Status](https://travis-ci.org/iovxw/rssbot.svg)](https://travis-ci.org/iovxw/rssbot) [![Github All Releases](https://img.shields.io/github/downloads/iovxw/rssbot/total.svg)](https://github.com/iovxw/rssbot/releases)\n\n\xe4\xb8\xad\xe6\x96\x87 Telegram RSS \xe6\x9c\xba\xe5\x99\xa8\xe4\xba\xba\xc2\xa0[@RustRssBot](http://t.me/RustRssBot)\n\n**\xe6\x94\xaf\xe6\x8c\x81:**\n - [x] RSS 0.9\n - [x] RSS 0.91\n - [x] RSS 0.92\n - [x] RSS 0.93\n - [x] RSS 0.94\n - [x] RSS 1.0\n - [x] RSS 2.0\n - [x] Atom 0.3\n - [x] Atom 1.0\n\n## \xe4\xbd\xbf\xe7\x94\xa8\n\n    /rss       - \xe6\x98\xbe\xe7\xa4\xba\xe5\xbd\x93\xe5\x89\x8d\xe8\xae\xa2\xe9\x98\x85\xe7\x9a\x84 RSS \xe5\x88\x97\xe8\xa1\xa8\xef\xbc\x8c\xe5\x8a\xa0 raw \xe5\x8f\x82\xe6\x95\xb0\xe6\x98\xbe\xe7\xa4\xba\xe9\x93\xbe\xe6\x8e\xa5\n    /sub       - \xe8\xae\xa2\xe9\x98\x85\xe4\xb8\x80\xe4\xb8\xaa RSS: /sub http://example.com/feed.xml\n    /unsub     - \xe9\x80\x80\xe8\xae\xa2\xe4\xb8\x80\xe4\xb8\xaa RSS: /unsub http://example.com/feed.xml\n    /unsubthis - \xe4\xbd\xbf\xe7\x94\xa8\xe6\xad\xa4\xe5\x91\xbd\xe4\xbb\xa4\xe5\x9b\x9e\xe5\xa4\x8d\xe6\x83\xb3\xe8\xa6\x81\xe9\x80\x80\xe8\xae\xa2\xe7\x9a\x84 RSS \xe6\xb6\x88\xe6\x81\xaf\xe5\x8d\xb3\xe5\x8f\xaf\xe9\x80\x80\xe8\xae\xa2, \xe4\xb8\x8d\xe6\x94\xaf\xe6\x8c\x81 Channel\n    /export    - \xe5\xaf\xbc\xe5\x87\xba\xe4\xb8\xba OPML\n\n## \xe4\xb8\x8b\xe8\xbd\xbd\n\n\xe5\x8f\xaf\xe7\x9b\xb4\xe6\x8e\xa5\xe4\xbb\x8e [Releases](https://github.com/iovxw/rssbot/releases) \xe4\xb8\x8b\xe8\xbd\xbd\xe9\xa2\x84\xe7\xbc\x96\xe8\xaf\x91\xe7\x9a\x84\xe7\xa8\x8b\xe5\xba\x8f, Linux \xe7\x89\x88\xe6\x9c\xac\xe4\xb8\xba *musl* \xe9\x9d\x99\xe6\x80\x81\xe9\x93\xbe\xe6\x8e\xa5, \xe6\x97\xa0\xe9\x9c\x80\xe5\x85\xb6\xe4\xbb\x96\xe4\xbe\x9d\xe8\xb5\x96\n\n## \xe7\xbc\x96\xe8\xaf\x91\n\n**\xe8\xaf\xb7\xe5\x85\x88\xe5\xb0\x9d\xe8\xaf\x95\xe4\xbb\x8e\xe4\xb8\x8a\xe9\x9d\xa2\xe4\xb8\x8b\xe8\xbd\xbd, \xe5\xa6\x82\xe4\xb8\x8d\xe5\x8f\xaf\xe8\xa1\x8c\xe6\x88\x96\xe8\x80\x85\xe6\x9c\x89\xe5\x85\xb6\xe4\xbb\x96\xe9\x9c\x80\xe6\xb1\x82\xe5\x86\x8d\xe6\x89\x8b\xe5\x8a\xa8\xe7\xbc\x96\xe8\xaf\x91**\n\n\xe5\x85\x88\xe5\xae\x89\xe8\xa3\x85 *Rust Nightly* \xe4\xbb\xa5\xe5\x8f\x8a *Cargo* (\xe6\x8e\xa8\xe8\x8d\x90\xe4\xbd\xbf\xe7\x94\xa8 [`rustup`](https://www.rustup.rs/)), \xe7\x84\xb6\xe5\x90\x8e:\n\n```\ncargo build --release\n```\n\n\xe7\xbc\x96\xe8\xaf\x91\xe5\xa5\xbd\xe7\x9a\x84\xe6\x96\x87\xe4\xbb\xb6\xe4\xbd\x8d\xe4\xba\x8e: `./target/release/rssbot`\n\n## \xe8\xbf\x90\xe8\xa1\x8c\n\n```\n./rssbot DATAFILE TELEGRAM-BOT-TOKEN\n```\n\n`DATAFILE` \xe4\xb8\xba\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xbf\x9d\xe5\xad\x98\xe8\xb7\xaf\xe5\xbe\x84(\xe5\x85\xb6\xe5\xae\x9e\xe5\xb0\xb1\xe6\x98\xaf\xe4\xb8\x80\xe4\xb8\xaa json \xe6\x96\x87\xe4\xbb\xb6, \xe4\xb8\x8d\xe9\x9c\x80\xe8\xa6\x81\xe6\x89\x8b\xe5\x8a\xa8\xe5\x88\x9b\xe5\xbb\xba), `TELEGRAM-BOT-TOKEN` \xe8\xaf\xb7\xe5\x8f\x82\xe7\x85\xa7 [\xe8\xbf\x99\xe9\x87\x8c](https://core.telegram.org/bots#3-how-do-i-create-a-bot) \xe7\x94\xb3\xe8\xaf\xb7\n\n## \xe4\xbb\x8e\xe6\x97\xa7\xe7\x9a\x84 RSSBot \xe8\xbf\x81\xe7\xa7\xbb\n\n\xe5\xaf\xb9\xe4\xba\x8e [\xe5\x8e\x9f\xe5\x85\x88 Clojure \xe7\x89\x88\xe6\x9c\xac\xe7\x9a\x84 Bot](https://github.com/iovxw/tg-rss-bot), \xe5\x8f\xaf\xe4\xbb\xa5\xe4\xbd\xbf\xe7\x94\xa8\xe4\xbb\xa5\xe4\xb8\x8b\xe8\x84\x9a\xe6\x9c\xac\xe8\xbd\xac\xe6\x8d\xa2\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\n\n```bash\n#!/bin/bash\n\nDATABASE=$1\nTARGET=$2\n\nDATA=$(echo "SELECT url, title FROM rss;" | sqlite3 $DATABASE)\nIFS=$\'\\n\'\n\necho -e "[\\c" > $TARGET\nfor line in ${DATA[@]}\ndo\n    IFS=\'|\'\n    r=($line)\n    link=${r[0]}\n    title=${r[1]}\n\n    echo -e "{\\"link\\":\\"$link\\"," \\\n            "\\"title\\":\\"$title\\"," \\\n            "\\"error_count\\":0," \\\n            "\\"hash_list\\":[]," \\\n            "\\"subscribers\\":[\\c" >> $TARGET\n\n    subscribers=$(echo "SELECT subscriber FROM subscribers WHERE rss=\'$link\';" | sqlite3 $DATABASE)\n    IFS=$\'\\n\'\n    for subscriber in ${subscribers[@]}\n    do\n        echo -e "$subscriber,\\c" >> $TARGET\n    done\n\n    echo -e "]},\\c" >> $TARGET\ndone\necho "]" >> $TARGET\nsed -i "s/,]/]/g" $TARGET\n```\n\n\xe5\x8f\x82\xe6\x95\xb0 1 \xe4\xb8\xba\xe6\x97\xa7\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe5\x9c\xb0\xe5\x9d\x80, 2 \xe4\xb8\xba\xe7\xbb\x93\xe6\x9e\x9c\xe8\xbe\x93\xe5\x87\xba\xe5\x9c\xb0\xe5\x9d\x80\n\n\xe9\x9c\x80\xe8\xa6\x81\xe6\xb3\xa8\xe6\x84\x8f\xe7\x9a\x84\xe6\x98\xaf\xe5\xb7\xb2\xe6\x8e\xa8\xe9\x80\x81\xe7\x9a\x84 RSS \xe8\xae\xb0\xe5\xbd\x95\xe4\xb8\x8d\xe4\xbc\x9a\xe4\xbf\x9d\xe7\x95\x99, \xe5\xa6\x82\xe6\x9e\x9c\xe7\x9b\xb4\xe6\x8e\xa5\xe4\xbd\xbf\xe7\x94\xa8\xe8\xbd\xac\xe6\x8d\xa2\xe5\x90\x8e\xe7\x9a\x84\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93, \xe4\xbc\x9a\xe9\x87\x8d\xe5\xa4\x8d\xe6\x8e\xa8\xe9\x80\x81\xe6\x97\xa7\xe7\x9a\x84 RSS\n\n## License\n\nThis is free and unencumbered software released into the public domain.\n\nAnyone is free to copy, modify, publish, use, compile, sell, or distribute this software, either in source code form or as a compiled binary, for any purpose, commercial or non-commercial, and by any means.\n'