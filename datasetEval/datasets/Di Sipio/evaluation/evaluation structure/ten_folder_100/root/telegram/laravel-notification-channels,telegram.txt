b'# Telegram Notifications Channel for Laravel\n\n[![Join PHP Chat][ico-phpchat]][link-phpchat]\n[![Chat on Telegram][ico-telegram]][link-telegram]\n[![Laravel Package][ico-laravel]][link-repo]\n[![Latest Version on Packagist][ico-version]][link-packagist]\n[![Software License][ico-license]](LICENSE.md)\n[![SensioLabsInsight][ico-sensiolabs]][link-sensiolabs]\n[![Quality Score][ico-code-quality]][link-code-quality]\n[![Total Downloads][ico-downloads]][link-packagist]\n\nThis package makes it easy to send Telegram notification using [Telegram Bot API](https://core.telegram.org/bots) with Laravel.\n\n## Contents\n\n- [Installation](#installation)\n  - [Setting up your Telegram bot](#setting-up-your-telegram-bot)\n- [Usage](#usage)\n  - [Text Notification](#text-notification)\n  - [Attach a Photo](#attach-a-photo)\n  - [Attach a Document](#attach-a-document)\n  - [Attach a Location](#attach-a-location)\n  - [Attach a Video](#attach-a-video)\n  - [Attach a Gif File](#attach-a-gif-file)\n  - [Available Message methods](#available-message-methods)\n  - [Available Location methods](#available-location-methods)\n  - [Available File methods](#available-file-methods)\n- [Alternatives](#alternatives)\n- [Changelog](#changelog)\n- [Testing](#testing)\n- [Security](#security)\n- [Contributing](#contributing)\n- [Credits](#credits)\n- [License](#license)\n\n## Installation\n\nYou can install the package via composer:\n\n```bash\ncomposer require laravel-notification-channels/telegram\n```\n\n## Setting up your Telegram Bot\n\nTalk to [@BotFather](https://core.telegram.org/bots#6-botfather) and generate a Bot API Token.\n\nThen, configure your Telegram Bot API Token:\n\n```php\n// config/services.php\n...\n\'telegram-bot-api\' => [\n    \'token\' => env(\'TELEGRAM_BOT_TOKEN\', \'YOUR BOT TOKEN HERE\')\n],\n...\n```\n\n## Usage\n\nYou can now use the channel in your `via()` method inside the Notification class.\n\n### Text Notification\n\n```php\nuse NotificationChannels\\Telegram\\TelegramChannel;\nuse NotificationChannels\\Telegram\\TelegramMessage;\nuse Illuminate\\Notifications\\Notification;\n\nclass InvoicePaid extends Notification\n{\n    public function via($notifiable)\n    {\n        return [TelegramChannel::class];\n    }\n\n    public function toTelegram($notifiable)\n    {\n        $url = url(\'/invoice/\' . $this->invoice->id);\n\n        return TelegramMessage::create()\n            // Optional recipient user id.\n            ->to($notifiable->telegram_user_id)\n            // Markdown supported.\n            ->content("Hello there!\\nYour invoice has been *PAID*")\n            // (Optional) Inline Buttons\n            ->button(\'View Invoice\', $url)\n            ->button(\'Download Invoice\', $url);\n    }\n}\n```\n\nHere\'s a screenshot preview of the above notification on Telegram Messenger:\n\n![Laravel Telegram Notification Example](https://user-images.githubusercontent.com/1915268/66616627-39be6180-ebef-11e9-92cc-f2da81da047a.jpg)\n\n### Attach a Photo\n\n```php\npublic function toTelegram($notifiable)\n{\n    $url = url(\'/file/\' . $this->file->id);\n\n    return TelegramFile::create()\n        ->to($notifiable->telegram_user_id)\n        ->content(\'Awesome *bold* text and [inline URL](http://www.example.com/)\')\n        ->file(\'/storage/archive/6029014.jpg\', \'photo\'); // local photo\n\n        // OR using a helper method with or without a remote file.\n        // ->photo(\'https://file-examples.com/wp-content/uploads/2017/10/file_example_JPG_1MB.jpg\');\n}\n```\n\nPreview:\n\n![Laravel Telegram Photo Notification Example](https://user-images.githubusercontent.com/1915268/66616792-daad1c80-ebef-11e9-9bdf-c0bc484cf037.jpg)\n\n### Attach a Document\n\n```php\npublic function toTelegram($notifiable)\n{\n    $url = url(\'/file/\' . $this->file->id);\n\n    return TelegramFile::create()\n        ->to($notifiable->telegram_user_id)\n        ->content(\'Did you know we can set a custom filename too?\')\n        ->document(\'https://file-examples.com/wp-content/uploads/2017/10/file-sample_150kB.pdf\', \'sample.pdf\');\n}\n```\n\nPreview:\n\n![Laravel Telegram Document Notification Example](https://user-images.githubusercontent.com/1915268/66616850-10520580-ebf0-11e9-9122-4f4d263f3b53.jpg)\n\n### Attach a Location\n\n```php\npublic function toTelegram($notifiable)\n{\n    return TelegramLocation::create()\n        ->to($notifiable->telegram_user_id)\n        ->latitude(\'40.6892494\')\n        ->longitude(\'-74.0466891\');\n}\n```\n\nPreview:\n\n![Laravel Telegram Location Notification Example](https://user-images.githubusercontent.com/1915268/66616918-54450a80-ebf0-11e9-86ea-d5264fe05ba9.jpg)\n\n### Attach a Video\n\n```php\npublic function toTelegram($notifiable)\n{\n    return TelegramFile::create()\n        ->to($notifiable->telegram_user_id)\n        ->content(\'Sample *video* notification!\')\n        ->video(\'https://file-examples.com/wp-content/uploads/2017/04/file_example_MP4_480_1_5MG.mp4\');\n}\n```\n\nPreview:\n\n![Laravel Telegram Video Notification Example](https://user-images.githubusercontent.com/1915268/66617038-ed742100-ebf0-11e9-865a-bf0245d2cbbb.jpg)\n\n### Attach a Gif File\n\n```php\npublic function toTelegram($notifiable)\n{\n    return TelegramFile::create()\n        ->content(\'Woot! We can send animated gif notifications too!\')\n        ->animation(\'https://sample-videos.com/gif/2.gif\');\n\n        // Or local file\n        // ->animation(\'/path/to/some/animated.gif\');\n}\n```\n\nPreview:\n\n![Laravel Telegram Gif Notification Example](https://user-images.githubusercontent.com/1915268/66617071-109ed080-ebf1-11e9-989b-b237f2b9502d.jpg)\n\n### Routing a message\n\nYou can either send the notification by providing with the chat id of the recipient to the `to($chatId)` method like shown in the above example or add a `routeNotificationForTelegram()` method in your notifiable model:\n\n```php\n...\n/**\n * Route notifications for the Telegram channel.\n *\n * @return int\n */\npublic function routeNotificationForTelegram()\n{\n    return $this->telegram_user_id;\n}\n...\n```\n\n### Available Message methods\n\n- `to($chatId)`: (integer) Recipient\'s chat id.\n- `content(\'\')`: (string) Notification message, supports markdown. For more information on supported markdown styles, check out these [docs](https://telegram-bot-sdk.readme.io/reference#section-formatting-options).\n- `button($text, $url)`: (string) Adds an inline "Call to Action" button. You can add as many as you want and they\'ll be placed 2 in a row.\n- `disableNotification()`: Send the message silently.  Users will receive a notification with no sound.\n- `options([])`: (array) Allows you to add additional or override `sendMessage` payload (A Telegram Bot API method used to send message internally). For more information on supported parameters, check out these [docs](https://telegram-bot-sdk.readme.io/docs/sendmessage).\n\n### Available Location methods\n\n- `to($chatId)`: (integer) Recipient\'s chat id.\n- `latitude($latitude)`: (float|string) Latitude of the location.\n- `longitude($longitude)`: (float|string) Longitude of the location.\n- `button($text, $url)`: (string) Adds an inline "Call to Action" button. You can add as many as you want and they\'ll be placed 2 in a row.\n- `disableNotification()`: Send the message silently. Users will receive a notification with no sound.\n- `options([])`: (array) Allows you to add additional or override the payload.\n\n### Available File methods\n\n- `to($chatId)`: (integer) Recipient\'s chat id.\n- `content(\'\')`: (string) File caption, supports markdown. For more information on supported markdown styles, check out these [docs](https://telegram-bot-sdk.readme.io/reference#section-formatting-options).\n- `file($file, $type, $filename = null)`: Local file path or remote URL, `$type` of the file (Ex:`photo`, `audio`, `document`, `video`, `animation`, `voice`, `video_note_`) and optionally filename with extension. Ex: `sample.pdf`. You can use helper methods instead of using this to make it easier to work with file attachment.\n- `photo($file)`: Helper method to attach a photo.\n- `audio($file)`: Helper method to attach an audio file (MP3 file).\n- `document($file, $filename = null)`: Helper method to attach a document or any file as document.\n- `video($file)`: Helper method to attach a video file.\n- `animation($file)`: Helper method to attach an animated gif file.\n- `voice($file)`: Helper method to attach a voice note (`.ogg` file with OPUS encoded).\n- `videoNote($file)`: Helper method to attach a video note file (Upto 1 min long, rounded square video).\n- `button($text, $url)`: (string) Adds an inline "Call to Action" button. You can add as many as you want and they\'ll be placed 2 in a row.\n- `disableNotification()`: Send the message silently. Users will receive a notification with no sound.\n- `options([])`: (array) Allows you to add additional or override the payload.\n\n## Alternatives\n\nFor advance usage, please consider using [telegram-bot-sdk](https://github.com/irazasyed/telegram-bot-sdk) instead.\n\n## Changelog\n\nPlease see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.\n\n## Testing\n\n```bash\n$ composer test\n```\n\n## Security\n\nIf you discover any security related issues, please email syed@lukonet.com instead of using the issue tracker.\n\n## Contributing\n\nPlease see [CONTRIBUTING](CONTRIBUTING.md) for details.\n\n## Credits\n\n- [Irfaq Syed][link-author]\n- [All Contributors][link-contributors]\n\n## License\n\nThe MIT License (MIT). Please see [License File](LICENSE.md) for more information.\n\n[ico-phpchat]: https://img.shields.io/badge/Slack-PHP%20Chat-5c6aaa.svg?style=flat-square&logo=slack&labelColor=4A154B\n[ico-telegram]: https://img.shields.io/badge/@PHPChatCo-2CA5E0.svg?style=flat-square&logo=telegram&label=Telegram\n[ico-laravel]: https://img.shields.io/badge/Laravel-5|6-FF2D20.svg?style=flat-square&logo=laravel&labelColor=black&logoColor=white\n[ico-version]: https://img.shields.io/packagist/v/laravel-notification-channels/telegram.svg?style=flat-square\n[ico-license]: https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square\n[ico-travis]: https://img.shields.io/travis/laravel-notification-channels/telegram/master.svg?style=flat-square\n[ico-scrutinizer]: https://img.shields.io/scrutinizer/coverage/g/laravel-notification-channels/telegram.svg?style=flat-square\n[ico-code-quality]: https://img.shields.io/scrutinizer/g/laravel-notification-channels/telegram.svg?style=flat-square\n[ico-downloads]: https://img.shields.io/packagist/dt/laravel-notification-channels/telegram.svg?style=flat-square\n[ico-sensiolabs]: https://img.shields.io/sensiolabs/i/d28e31ec-55ce-4306-88a3-84d5d14ad3db.svg?style=flat-square\n\n[link-phpchat]: https://phpchat.co/?ref=laravel-channel-telegram\n[link-telegram]: https://t.me/PHPChatCo\n[link-repo]: https://github.com/laravel-notification-channels/telegram\n[link-packagist]: https://packagist.org/packages/laravel-notification-channels/telegram\n[link-travis]: https://travis-ci.org/laravel-notification-channels/telegram\n[link-scrutinizer]: https://scrutinizer-ci.com/g/laravel-notification-channels/telegram/code-structure\n[link-sensiolabs]: https://insight.sensiolabs.com/projects/d28e31ec-55ce-4306-88a3-84d5d14ad3db\n[link-code-quality]: https://scrutinizer-ci.com/g/laravel-notification-channels/telegram\n[link-author]: https://github.com/irazasyed\n[link-contributors]: ../../contributors\n'