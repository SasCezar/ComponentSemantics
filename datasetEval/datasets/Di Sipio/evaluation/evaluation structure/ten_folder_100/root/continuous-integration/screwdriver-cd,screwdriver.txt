b"# Screwdriver API\n[![Version][npm-image]][npm-url] [![Pulls][docker-pulls]][docker-url] [![Stars][docker-stars]][docker-url] [![Build Status][status-image]][status-url] [![Open Issues][issues-image]][issues-url] [![Dependency Status][daviddm-image]][daviddm-url] [![Coverage][cov-image]][cov-url] [![Vulnerabilities][vul-image]][vul-url] ![License][license-image] [![Slack][slack-image]][slack-url]\n\n> API for the Screwdriver CD service\n\n[Screwdriver](http://screwdriver.cd) is a self-contained, pluggable service to help you build, test, and continuously deliver software using the latest containerization technologies.\n\n## Table of Contents\n\n- [Background](#background)\n- [Installation and Usage](#installation-and-usage)\n- [Configuration](#configuration)\n- [Testing](#testing)\n- [Contribute](#contribute)\n- [License](#license)\n\n## Background\n\nScrewdriver began as a hack for simplified interfacing with Jenkins at Yahoo in 2012. As the volume of builds increased, it became clear that Jenkins was not stable or feasible to use at the scale we were running builds. In 2016, we rebuilt Screwdriver from scratch in open source with our best coding practices and CICD goals in mind. Screwdriver is executor and SCM-agnostic, meaning you can choose whichever plugin better suits your need or build your own. It's completely free and open source, and our team is actively maintaining the code.\n\nFor more information about Screwdriver, check out our [homepage](http://screwdriver.cd).\n\n## Installation and Usage\n\n### Plugins\n\nThis API comes preloaded with 10 (ten) resources:\n\n - [auth](plugins/auth/README.md)\n - [banners](plugins/banners/README.md)\n - [builds](plugins/builds/README.md)\n - [collections](plugins/collections/README.md)\n - [coverage](plugins/coverage/README.md) - optional\n - [events](plugins/events/README.md)\n - [jobs](plugins/jobs/README.md)\n - [pipelines](plugins/pipelines/README.md)\n - [secrets](plugins/secrets/README.md)\n - [tokens](plugins/tokens/README.md)\n - [webhooks](plugins/webhooks/README.md)\n\nOne (1) option for datastores:\n - Postgres, MySQL, and Sqlite (`sequelize`)\n\nThree (3) options for executor:\n - Kubernetes (`k8s`)\n - Docker (`docker`)\n - Nomad (`nomad`)\n\nTwo (2) options for SCM:\n - Github (`github`)\n - Bitbucket (`bitbucket`)\n\n### Prerequisites\nTo use Screwdriver, you will need the following prerequisites:\n\n- Node v8.0.0 or higher\n- [Kubernetes][kubectl] or [Docker][docker]\n\n### From Source\n\n```bash\n$ git clone git@github.com:screwdriver-cd/screwdriver.git ./\n$ npm install\n$ vim ./config/local.yaml # See below for configuration\n$ npm start\ninfo: Server running at http://localhost:8080\n```\n\n### From a Prebuilt Docker image\n\n```bash\n$ vim ./local.yaml # See below for configuration\n$ docker run --rm -it --volume=`pwd`/local.yaml:/config/local.yaml -p 8080 screwdrivercd/screwdriver:stable\ninfo: Server running at http://localhost:8080\n```\n\n### Using In-A-Box\n\nOur in-a-box script brings up an entire Screwdriver instance (ui, api, and log store) locally for you to play with.\nFollow instructions at https://github.com/screwdriver-cd/in-a-box#screwdriver-in-a-box.\n\n### Using Helm\n\n[This chart](https://github.com/screwdriver-cd/screwdriver-chart) bootstraps the whole Screwdriver ecosystem and also nginx ingress controller.\n\n## Configuration\n\nScrewdriver already [defaults most configuration](config/default.yaml), but you can override defaults using a `local.yaml` or environment variables.\n\nTo continue set up, follow the [instructions for cluster management](https://github.com/screwdriver-cd/guide/blob/master/docs/cluster-management/configure-api.md#managing-the-api).\n\n### Yaml\n\nExample overriding `local.yaml`:\n\n```yaml\nexecutor:\n    plugin: k8s\n    k8s:\n        options:\n            kubernetes:\n                host: kubernetes.default\n                token: this-is-a-real-token\n            launchVersion: stable\n\nscms:\n    github:\n        plugin: github\n        config:\n            oauthClientId: totally-real-client-id\n            oauthClientSecret: another-real-client-secret\n            secret: a-really-real-secret\n            username: sd-buildbot\n            email: dev-null@screwdriver.cd\n```\n\n### Environment\n\nExample overriding with environment variables:\n\n```bash\n$ export K8S_HOST=127.0.0.1\n$ export K8S_TOKEN=this-is-a-real-token\n$ export SECRET_OAUTH_CLIENT_ID=totally-real-client-id\n$ export SECRET_OAUTH_CLIENT_SECRET=another-real-client-secret\n```\n\nAll the possible environment variables are [defined here](config/custom-environment-variables.yaml).\n\n## Testing\n\n### Unit Tests\n\n```bash\nnpm test\n```\n\n_Note: You might run into [memory issues running all the unit tests](https://stackoverflow.com/questions/26094420/fatal-error-call-and-retry-last-allocation-failed-process-out-of-memory/48895989#48895989). You can update your `~/.bashrc` file with the line below to ensure there's enough memory for tests to run:_\n\n```bash\nexport NODE_OPTIONS=--max_old_space_size=4096\n```\n\n### Functional tests\n\nFork `functional-*` repositories to your organization from [screwdriver-cd-test](https://github.com/screwdriver-cd-test)\n\n#### With `.func_config`\n\nAdd `.func_config` to the root of the Screwdriver API folder with your username, github token, access key, host, and organization for test:\n```\nGIT_TOKEN=YOUR-GITHUB-TOKEN\nSD_API_TOKEN=YOUR-SD-API-TOKEN\nSD_API_HOST=YOUR-SD-API-HOST\nSD_API_PROTOCOL=PROTOCOL-FOR-SD-API // e.g.PROTOCOL=http; by default it is https\nTEST_ORG=YOUR-TEST-ORGANIZATION\nTEST_USERNAME=YOUR-GITHUB-USERNAME\nTEST_SCM_HOSTNAME=YOUR-TEST-SCM-HOSTNAME // e.g. TEST_SCM_HOSTNAME=mygithub.com; by default it is github.com\nTEST_SCM_CONTEXT=YOUR-TEST-SCM-CONTEXT // e.g.TEST_SCM_CONTEXT=bitbucket; by default it is github\n```\n\n#### With environment variables\n\nSet the environment variables:\n\n```bash\n$ export GIT_TOKEN=YOUR-GITHUB-TOKEN\n$ export SD_API_TOKEN=YOUR-SD-API-TOKEN\n$ export SD_API_HOST=YOUR-SD-API-HOST\n$ export SD_API_PROTOCOL=PROTOCOL-FOR-SD-API\n$ export TEST_ORG=YOUR-TEST-ORGANIZATION\n$ export TEST_USERNAME=YOUR-GITHUB-USERNAME\n$ export TEST_SCM_HOSTNAME=YOUR-TEST-SCM-HOSTNAME\n$ export TEST_SCM_CONTEXT=YOUR-TEST-SCM-CONTEXT\n```\n\nThen run the cucumber tests:\n```bash\nnpm run functional\n```\n\n## Contribute\nTo start contributing to Screwdriver, have a look at our guidelines, as well as pointers on where to start making changes, in our [contributing guide](http://docs.screwdriver.cd/about/contributing).\n\n## License\n\nCode licensed under the BSD 3-Clause license. See [LICENSE file](https://github.com/screwdriver-cd/screwdriver/blob/master/LICENSE) for terms.\n\n[npm-image]: https://img.shields.io/npm/v/screwdriver-api.svg\n[npm-url]: https://npmjs.org/package/screwdriver-api\n[cov-image]: https://coveralls.io/repos/github/screwdriver-cd/screwdriver/badge.svg?branch=master\n[cov-url]: https://coveralls.io/github/screwdriver-cd/screwdriver?branch=master\n[vul-image]: https://snyk.io/test/github/screwdriver-cd/screwdriver.git/badge.svg\n[vul-url]: https://snyk.io/test/github/screwdriver-cd/screwdriver.git\n[docker-pulls]: https://img.shields.io/docker/pulls/screwdrivercd/screwdriver.svg\n[docker-stars]: https://img.shields.io/docker/stars/screwdrivercd/screwdriver.svg\n[docker-url]: https://hub.docker.com/r/screwdrivercd/screwdriver/\n[license-image]: https://img.shields.io/npm/l/screwdriver-api.svg\n[issues-image]: https://img.shields.io/github/issues/screwdriver-cd/screwdriver.svg\n[issues-url]: https://github.com/screwdriver-cd/screwdriver/issues\n[status-image]: https://cd.screwdriver.cd/pipelines/1/badge\n[status-url]: https://cd.screwdriver.cd/pipelines/1\n[daviddm-image]: https://david-dm.org/screwdriver-cd/screwdriver.svg?theme=shields.io\n[daviddm-url]: https://david-dm.org/screwdriver-cd/screwdriver\n[slack-image]: http://slack.screwdriver.cd/badge.svg\n[slack-url]: http://slack.screwdriver.cd/\n[docker-compose]: https://www.docker.com/products/docker-compose\n[nomad]: https://www.hashicorp.com/products/nomad\n[docker]: https://www.docker.com/products/docker\n[kubectl]: https://kubernetes.io/docs/user-guide/kubectl-overview/\n"