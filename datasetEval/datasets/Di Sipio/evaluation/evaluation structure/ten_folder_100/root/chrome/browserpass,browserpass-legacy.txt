b'# Browserpass\n\n**IMPORTANT: this repository is archived and not maintained anymore.**\n\n**Browserpass was rewritten from scratch and split in two repositories:**\n\n- **Browser extension: [browserpass-extension](https://github.com/browserpass/browserpass-extension)**\n- **Native host app: [browserpass-native](https://github.com/browserpass/browserpass-native)**\n\n**Follow to the new repositories for installation instructions. We highly recommend to read README in both repositories to get acquainted with the new changes.**\n\n### FAQ\n\n**1. Is the new version backwards compatible?**\n\nNo, and therefore you need to update both browser extension and native host at the same time. If you installed browser extension from Web stores, it will auto-update, but you must install browserpass native host v3 yourself.\n\nRead [browserpass-native installation section](https://github.com/browserpass/browserpass-native#installation) to see if your OS provides an updated package for Browserpass v3, if not then follow manual installation steps as described in that section.\n\n**2. Can I upgrade now, and not wait for an auto-update to come?**\n\nIf you use a Chromium-based browser, go to [browserpass-extension releases](https://github.com/browserpass/browserpass-extension/releases) and download the latest `browserpass-webstore.crx`. Then open `chrome://extensions`, enable "Developer mode" and drag\'n\'drop the downloaded `crx` file. Finally proceed to [browserpass-native installation section](https://github.com/browserpass/browserpass-native#installation) for how to install a new version of the native host.\n\nIf you use Firefox, go to [browserpass-extension releases](https://github.com/browserpass/browserpass-extension/releases) and download the latest `firefox.zip` file, unpack it in a folder, then in Firefox go to `about:debugging#addons` and click on "Load Temporary Add-on" to install the extension. Finally proceed to [browserpass-native installation section](https://github.com/browserpass/browserpass-native#installation) for how to install a new version of the native host.\n\nIf you unpack the contents of `firefox.zip` in `/usr/share/mozilla/extensions/{ec8030f7-c20a-464f-9b0e-13a3a9e97384}/browserpass@maximbaz.com/` folder, according to my experiments Firefox will treat it as persistent extension, it will ignore whatever is currently on Web Store and you will not need to load this extension after every Firefox restart.\n\n**3. Can I keep the old version, if I don\'t have time to upgrade native host app or if my OS hasn\'t updated the "browserpass" package yet?**\n\nGo to the [latest v2 release](https://github.com/browserpass/browserpass/releases), download `chrome.zip` or `firefox.zip` depending on what browser you use. Unpack the archive in a new directory, and then load this extension in the browser:\n\nIn Chromium:\n\n- Go to `chrome://extensions`\n- Enable "Developer mode"\n- Click "Load unpacked" and select the folder with the unpacked contents of `chrome.zip`\n\nIn Firefox:\n\n- Go to `about:debugging#addons`\n- Click "Load Temporary Add-on" and select the folder with the unpacked contents of `firefox.zip`\n\nIf you unpack the contents of `firefox.zip` in `/usr/share/mozilla/extensions/{ec8030f7-c20a-464f-9b0e-13a3a9e97384}/browserpass@maximbaz.com/` folder, according to my experiments Firefox will treat it as persistent extension, it will ignore whatever is currently on Web Store and you will not need to load this extension after every Firefox restart.\n\n**4. What happened to OTP?**\n\nOTP was not implemented in Browserpass v3, but it might be implemented as a separate extension. For more details, see [Support OTP in Browserpass v3](https://github.com/browserpass/browserpass-extension/issues/76).\n\n---\n\nBrowserpass is a Chrome & Firefox extension for [zx2c4\'s pass](https://www.passwordstore.org/), a UNIX based password manager. It retrieves your decrypted passwords for the current domain and allows you to auto-fill login forms, as well as copy it to clipboard. If you have multiple logins for the current site, the extension shows you a list of usernames to choose from.\n\n![Browserpass in the Chrome menu](https://user-images.githubusercontent.com/1177900/38048732-79007146-32c6-11e8-98d5-557ba3f8b262.gif)\n\nIt uses a [native binary written in Golang](https://github.com/dannyvankooten/browserpass/blob/master/browserpass.go) to do the interfacing with your password store. Secure communication between the binary and the browser extension is handled through [native messaging](https://developer.chrome.com/extensions/nativeMessaging).\n\n## Table of Contents\n\n- [Requirements](#requirements)\n- [Installation](#installation)\n- [Updates](#updates)\n- [Usage](#usage)\n- [Options](#options)\n- [Security](#security)\n- [FAQ](#faq)\n- [Contributing](#contributing)\n- [License](#license)\n\n## Requirements\n\n- A recent version of Chrome, Chromium or Firefox 50+.\n- Pass (on UNIX)\n- Your password filename must match your username **or** your file must have a line starting with `login:`, `user:` or `username:`, followed by your username.\n\n_Examples_\n\n```bash\n$ pass website.com/johndoe\nthe-password\n\n$ pass website.com\nthe-password\nlogin: johndoe\n```\n\n## Installation\n\nIn order to install browserpass correctly, you have to install two of its components:\n\n- host application\n- browser extension(s).\n\n### Installing the host application\n\nThe following OS have a browserpass package that can be installed via package manager:\n\n- [Arch Linux](https://aur.archlinux.org/packages/browserpass/)\n- [Debian GNU/Linux](https://tracker.debian.org/pkg/browserpass)\n- [macOS](https://github.com/dustinwilson/homebrew-tap/blob/master/browserpass.rb) - make sure to read [these instructions](#installing-browserpass-on-macos-with-homebrew)\n- [NixOS](https://github.com/NixOS/nixpkgs/blob/master/pkgs/tools/security/browserpass/default.nix) - make sure to read [these instructions](#configuring-browserpass-on-nixos--for-nix)\n- [Ubuntu](https://launchpad.net/ubuntu/+source/browserpass)\n\nIf your OS is not listed above, proceed with the manual installation steps below.\n\n#### Download the latest Github release.\n\nStart out by downloading the [latest release package](https://github.com/dannyvankooten/browserpass/releases) for your operating system.\n\n#### Verifying authenticity of the releases\n\nAll release files are signed with [this PGP key](https://keybase.io/maximbaz). To verify the signature of a given file, use `$ gpg --verify <file>.sig`.\n\nIt should report:\n\n```\ngpg: Signature made ...\ngpg:                using RSA key 8053EB88879A68CB4873D32B011FDC52DA839335\ngpg: Good signature from "Maxim Baz <...>"\ngpg:                 aka ...\nPrimary key fingerprint: EB4F 9E5A 60D3 2232 BB52  150C 12C8 7A28 FEAC 6B20\n     Subkey fingerprint: 8053 EB88 879A 68CB 4873  D32B 011F DC52 DA83 9335\n```\n\n#### Installing the host application\n\n1. Extract the package to where you would like to have the binary.\n1. Run `./install.sh` (`.\\install.ps1` on Windows) to install the native messaging host. If you want a system-wide installation, run the script with `sudo`. For Windows, system-wide installation can be done by running `.\\install.ps1` as Administrator and specifying "yes" at the "Install for all users?" prompt.\n   - If you desire a non-interactive installation on a Unix system, pass the name of the browser to the script (e.g. `./install.sh chrome`)\n\nInstalling the binary & registering it with your browser through the installation script is required to allow the browser extension to talk to the local binary application.\n\n#### Installing the host application on Windows through WSL\n\nIf you already use `pass` under WSL and prefer to have a single copy of your password store, you can use browserpass through WSL as well.\n\n1. Install the Windows host application (see previous section) as well as the Linux host application (under WSL).\n2. Create `%localappdata%\\browserpass\\browserpass-wsl.bat` with the following contents:\n\n```\n@echo off\nbash -c ~/.browserpass/browserpass-linux64\n```\n\nIf you installed the Linux host application in a location different from `~/.browserpass`, replace that path in the above script.\n\n3. Change the path in `%localappdata%\\browserpass\\browserpass-firefox.json` (or `-chrome.json`) to point to `browserpass-wsl.bat`\n\nIf your GPG key has a password, the host application running under WSL won\'t be able to unlock it since it can\'t interactively prompt for the password. This means you can\'t decrypt any passwords unless you\'ve already got the key loaded in gpg-agent.\nAs a workaround, you can use the key (`pass website.com`) in a WSL terminal to load the key into gpg-agent. Then browserpass will work until gpg-agent times out (it is possible to configure larger timeouts, check manual for gpg-agent).\n\n### Installing the Chrome extension\n\nYou can either [install the Chrome extension from the Chrome Web Store](https://chrome.google.com/webstore/detail/browserpass/naepdomgkenhinolocfifgehidddafch) or drag the `chrome-browserpass.crx` file from the release package into the [Chrome Extensions](chrome://extensions) (`chrome://extensions`) page.\n\n### Installing the Firefox extension\n\nYou can [install the Firefox extension from the Mozilla add-ons site](https://addons.mozilla.org/en-US/firefox/addon/browserpass-ce/). Please note that you will need Firefox 50 or higher.\n\n## Updates\n\n**IMPORTANT**: Majority of the improvements require changing code in both browser extensions and the host application. While we are trying to maintain backwards compatibility, it is expected that you will make sure to keep both components up to date.\n\n### Updating the host application\n\nIf you installed the host application via a package manager for your OS, you will likely update it in the the same way.\n\nIf not, repeat the installation instructions for your OS.\n\n### Updating browser extensions\n\nIf you installed the extension from a webstore, you will receive updates automatically.\n\nIf not, repeat the installation instructions for the extension.\n\n## Usage\n\nClick the lock icon or use <kbd>Ctrl+Shift+L</kbd> to open browserpass with the entries that match current domain.\n\n- Chrome allows changing the shortcut via chrome://extensions > Keyboard shortcuts.\n- Firefox unfortunately does not allow changing the default shortcut.\n- Firefox supports the keyboard shortcut only since version 53.\n\n### Filter and search modes\n\nBrowserpass has two modes for working with password entries: filter and search.\n\nWhen opened, browserpass automatically switches to the filter mode if at least one matching entries exists.\n\n**Filter mode** is designed to quickly refine a few search results, for example to choose one of several accounts that you have on a given domain. This is done on client side, the filter is always fuzzy and always works in real time. When browserpass is in the filter mode, you will see a domain name in the input field. To exit filter mode, press <kbd>Backspace</kbd>.\n\n**Search mode** is designed to search password entries on your disk, this is much more expensive operation (especially visible on Windows) that\'s why it is **not** real time, and instead searches only when <kbd>Enter</kbd> is pressed. The search is fuzzy by default, but can be changed to glob algorithm in the options. If you want to search everything interactively, just search for `/` or `.` and then use the filter mode to refine the search in real time.\n\n### Fill (and submit) the login form\n\nClick or select the entry that you want to submit, and the login form will be filled with the selected credentials (injected directly into the DOM, browserpass does not use clipboard for this). When the focus is in the input field, hitting <kbd>Enter</kbd> will submit the first entry in the list (this is useful in combination with filter mode).\n\nIf the login button is found, it will be focused so that you can just hit <kbd>Enter</kbd> to submit the form. If you enable `Automatically submit forms after filling` in the options, the login button will be pressed instead.\n\nIf your password entry has OTP configuration, browserpass will use it at this point to display the code.\n\n### Navigating the entries\n\nNavigate through the list of available credentials with <kbd>Tab</kbd> and <kbd>Shift+Tab</kbd> or with arrow keys.\n\n### Copy to clipboard\n\nClick on the username or password buttons to copy them to clipboard. Keyboard shortcuts are also available, use <kbd>Ctrl+C</kbd> to copy password of the selected entry and <kbd>Shift+C</kbd> to copy the username.\n\n### Open URL\n\nClick on the globe button or use the <kbd>g</kbd> shortcut to navigate to the URL in the current tab, hold <kbd>Shift</kbd> while doing so to open a new tab instead. You can also specify one of the following metadata fields in your pass file to control exactly which URL is navigated to: `url:`, `link:`, `website:`, `web:` or `site:`.\n\nKeep in mind that browserpass can only fill HTTP basic auth credentials _if you open this URL using browserpass_.\n\n### Manual search\n\nTo prevent phishing attacks, browserpass prefills the list of passwords with only those entries that match the current domain. If you want search for credentials across the entire password store, exit the filter mode with <kbd>Backspace</kbd> (domain name in the input field will disappear), type the search request and hit <kbd>Enter</kbd> to start the search. Instead of using <kbd>Backspace</kbd>, you can also type your search query while in the filter mode, as soon as there are no matching results left browserpass will automatically switch to the search mode and will await <kbd>Enter</kbd> to initiate the search.\n\n### Password store location(s)\n\nWhen deciding where to look for the password store, browserpass uses `PASSWORD_STORE_DIR` environment variable, and if it is not defined, checks the `~/.password-store` folder. However, using the `Custom store locations` setting in the options of the browser extension you can configure a different location for browserpass to look for, or even multiple locations. There are no restrictions, you can define subfolders in the password store, gopass mounts or any other folder that has pass entries.\n\nWhen you have more than one password store configured and enabled, in order to help you distinguish the password entries from different locations (e.g. between passwords for work and personal GitHub accounts), a green badge next to each password entry will appear indicating its origin (the name of its password store).\n\n## Options\n\nOpen settings to configure browserpass:\n\n- Right click on the lock icon > "Options".\n- Find the browserpass in the list of extensions in your browser > "Options".\n\nThe list of currently available options:\n\n- `Automatically submit forms after filling`: make browserpass automatically submit the login form for you.\n- `Use fuzzy search`: whether the _manual search mode_ should be fuzzy or not (filter mode is always fuzzy).\n- `Custom store locations`: allows configuring multiple password store locations and toggle them on the fly.\n\n## Security\n\nBrowserpass aims to protect your passwords and computer from malicious or fraudulent websites.\n\n- To protect against phishing, only passwords matching the origin hostname are suggested or selected without an explicit search term.\n- To minimize attack surface, the website is not allowed to trigger any extension action without user invocation.\n- Only data from the selected password is made available to the website.\n- Given full control of the non-native component of the extension, the attacker can extract passwords stored in the configured repository, but can not obtain files elsewhere on the filesystem or reach code execution.\n\n## FAQ\n\n### Does not work on MacOS: "Native host has exited"\n\nFirst install required dependencies:\n\n```\n$ brew install gnupg pinentry-mac\n```\n\nIt is important that you have the `gpg` binary at `/usr/local/bin/gpg`. If you have your `gpg` in another location, create a symlink:\n\n```\n$ sudo ln -s /path/to/your/gpg /usr/local/bin/gpg\n```\n\nIf you don\'t have admin rights to create the symlink, the workaround is to [patch browser launcher](https://github.com/dannyvankooten/browserpass/issues/197#issuecomment-354586602).\n\nNow edit `~/.gnupg/gpg.conf`:\n\n```\n# Comment out or remove this line if it\'s there:\n# pinentry-mode loopback\n\n# and add this line:\nuse-agent\n```\n\nAdd the following line to `~/.gnupg/gpg-agent.conf`:\n\n```\npinentry-program /usr/local/bin/pinentry-mac\n```\n\nThen restart `gpg-agent`:\n\n```\n$ gpgconf --kill gpg-agent\n```\n\nAnd finally restart your browser.\n\nIf you still experience the issue, try starting your browser from terminal. If this helps, the issue is likely due to the absence of `/usr/local/bin/gpg`, follow the steps above to make sure it exists.\n\n### Configuring Browserpass on NixOS / for Nix\n\n#### On NixOS\n\nIf you wish to have a stateless setup, make sure you have this in your `/etc/nixos/configuration.nix` and rebuild your system:\n\n```nix\n{ pkgs, ... }: {\n  programs.browserpass.enable = true;\n  environment.systemPackages = with pkgs; [\n    # All of these browsers will work with it\n    chromium\n    firefox\n    google-chrome\n    vivaldi\n  ];\n}\n```\n\nNote: firefox*-bin versions do _not_ work statelessly. If you require such firefox versions, use the stateful setup in the following section.\n\n#### For Nix / stateful\n\nInstall browserpass native messaging host with\n\n```\nnix-env -iA nixpkgs.browserpass\n```\n\nAnd install the browser extension like normal. Then link the necessary files\n\n```\n# For firefox\nmkdir -p ~/.mozilla/native-messaging-hosts && \\\n  ln -s ~/.nix-profile/lib/mozilla/native-messaging-hosts/com.dannyvankooten.browserpass.json ~/.mozilla/native-messaging-hosts\n# For chrome\nmkdir -p ~/.config/google-chrome/NativeMessagingHosts && \\\n  ln -s ~/.nix-profile/etc/chrome-host.json ~/.config/google-chrome/NativeMessagingHosts/com.dannyvankooten.browserpass.json\n# For chromium\nmkdir -p ~/.config/chromium/NativeMessagingHosts && \\\n  ln -s ~/.nix-profile/etc/chrome-host.json ~/.config/chromium/NativeMessagingHosts/com.dannyvankooten.browserpass.json\n# For vivaldi\nmkdir -p ~/.config/vivaldi/NativeMessagingHosts && \\\n  ln -s ~/.nix-profile/etc/chrome-host.json ~/.config/vivaldi/NativeMessagingHosts/com.dannyvankooten.browserpass.json\n```\n\nAll versions of firefox are supported with this way\n\n### Installing Browserpass on macOS with Homebrew\n\nBrowserpass isn\'t included in the main Homebrew repository, so it must be installed by adding a third party "tap". That only requires one additional step.\n\n```\n$ brew tap dustinwilson/tap\n$ brew install browserpass\n```\n\nInstead of running `install.sh` Homebrew supplies an additional command called `browserpass-setup` to handle this and works the same way as `install.sh` above. For example this will install the native host files for Firefox:\n\n```\n$ browserpass-setup firefox\n```\n\nYou must install the browser extensions manually using conventional methods for each browser. All of this information is supplied when running `brew install browserpass`.\n\n### How to configure OTP?\n\nThe easiest way to add OTP in your password entries is to use [pass-otp](https://github.com/tadfisher/pass-otp). You don\'t have to configure anything extra, browserpass will automatically detect if an OTP is configured and show you the code after filling the form.\n\n## Contributing\n\nCheck out [Contributing](CONTRIBUTING.md) for details on how to build browser extension and host app from sources, and how to load browserpass as an unpacked extension into your browser.\n\n## License\n\nMIT Licensed.\n'