b'# Firefox Lite - Mango\n[![Build Status](https://app.bitrise.io/app/8b236d90ab7273d4/status.svg?token=lvHSg6bLhlWD7KCXMIv09w)](https://app.bitrise.io/app/8b236d90ab7273d4)\n\nGetting Involved\n----------------\n\nWe encourage you to participate in this open source project. We love Pull Requests, Bug Reports, ideas, (security) code reviews or any kind of positive contribution. Please read the [Community Participation Guidelines](https://www.mozilla.org/en-US/about/governance/policies/participation/).\n\n* Issues: [https://github.com/mozilla-tw/FirefoxLite/issues](https://github.com/mozilla-tw/FirefoxLite/issues)\n\nBuild instructions\n------------------\n\n1. Clone the repository:\n\n  ```shell\n  git clone https://github.com/mozilla-tw/FirefoxLite\n  ```\n2. Since we\'re using submodule, run:\n\n  ```shell\ngit submodule init\ngit submodule update\n  ```\n\n\n3. Open Android Studio and select File->Open and select FirefoxLite to open the project. Make sure to select the right build variant in Android Studio: **focusWebkitDebug**\n\n4. Disable Instant Run in: Settings/Build, Execution, Deployment > Instant Run. (See note #1 for details.)\n\n[1] We currently don\'t support instant run. An error message similar to:\n```\n/Users/tyu/Documents/zerda/FirefoxLite/app/src/main/java/org/mozilla/focus/utils/FirebaseHelper.java:29: error: cannot find symbol\nfinal public class FirebaseHelper extends FirebaseWrapper {\n                                          ^\n  symbol: class FirebaseWrapper\n```\nwill shown when building with instant run. We have an [issue](https://github.com/mozilla-tw/FirefoxLite/issues/2143) for this so feel free to help with this limitation. To disable instant run , press Cmd+Shit+a on Mac or Ctrl+Shift+a on Windows and enter "instant run" under "Preference" category. If it still doesn\'t work, try enter `./gradlew clean"` on mac or `gradlew clean` on Windows using command line in the project root.\n\nBuild instructions regarding Firebase\n------------------\n\nWe\'re leveraging Firebase to offer some extra functionalities. However, Firebase is optional so normally you should be able to just develop on **focusWebkitDebug**.\n\nHere are some Firebase build workarounds that you may need during normal development:\n\n1. If you want to run UI test without setting up firebase tokens, remove `testBuildType "firebase"` from [build.gradle](https://github.com/mozilla-tw/FirefoxLite/blob/4fedf245c4382122283ca8ec701a5ff18c9bf779/app/build.gradle#L122) or you will most likely see error message like this when you run connectedAndroidTest directly:\n\n```\nNo tests found. This usually means that your test classes are not in the form that your test runner expects (e.g. don\'t inherit from TestCase or lack @Test annotations).\n```\n\nIf you\'d like to test the fully functional Firebase build, you should first setup the environment variables following these [instructions](https://github.com/mozilla-tw/Rocket/blob/4fedf245c4382122283ca8ec701a5ff18c9bf779/app/build.gradle#L346) and select **focusWebkitFirebase**\n\nPull request checks\n----\nTo mimimize the chance you are blocked by our build checks, you can self check these locally:\n1. (build) run `./gradlew clean checkstyle assembleFocusWebkitDebug lint findbugs assembleAndroidTest ktlint`\n2. (size check) run `python tools/metrics/apk_size.py focus webkit`\n3. (Unit test) run `./gradlew testFocusWebkitDebugUnitTest`\n4. (UI test) run `./gradlew connectedAndroidTest`\n\nktlint\n----\nRun `ktlint --install-git-pre-commit-hook` or `ktlint --install-git-pre-push-hook` for hooks\nRun `./gradlew ktlint` or `ktlint` to run check\nRun `./gradlew ktlintformat -F` or `ktlint -F` to fix format\nIf you want to go extreme,run `ktlint -a -F`. This will use Android rule and gives you a lot of complains about max length, but we are not using right now.\nSee https://ktlint.github.io/ for details.\n\nDocs\n----\n\n* [Content blocking](docs/contentblocking.md)\n* [Translations](docs/translations.md)\n* [Search](docs/search.md)\n* [Telemetry](docs/telemetry.md)\n\nLicense\n-------\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/\n'