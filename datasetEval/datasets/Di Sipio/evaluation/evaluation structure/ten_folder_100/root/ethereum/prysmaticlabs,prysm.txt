b"# Prysm: An Ethereum 2.0 Client Written in Go\n\n[![Build status](https://badge.buildkite.com/b555891daf3614bae4284dcf365b2340cefc0089839526f096.svg?branch=master)](https://buildkite.com/prysmatic-labs/prysm)\n[![ETH2.0_Spec_Version 0.8.1](https://img.shields.io/badge/ETH2.0%20Spec%20Version-v0.8.1-blue.svg)](https://github.com/ethereum/eth2.0-specs/commit/452ecf8e27c7852c7854597f2b1bb4a62b80c7ec)\n[![Discord](https://user-images.githubusercontent.com/7288322/34471967-1df7808a-efbb-11e7-9088-ed0b04151291.png)](https://discord.gg/KSA7rPr)\n[![Gitter](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/prysmaticlabs/geth-sharding?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge)\n\nThis is the core repository for Prysm, a [Golang](https://golang.org/) implementation of the Ethereum 2.0 client specifications developed by [Prysmatic Labs](https://prysmaticlabs.com).\n\n### Need assistance?\nA more detailed set of installation and usage instructions as well as breakdowns of each individual component are available in the [official documentation portal](https://prysmaticlabs.gitbook.io/prysm/). If you still have questions, feel free to stop by either our [Discord](https://discord.gg/KSA7rPr) or [Gitter](https://gitter.im/prysmaticlabs/geth-sharding?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge) and a member of the team or our community will be happy to assist you.\n\n### Come join the testnet!\nParticipation is now open to the public for our Ethereum 2.0 phase 0 testnet release. Visit [prylabs.net](https://prylabs.net) for more information on the project or to sign up as a validator on the network.\n\n# Table of Contents\n\n- [Dependencies](#dependencies)\n- [Installation](#installation)\n    - [Build via Docker](#build-via-docker)\n    - [Build via Bazel](#build-via-bazel)\n- [Connecting to the public testnet: running a beacon node](#connecting-to-the-testnet-running-a-beacon-node)\n    - [Running via Docker](#build-via-docker)\n    - [Running via Bazel](#build-via-bazel)\n- [Staking ETH: running a validator client](#staking-eth-running-a-validator-client)\n    - [Activating your validator: depositing 3.2 Goerli ETH](#activating-your-validator-depositing-32-goerli-eth)\n    - [Starting the validator with Bazel](#starting-the-validator-with-bazel)\n- [Setting up a local ETH2 development chain](#setting-up-a-local-eth2-development-chain)\n    - [Installation and dependencies](#installation-and-dependencies) \n    - [Running a local beacon node and validator client](#running-a-local-beacon-node-and-validator-client)   \n-   [Testing Prysm](#testing-prysm)\n-   [Contributing](#contributing)\n-   [License](#license)\n\n## Dependencies\nPrysm can be installed either with Docker **(recommended method)** or using our build tool, Bazel. The below instructions include sections for performing both.\n\n**For Docker installations:**\n  - The latest release of [Docker](https://docs.docker.com/install/)\n\n**For Bazel installations:**\n  - The latest release of [Bazel](https://docs.bazel.build/versions/master/install.html)\n  - A modern UNIX operating system (MacOS included)\n\n## Installation\n\n### Build via Docker\n1. Ensure you are running the most recent version of Docker by issuing the command:\n```\ndocker -v\n```\n2.  To pull the Prysm images from the server, issue the following commands:\n```\ndocker pull gcr.io/prysmaticlabs/prysm/validator:latest\ndocker pull gcr.io/prysmaticlabs/prysm/beacon-chain:latest\n```\nThis process will also install any related dependencies.\n\n### Build via Bazel\n\n1. Open a terminal window. Ensure you are running the most recent version of Bazel by issuing the command:\n```\nbazel version\n```\n2. Clone this repository and enter the directory:\n```\ngit clone https://github.com/prysmaticlabs/prysm\ncd prysm\n```\n3. Build both the beacon chain node implementation and the validator client:\n```\nbazel build //beacon-chain:beacon-chain\nbazel build //validator:validator\n```\nBazel will automatically pull and install any dependencies as well, including Go and necessary compilers.\n\n4. Build the configuration for the Prysm testnet by issuing the commands:\n\n```\nbazel build --define ssz=minimal //beacon-chain:beacon-chain\nbazel build --define ssz=minimal //validator:validator\n```\n\nThe binaries will be built in an architecture-dependent subdirectory of `bazel-bin`, and are supplied as part of Bazel's build process.  To fetch the location, issue the command:\n\n```\n$ bazel build --define ssz=minimal //beacon-chain:beacon-chain\n...\nTarget //beacon-chain:beacon-chain up-to-date:\n  bazel-bin/beacon-chain/linux_amd64_stripped/beacon-chain\n...\n```\n\nIn the example above, the beacon chain binary has been created in `bazel-bin/beacon-chain/linux_amd64_stripped/beacon-chain`.\n\n## Connecting to the testnet: running a beacon node\n\nThis section contains instructions for initialising a beacon node and connecting to the public testnet. To further understand the role that both the beacon node and validator play in Prysm, see [this section of our documentation](https://prysmaticlabs.gitbook.io/prysm/how-prysm-works/overview-technical).\n\n### Running via Docker\n\n#### Docker on Linux/Mac\n\nTo start your beacon node, issue the following command:\n\n```\ndocker run -v $HOME/prysm-data:/data -p 4000:4000 \\\n  --name beacon-node \\\n  gcr.io/prysmaticlabs/prysm/beacon-chain:latest \\\n  --no-genesis-delay \\\n  --datadir=/data\n```\n\n(Optional) If you want to enable gRPC, then run this command instead of the one above:\n\n```\ndocker run -v $HOME/prysm-data:/data -p 4000:4000 -p 7000:7000 \\\n  --name beacon-node \\\n  gcr.io/prysmaticlabs/prysm/beacon-chain:latest \\\n  --datadir=/data \\\n  --no-genesis-delay \\\n  --grpc-gateway-port=7000\n```\n\nYou can halt the beacon node using `Ctrl+c` or with the following command:\n\n```\ndocker stop beacon-node\n```\n\nTo restart the beacon node, issue the command:\n\n```\ndocker start -ai beacon-node\n```\n\nTo delete a corrupted container, issue the command:\n\n```\ndocker rm beacon-node\n```\n\nTo recreate a deleted container and refresh the chain database, issue the start command with an additional `--force-clear-db` parameter:\n\n```\ndocker run -it -v $HOME/prysm-data:/data -p 4000:4000 --name beacon-node \\\n  gcr.io/prysmaticlabs/prysm/beacon-chain:latest \\\n  --datadir=/data \\\n  --force-clear-db\n```\n\n#### Docker on Windows\n\n1) You will need to share the local drive you wish to mount to to container (e.g. C:).\n    1. Enter Docker settings (right click the tray icon)\n    2. Click 'Shared Drives'\n    3. Select a drive to share\n    4. Click 'Apply'\n\n2) You will next need to create a directory named ```/tmp/prysm-data/``` within your selected shared Drive. This folder will be used as a local data directory for Beacon Node chain data as well as account and keystore information required by the validator. Docker will **not** create this directory if it does not exist already. For the purposes of these instructions, it is assumed that ```C:``` is your prior-selected shared Drive.\n\n4) To run the beacon node, issue the command:\n```\ndocker run -it -v c:/tmp/prysm-data:/data -p 4000:4000 gcr.io/prysmaticlabs/prysm/beacon-chain:latest --datadir=/data\n```\n\n### Running via Bazel\n\n1) To start your Beacon Node with Bazel, issue the command:\n```\nbazel run //beacon-chain -- --datadir=/tmp/prysm-data\n```\nThis will sync up the Beacon Node with the latest head block in the network. Note that the beacon node must be **completely synced** before attempting to initialise a validator client, otherwise the validator will not be able to complete the deposit and funds will be lost.\n\n\n## Staking ETH: running a validator client\n\nOnce your beacon node is up, the chain will be waiting for you to deposit 3.2 Goerli ETH into the Validator Deposit Contract to activate your validator (discussed in the section below). First though, you will need to create a validator client to connect to this node in order to stake and participate. Each validator represents 3.2 Goerli ETH being staked in the system, and it is possible to spin up as many as you desire in order to have more stake in the network.\n\nFor more information on the functionality of validator clients, see [this section](https://prysmaticlabs.gitbook.io/prysm/how-prysm-works/validator-clients) of our official documentation.\n\n### Activating your validator: depositing 3.2 Goerli ETH\n\nUsing your validator deposit data from the previous step, follow the instructions found on https://prylabs.net/participate to make a deposit.\n\nIt will take a while for the nodes in the network to process your deposit, but once your node is active, the validator will begin doing its responsibility. In your validator client, you will be able to frequently see your validator balance as it goes up over time. Note that, should your node ever go offline for a long period, you'll start gradually losing your deposit until you are removed from the system.\n\n### Starting the validator with Bazel\n\n1. Open another terminal window. Enter your Prysm directory and run the validator by issuing the following command:\n```\ncd prysm\nbazel run //validator\n```\n**Congratulations, you are now running Ethereum 2.0 Phase 0!**\n\n## Setting up a local ETH2 development chain\n\nThis section outlines the process of setting up Prysm for local interop testing with other Ethereum 2.0 client implementations. See the [INTEROP.md](https://github.com/prysmaticlabs/prysm/blob/master/INTEROP.md) file for advanced configuration options. For more background information on interoperability development, see [this blog post](https://blog.ethereum.org/2019/09/19/eth2-interop-in-review/).\n\n### Installation and dependencies\n\nTo begin setting up a local ETH2 development chain, follow the **Bazel** instructions found in the [dependencies](#dependencies) and [installation](#installation) sections respectively. \n\n### Running a local beacon node and validator client\n\nThe example below will deterministically generate a beacon genesis state, initiate Prysm with 64 validators and set the genesis time to your local machines current UNIX time.\n\n1. Open up two terminal windows. In the first, issue the command:\n\n```\nbazel run //beacon-chain -- \\\n--no-genesis-delay \\\n--bootstrap-node= \\\n--deposit-contract 0xD775140349E6A5D12524C6ccc3d6A1d4519D4029 \\\n--clear-db \\\n--interop-num-validators 64 \\\n--interop-eth1data-votes\n```\n\n2. Wait a moment for the beacon chain to start. In the other terminal, issue the command:\n\n```\nbazel run //validator -- --interop-num-validators 64\n```\n\nThis command will kickstart the system with your 64 validators performing their duties accordingly.\n\n## Testing Prysm\n\nTo run the unit tests of our system, issue the command:\n```\nbazel test //...\n```\n\nTo run the linter, ensure you have [golangci-lint](https://github.com/golangci/golangci-lint) installed, then issue the command:\n```\ngolangci-lint run\n```\n\n## Contributing\nWant to get involved? Check out our [Contribution Guide](https://prysmaticlabs.gitbook.io/prysm/getting-involved/contribution-guidelines) to learn more!\n\n## License\n[GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.en.html)\n"