b'# vuex-persistedstate\n\nPersist and rehydrate your [Vuex](http://vuex.vuejs.org/) state between page reloads.\n\n<hr />\n\n[![Build Status](https://img.shields.io/travis/robinvdvleuten/vuex-persistedstate.svg)](https://travis-ci.org/robinvdvleuten/vuex-persistedstate)\n[![NPM version](https://img.shields.io/npm/v/vuex-persistedstate.svg)](https://www.npmjs.com/package/vuex-persistedstate)\n[![NPM downloads](https://img.shields.io/npm/dm/vuex-persistedstate.svg)](https://www.npmjs.com/package/vuex-persistedstate)\n[![Prettier](https://img.shields.io/badge/code_style-prettier-ff69b4.svg)](https://github.com/prettier/prettier)\n[![MIT license](https://img.shields.io/github/license/robinvdvleuten/vuex-persistedstate.svg)](https://github.com/robinvdvleuten/vuex-persistedstate/blob/master/LICENSE)\n\n[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](http://makeapullrequest.com)\n[![Code Of Conduct](https://img.shields.io/badge/code%20of-conduct-ff69b4.svg)](https://github.com/robinvdvleuten/vuex-persistedstate/blob/master/.github/CODE_OF_CONDUCT.md)\n\n## Requirements\n\n- [Vue.js](https://vuejs.org) (v2.0.0+)\n- [Vuex](http://vuex.vuejs.org) (v2.0.0+)\n\n## Install\n\n```bash\nnpm install --save vuex-persistedstate\n```\n\nThe [UMD](https://github.com/umdjs/umd) build is also available on [unpkg](https://unpkg.com):\n\n```html\n<script src="https://unpkg.com/vuex-persistedstate/dist/vuex-persistedstate.umd.js"></script>\n```\n\nYou can find the library on `window.createPersistedState`.\n\n## Usage\n\n```js\nimport createPersistedState from "vuex-persistedstate";\n\nconst store = new Vuex.Store({\n  // ...\n  plugins: [createPersistedState()]\n});\n```\n\nCheck out the example on [CodeSandbox](https://codesandbox.io).\n\n[![Edit vuex-persistedstate](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/80k4m2598)\n\nOr configured to use with [js-cookie](https://github.com/js-cookie/js-cookie).\n\n[![Edit vuex-persistedstate with js-cookie](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/xl356qvvkz)\n\nOr configured to use with [secure-ls](https://github.com/softvar/secure-ls)\n\n[![Edit vuex-persistedstate with secure-ls (encrypted data)](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/vuex-persistedstate-with-secure-ls-encrypted-data-7l9wb?fontsize=14)\n\n### Nuxt.js\n\nIt is possible to use vuex-persistedstate with Nuxt.js. Due to the order code is loaded in, vuex-persistedstate must be included as a NuxtJS plugin:\n\n```javascript\n// nuxt.config.js\n\n...\nplugins: [{ src: \'~/plugins/localStorage.js\', ssr: false }]\n...\n```\n\n```javascript\n// ~/plugins/localStorage.js\n\nimport createPersistedState from \'vuex-persistedstate\'\n\nexport default ({store}) => {\n  window.onNuxtReady(() => {\n    createPersistedState({\n        key: \'yourkey\',\n        paths: [...]\n        ...\n    })(store)\n  })\n}\n```\n\n## API\n\n### `createPersistedState([options])`\n\nCreates a new instance of the plugin with the given options. The following options\ncan be provided to configure the plugin for your specific needs:\n\n- `key <String>`: The key to store the persisted state under. (default: **vuex**)\n- `paths <Array>`: An array of any paths to partially persist the state. If no paths are given, the complete state is persisted. Paths must be specified using dot notation. If using modules, include the module name. eg: "auth.user" (default: **[]**)\n- `reducer <Function>`: A function that will be called to reduce the state to persist based on the given paths. Defaults to include the values.\n- `subscriber <Function>`: A function called to setup mutation subscription. Defaults to `store => handler => store.subscribe(handler)`\n\n- `storage <Object>`: Instead for (or in combination with) `getState` and `setState`. Defaults to localStorage.\n- `getState <Function>`: A function that will be called to rehydrate a previously persisted state. Defaults to using `storage`.\n- `setState <Function>`: A function that will be called to persist the given state. Defaults to using `storage`.\n- `filter <Function>`: A function that will be called to filter any mutations which will trigger `setState` on storage eventually. Defaults to `() => true`\n- `arrayMerger <Function>`: A function for merging arrays when rehydrating state. Defaults to `function (store, saved) { return saved }` (saved state replaces supplied state).\n- `rehydrated <Function>`: A function that will be called when the rehydration is finished. Useful when you are using Nuxt.js, which the rehydration of the persisted state happens asynchronously. Defaults to `store => {}`\n\n## Customize Storage\n\nIf it\'s not ideal to have the state of the Vuex store inside localstorage. One can easily implement the functionality to use [cookies](https://github.com/js-cookie/js-cookie) for that (or any other you can think of);\n\n[![Edit vuex-persistedstate with js-cookie](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/xl356qvvkz?autoresize=1)\n\n```js\nimport { Store } from "vuex";\nimport createPersistedState from "vuex-persistedstate";\nimport * as Cookies from "js-cookie";\n\nconst store = new Store({\n  // ...\n  plugins: [\n    createPersistedState({\n      storage: {\n        getItem: key => Cookies.get(key),\n        // Please see https://github.com/js-cookie/js-cookie#json, on how to handle JSON.\n        setItem: (key, value) =>\n          Cookies.set(key, value, { expires: 3, secure: true }),\n        removeItem: key => Cookies.remove(key)\n      }\n    })\n  ]\n});\n```\n\nIn fact, any object following the Storage protocol (getItem, setItem, removeItem, etc) could be passed:\n\n```js\ncreatePersistedState({ storage: window.sessionStorage });\n```\n\nThis is especially useful when you are using this plugin in combination with server-side rendering, where one could pass an instance of [dom-storage](https://www.npmjs.com/package/dom-storage).\n\n### \xf0\x9f\x94\x90Encrypted Local Storage\n\nIf you need to use **Local Storage** (or you want to) but needs to protect the content of the data, you can [encrypt it](\'https://github.com/softvar/secure-ls\').\n\n[![Edit vuex-persistedstate with secure-ls (encrypted data)](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/vuex-persistedstate-with-secure-ls-encrypted-data-7l9wb?fontsize=14)\n\n```js\nimport { Store } from "vuex";\nimport createPersistedState from "vuex-persistedstate";\nimport SecureLS from "secure-ls";\nvar ls = new SecureLS({ isCompression: false });\n\n// https://github.com/softvar/secure-ls\n\nconst store = new Store({\n  // ...\n  plugins: [\n    createPersistedState({\n      storage: {\n        getItem: key => ls.get(key),\n        setItem: (key, value) => ls.set(key, value),\n        removeItem: key => ls.remove(key)\n      }\n    })\n  ]\n});\n```\n\n### \xe2\x9a\xa0\xef\xb8\x8f LocalForage \xe2\x9a\xa0\xef\xb8\x8f\n\nAs it maybe seems at first sight, it\'s not possible to pass a [LocalForage](https://github.com/localForage/localForage) instance as `storage` property. This is due the fact that all getters and setters must be synchronous and [LocalForage\'s methods](https://github.com/localForage/localForage#callbacks-vs-promises) are asynchronous.\n\n## Contributors \xe2\x9c\xa8\n\nThanks goes to these wonderful people ([emoji key](https://allcontributors.org/docs/en/emoji-key)):\n\n<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->\n<!-- prettier-ignore-start -->\n<!-- markdownlint-disable -->\n<table>\n  <tr>\n    <td align="center"><a href="https://robinvdvleuten.nl"><img src="https://avatars3.githubusercontent.com/u/238295?v=4" width="100px;" alt="Robin van der Vleuten"/><br /><sub><b>Robin van der Vleuten</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=robinvdvleuten" title="Code">\xf0\x9f\x92\xbb</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=robinvdvleuten" title="Documentation">\xf0\x9f\x93\x96</a> <a href="#infra-robinvdvleuten" title="Infrastructure (Hosting, Build-Tools, etc)">\xf0\x9f\x9a\x87</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=robinvdvleuten" title="Tests">\xe2\x9a\xa0\xef\xb8\x8f</a></td>\n    <td align="center"><a href="https://github.com/zweizeichen"><img src="https://avatars1.githubusercontent.com/u/654071?v=4" width="100px;" alt="Sebastian"/><br /><sub><b>Sebastian</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=zweizeichen" title="Code">\xf0\x9f\x92\xbb</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=zweizeichen" title="Documentation">\xf0\x9f\x93\x96</a></td>\n    <td align="center"><a href="https://github.com/boris-graeff"><img src="https://avatars1.githubusercontent.com/u/3204379?v=4" width="100px;" alt="Boris Graeff"/><br /><sub><b>Boris Graeff</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=boris-graeff" title="Code">\xf0\x9f\x92\xbb</a></td>\n    <td align="center"><a href="http://ciceropablo.github.io"><img src="https://avatars3.githubusercontent.com/u/174275?v=4" width="100px;" alt="C\xc3\xadcero Pablo"/><br /><sub><b>C\xc3\xadcero Pablo</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=ciceropablo" title="Documentation">\xf0\x9f\x93\x96</a></td>\n    <td align="center"><a href="https://gatwal.com"><img src="https://avatars1.githubusercontent.com/u/7547554?v=4" width="100px;" alt="Gurpreet Atwal"/><br /><sub><b>Gurpreet Atwal</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=gurpreetatwal" title="Tests">\xe2\x9a\xa0\xef\xb8\x8f</a></td>\n    <td align="center"><a href="https://jcubed.me"><img src="https://avatars0.githubusercontent.com/u/43069023?v=4" width="100px;" alt="Jakub Koralewski"/><br /><sub><b>Jakub Koralewski</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=JakubKoralewski" title="Code">\xf0\x9f\x92\xbb</a></td>\n    <td align="center"><a href="http://jankeesvw.com"><img src="https://avatars0.githubusercontent.com/u/167882?v=4" width="100px;" alt="Jankees van Woezik"/><br /><sub><b>Jankees van Woezik</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=jankeesvw" title="Documentation">\xf0\x9f\x93\x96</a></td>\n  </tr>\n  <tr>\n    <td align="center"><a href="https://randomcodetips.com"><img src="https://avatars2.githubusercontent.com/u/8638243?v=4" width="100px;" alt="Jofferson Ramirez Tiquez"/><br /><sub><b>Jofferson Ramirez Tiquez</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=jofftiquez" title="Documentation">\xf0\x9f\x93\x96</a></td>\n    <td align="center"><a href="https://github.com/DevoidCoding"><img src="https://avatars1.githubusercontent.com/u/21159634?v=4" width="100px;" alt="Jordan Deprez"/><br /><sub><b>Jordan Deprez</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=DevoidCoding" title="Documentation">\xf0\x9f\x93\x96</a></td>\n    <td align="center"><a href="https://github.com/juanvillegas"><img src="https://avatars3.githubusercontent.com/u/773149?v=4" width="100px;" alt="Juan Villegas"/><br /><sub><b>Juan Villegas</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=juanvillegas" title="Documentation">\xf0\x9f\x93\x96</a></td>\n    <td align="center"><a href="http://jrast.ch"><img src="https://avatars3.githubusercontent.com/u/146369?v=4" width="100px;" alt="J\xc3\xbcrg Rast"/><br /><sub><b>J\xc3\xbcrg Rast</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=jrast" title="Code">\xf0\x9f\x92\xbb</a></td>\n    <td align="center"><a href="https://github.com/antixrist"><img src="https://avatars3.githubusercontent.com/u/2387592?v=4" width="100px;" alt="Kartashov Alexey"/><br /><sub><b>Kartashov Alexey</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=antixrist" title="Code">\xf0\x9f\x92\xbb</a></td>\n    <td align="center"><a href="http://twitter.com/LeonardPauli"><img src="https://avatars0.githubusercontent.com/u/1329834?v=4" width="100px;" alt="Leonard Pauli"/><br /><sub><b>Leonard Pauli</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=leonardpauli" title="Code">\xf0\x9f\x92\xbb</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=leonardpauli" title="Documentation">\xf0\x9f\x93\x96</a></td>\n    <td align="center"><a href="https://github.com/nelsliu9121"><img src="https://avatars2.githubusercontent.com/u/1268682?v=4" width="100px;" alt="Nelson Liu"/><br /><sub><b>Nelson Liu</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=nelsliu9121" title="Code">\xf0\x9f\x92\xbb</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=nelsliu9121" title="Documentation">\xf0\x9f\x93\x96</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=nelsliu9121" title="Tests">\xe2\x9a\xa0\xef\xb8\x8f</a></td>\n  </tr>\n  <tr>\n    <td align="center"><a href="https://github.com/NLNicoo"><img src="https://avatars2.githubusercontent.com/u/6526666?v=4" width="100px;" alt="Nico"/><br /><sub><b>Nico</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=NLNicoo" title="Code">\xf0\x9f\x92\xbb</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=NLNicoo" title="Tests">\xe2\x9a\xa0\xef\xb8\x8f</a></td>\n    <td align="center"><a href="https://graficos.net"><img src="https://avatars2.githubusercontent.com/u/6775220?v=4" width="100px;" alt="Paul Melero"/><br /><sub><b>Paul Melero</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=gangsthub" title="Documentation">\xf0\x9f\x93\x96</a></td>\n    <td align="center"><a href="https://www.qkdreyer.dev"><img src="https://avatars3.githubusercontent.com/u/717869?v=4" width="100px;" alt="Quentin Dreyer"/><br /><sub><b>Quentin Dreyer</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=qkdreyer" title="Code">\xf0\x9f\x92\xbb</a></td>\n    <td align="center"><a href="http://raphaelsaunier.com"><img src="https://avatars2.githubusercontent.com/u/170256?v=4" width="100px;" alt="Raphael Saunier"/><br /><sub><b>Raphael Saunier</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=raphaelsaunier" title="Code">\xf0\x9f\x92\xbb</a></td>\n    <td align="center"><a href="http://rodneyrehm.de"><img src="https://avatars3.githubusercontent.com/u/186837?v=4" width="100px;" alt="Rodney Rehm"/><br /><sub><b>Rodney Rehm</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=rodneyrehm" title="Code">\xf0\x9f\x92\xbb</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=rodneyrehm" title="Tests">\xe2\x9a\xa0\xef\xb8\x8f</a></td>\n    <td align="center"><a href="http://wongyouth.github.io"><img src="https://avatars1.githubusercontent.com/u/944583?v=4" width="100px;" alt="Ryan Wang"/><br /><sub><b>Ryan Wang</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=wongyouth" title="Code">\xf0\x9f\x92\xbb</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=wongyouth" title="Documentation">\xf0\x9f\x93\x96</a> <a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=wongyouth" title="Tests">\xe2\x9a\xa0\xef\xb8\x8f</a></td>\n    <td align="center"><a href="https://atinux.com"><img src="https://avatars2.githubusercontent.com/u/904724?v=4" width="100px;" alt="S\xc3\xa9bastien Chopin"/><br /><sub><b>S\xc3\xa9bastien Chopin</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=Atinux" title="Documentation">\xf0\x9f\x93\x96</a></td>\n  </tr>\n  <tr>\n    <td align="center"><a href="https://github.com/zgayjjf"><img src="https://avatars1.githubusercontent.com/u/24718872?v=4" width="100px;" alt="jeffjing"/><br /><sub><b>jeffjing</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=zgayjjf" title="Code">\xf0\x9f\x92\xbb</a></td>\n    <td align="center"><a href="https://github.com/macarthuror"><img src="https://avatars0.githubusercontent.com/u/24395219?v=4" width="100px;" alt="macarthuror"/><br /><sub><b>macarthuror</b></sub></a><br /><a href="https://github.com/robinvdvleuten/vuex-persistedstate/commits?author=macarthuror" title="Documentation">\xf0\x9f\x93\x96</a></td>\n  </tr>\n</table>\n\n<!-- markdownlint-enable -->\n<!-- prettier-ignore-end -->\n\n<!-- ALL-CONTRIBUTORS-LIST:END -->\n\nThis project follows the [all-contributors](https://github.com/all-contributors/all-contributors) specification. Contributions of any kind welcome!\n\n## License\n\nThe MIT License (MIT). Please see [License File](LICENSE) for more information.\n'