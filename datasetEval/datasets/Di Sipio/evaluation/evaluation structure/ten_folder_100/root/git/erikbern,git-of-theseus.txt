b"[![travis badge](https://img.shields.io/travis/erikbern/git-of-theseus/master.svg?style=flat)](https://travis-ci.org/erikbern/git-of-theseus)\n[![pypi badge](https://img.shields.io/pypi/v/git-of-theseus.svg?style=flat)](https://pypi.python.org/pypi/git-of-theseus)\n\nSome scripts to analyze Git repos. Produces cool looking graphs like this (running it on [git](https://github.com/git/git) itself):\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-git.png)\n\nInstalling\n----------\n\nRun `pip install git-of-theseus`\n\nRunning\n-------\n\nFirst, you need to run `git-of-theseus-analyze <path to repo>` (see `git-of-theseus-analyze --help` for a bunch of config). This will analyze a repository and might take quite some time.\n\nAfter that, you can generate plots! Here are some ways you can do that:\n\n1. Run `git-of-theseus-stack-plot cohorts.json` which will write to `stack_plot.png`\n1. Run `git-of-theseus-survival-plot survival.json` which will write to `survival_plot.png` (run it with `--help` for some options)\n\nIf you want to plot multiple repositories, have to run `git-of-theseus-analyze` separately for each project and store the data in separate directories using the `--outdir` flag. Then you can run `git-of-theseus-survival-plot <foo/survival.json> <bar/survival.json>` (optionally with the `--exp-fit` flag to fit an exponential decay)\n\nHelp\n----\n\n`AttributeError: Unknown property labels` \xe2\x80\x93\xc2\xa0upgrade matplotlib if you are seeing this. `pip install matplotlib --upgrade`\n  \nSome pics\n---------\n\nSurvival of a line of code in a set of interesting repos:\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-projects-survival.png)\n\nThis curve is produced by the `git-of-theseus-survival-plot` script and shows the *percentage of lines in a commit that are still present after x years*. It aggregates it over all commits, no matter what point in time they were made. So for *x=0* it includes all commits, whereas for *x>0* not all commits are counted (because we would have to look into the future for some of them). The survival curves are estimated using [Kaplan-Meier](https://en.wikipedia.org/wiki/Kaplan%E2%80%93Meier_estimator).\n\nYou can also add an exponential fit:\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-projects-survival-exp-fit.png)\n\nLinux \xe2\x80\x93\xc2\xa0stack plot:\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-linux.png)\n\nThis curve is produced by the `git-of-theseus-stack-plot` script and shows the total number of lines in a repo broken down into cohorts by the year the code was added.\n\nNode \xe2\x80\x93\xc2\xa0stack plot:\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-node.png)\n\nRails \xe2\x80\x93\xc2\xa0stack plot:\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-rails.png)\n\nPlotting other stuff\n--------------------\n\n`git-of-theseus-analyze` will write `exts.json`, `cohorts.json` and `authors.json`. You can run `git-of-theseus-stack-plot authors.json` to plot author statistics as well, or `git-of-theseus-stack-plot exts.json` to plot file extension statistics. For author statistics, you might want to create a [.mailmap](https://git-scm.com/docs/git-check-mailmap) file to deduplicate authors. For instance, here's the author statistics for [Kubernetes](https://github.com/kubernetes/kubernetes):\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-kubernetes-authors.png)\n\nYou can also normalize it to 100%. Here's author statistics for Git:\n\n![git](https://raw.githubusercontent.com/erikbern/git-of-theseus/master/pics/git-git-authors-normalized.png)\n\nOther stuff\n-----------\n\n[Markovtsev Vadim](https://twitter.com/tmarkhor) implemented a very similar analysis that claims to be 20%-6x faster than Git of Theseus. It's named [Hercules](https://github.com/src-d/hercules) and there's a great [blog post](https://blog.sourced.tech/post/hercules/) about all the complexity going into the analysis of Git history.\n"