b'# missingno [![PyPi version](https://img.shields.io/pypi/v/missingno.svg)](https://pypi.python.org/pypi/missingno/) [![](https://img.shields.io/badge/python-3.4+-blue.svg)](https://www.python.org/download/releases/3.4.0/) ![t](https://img.shields.io/badge/status-stable-green.svg) [![](https://img.shields.io/github/license/ResidentMario/missingno.svg)](https://github.com/ResidentMario/missingno/blob/master/LICENSE.md) [![](https://img.shields.io/badge/doi-10.21105/joss.00547+-blue.svg)](https://joss.theoj.org/papers/10.21105/joss.00547)\n\nMessy datasets? Missing values? `missingno` provides a small toolset of flexible and easy-to-use missing data\nvisualizations and utilities that allows you to get a quick visual summary of the completeness (or lack thereof) of your dataset. Just `pip install missingno` to get started.\n\n## Quickstart [![Binder](https://mybinder.org/badge.svg)](https://mybinder.org/v2/gh/ResidentMario/missingno/master?filepath=QuickStart.ipynb)\nThis quickstart uses a sample of the [NYPD Motor Vehicle Collisions Dataset](https://data.cityofnewyork.us/Public-Safety/NYPD-Motor-Vehicle-Collisions/h9gi-nx95) \ndataset. To get the data yourself, run the following on your command line:\n\n```sh\n$ pip install quilt\n$ quilt install ResidentMario/missingno_data\n```\n\nThen to load the data into memory:\n\n    >>> from quilt.data.ResidentMario import missingno_data\n    >>> collisions = missingno_data.nyc_collision_factors()\n    >>> collisions = collisions.replace("nan", np.nan)\n\nThe rest of this walkthrough will draw from this `collisions` dataset. I additionally define **nullity** to mean whether a particular variable is filled in or not.\n\n### Matrix\n\nThe `msno.matrix` nullity matrix is a data-dense display which lets you quickly visually pick out patterns in\n data completion.\n\n    >>> import missingno as msno\n    >>> %matplotlib inline\n    >>> msno.matrix(collisions.sample(250))\n\n![alt text][two_hundred_fifty]\n\n[two_hundred_fifty]: https://i.imgur.com/gWuXKEr.png\n\nAt a glance, date, time, the distribution of injuries, and the contribution factor of the first vehicle appear to be completely populated, while geographic information seems mostly complete, but spottier.\n\nThe sparkline at right summarizes the general shape of the data completeness and points out the rows with the maximum and minimum nullity in the dataset.\n\nThis visualization will comfortably accommodate up to 50 labelled variables. Past that range labels begin to overlap or become unreadable, and by default large displays omit them.\n\n<!--\n    >>> msno.matrix(housing.sample(250))\n\n![alt text][large_matrix]\n\n[large_matrix]: http://i.imgur.com/yITFVju.png\n-->\n\nIf you are working with time-series data, you can [specify a periodicity](http://pandas.pydata.org/pandas-docs/stable/timeseries.html#timeseries-offset-aliases)\nusing the `freq` keyword parameter:\n\n    >>> null_pattern = (np.random.random(1000).reshape((50, 20)) > 0.5).astype(bool)\n    >>> null_pattern = pd.DataFrame(null_pattern).replace({False: None})\n    >>> msno.matrix(null_pattern.set_index(pd.period_range(\'1/1/2011\', \'2/1/2015\', freq=\'M\')) , freq=\'BQ\')\n\n![alt text][ts_matrix]\n\n[ts_matrix]: https://i.imgur.com/VLvWpsV.png\n\n### Bar Chart\n\n`msno.bar` is a simple visualization of nullity by column:\n\n    >>> msno.bar(collisions.sample(1000))\n\n![alt text][bar]\n\n[bar]: https://i.imgur.com/2BxEfOr.png\n\nYou can switch to a logarithmic scale by specifying `log=True`. `bar` provides the same information as `matrix`, but in a simpler format.\n\n### Heatmap\n\nThe `missingno` correlation heatmap measures nullity correlation: how strongly the presence or absence of one variable affects the presence of another:\n\n    >>> msno.heatmap(collisions)\n\n![alt text][heatmap]\n\n[heatmap]: https://i.imgur.com/JalSKyE.png\n\nIn this example, it seems that reports which are filed with an `OFF STREET NAME` variable are less likely to have complete geographic data.\n\nNullity correlation ranges from `-1` (if one variable appears the other definitely does not) to `0` (variables appearing or not appearing have no effect on one another) to `1` (if one variable appears the other definitely also does).\n\nVariables that are always full or always empty have no meaningful correlation, and so are silently removed from the visualization&mdash;in this case for instance the datetime and injury number columns, which are completely filled, are not included.\n\nEntries marked `<1` or `>-1` are have a correlation that is close to being exactingly negative or positive, but is still not quite perfectly so. This points to a small number of records in the dataset which are erroneous. For example, in this dataset the correlation between `VEHICLE CODE TYPE 3` and `CONTRIBUTING FACTOR VEHICLE 3` is `<1`, indicating that, contrary to our expectation, there are a few records which have one or the other, but not both. These cases will require special attention.\n\nThe heatmap works great for picking out data completeness relationships between variable pairs, but its explanatory power is limited when it comes to larger relationships and it has no particular support for extremely large datasets.\n\n\n### Dendrogram\n\nThe dendrogram allows you to more fully correlate variable completion, revealing trends deeper than the pairwise ones visible in the correlation heatmap:\n\n    >>> msno.dendrogram(collisions)\n\n![alt text][dendrogram]\n\n[dendrogram]: https://i.imgur.com/oIiR4ct.png\n\nThe dendrogram uses a [hierarchical clustering algorithm](http://docs.scipy.org/doc/scipy/reference/cluster.hierarchy.html)\n(courtesy of `scipy`) to bin variables against one another by their nullity correlation (measured in terms of\nbinary distance). At each step of the tree the variables are split up based on which combination minimizes the distance of the remaining clusters. The more monotone the set of variables, the closer their total distance is to zero, and the closer their average distance (the y-axis) is to zero.\n\nTo interpret this graph, read it from a top-down perspective. Cluster leaves which linked together at a distance of zero fully predict one another\'s presence&mdash;one variable might always be empty when another is filled, or they might always both be filled or both empty, and so on. In this specific example the dendrogram glues together the variables which are required and therefore present in every record.\n\nCluster leaves which split close to zero, but not at it, predict one another very well, but still imperfectly. If your own interpretation of the dataset is that these columns actually *are* or *ought to be* match each other in nullity (for example, as `CONTRIBUTING FACTOR VEHICLE 2` and `VEHICLE TYPE CODE 2` ought to), then the height of the cluster leaf tells you, in absolute terms, how often the records are "mismatched" or incorrectly filed&mdash;that is, how many values you would have to fill in or drop, if you are so inclined.\n\nAs with `matrix`, only up to 50 labeled columns will comfortably display in this configuration. However the\n`dendrogram` more elegantly handles extremely large datasets by simply flipping to a horizontal configuration.\n\n<!--\n    >>> msno.dendrogram(housing)\n\n![alt text][large-dendrogram]\n\n[large-dendrogram]: http://i.imgur.com/HDa06O9.png\n-->\n\n### Configuration\n\nFor more advanced configuration details for your plots, refer to the `CONFIGURATION.md` file in this repository.\n\n## Contributing\n\nFor thoughts on features or bug reports see [Issues](https://github.com/ResidentMario/missingno/issues). If \nyou\'re interested in contributing to this library, see details on doing so in the `CONTRIBUTING.md` file in this \nrepository.\n\n## Citation\n\nYou may cite this package using the following format (via [this paper](http://joss.theoj.org/papers/52b4115d6c03864b884fbf3334851322)):\n\n> Bilogur, (2018). Missingno: a missing data visualization suite. Journal of Open Source Software, 3(22), 547, https://doi.org/10.21105/joss.00547\n'