b"# NPM Trends ([npmtrends.com](http://www.npmtrends.com))\nNPM package comparison app\n\n## Why?\n\nNPM Trends was initially built in late 2015 when I was just getting into frontend development. Coming from a background in Rails, I was frustrated with how many decisions you had to make early on as a javascript developer. I didn't give an F what my build tool was, I just wanted to get a web app in front of users as quickly as possible. I'm a startup founder first and a web developer second.\n\nI didn't want to have to worry that 6 months down the road, the framework that I decided to use wouldn't be supported anymore. I wanted a way to see what packages were being used and what way their use was trending. My hypothesis was that you could use the change in download counts over time to predict whether the developer community of a given package or library would be strong for the foreseeable future.\n\nThis approach paid off early on when NPM Trends led me to choose Redux over the multitude of other Flux frameworks out at the time. When I looked at the download trends in November of 2015, I saw Redux beginning to pull away from the pack. If you look at the stats now, there is no comparison.\n\n![Redux Trend Graph](/app/assets/images/ReduxTrendGraph.png?raw=true)\n\nYou shouldn't use an NPM package solely based on the number of downloads the package has, but it should definitely be another data point in your decision making process. Hopefully NPM Trends will help you make better decisions, so you can spend less time jumping from package to package and more time building meaningful applications.\n\nCheers! \xf0\x9f\x8d\xbb\n\n## About the code\n\nThis app was originally built with a plain React front end and Node.js (Koa) backend ([this commit and earlier](https://github.com/johnmpotter/npm-trends/tree/25792646e9ce9949a9ba07da440e4e188a95e539)). It is now Ruby on Rails with React and Redux (using the awesome [React on Rails gem](https://github.com/shakacode/react_on_rails)).\n\nThis is partly because I have a lot more experience with a Rails backend and partly because the RRRR stack just sounds pretty cool \xf0\x9f\x98\x8e. I apologize for bringing Rails into an app all about Javascript, but \xc2\xaf\\_(\xe3\x83\x84)_/\xc2\xaf.\n\n\n## Getting Started\n\nThere are 3 steps to replicate this app in development:\n\n1. Set up this repository\n\n2. Set up the proxy server using [npm-trends-proxy](https://github.com/johnmpotter/npm-trends-proxy)\n\n3. Create an Elasticsearch DB for autocomplete (optional)\n\n### 1. Set up this repository\nMake sure you have Ruby 2.2.3, Node.js 5.1.0, NPM 3.3.12, and a [Postgres](https://postgresapp.com/) database installed before continuing.\n\nInstall ruby gems (Gemfile):\n```\nbundle install\n```\n\nInstall npm packages (packages.json):\n```\nyarn\n```\n\nPrepare the database (first download and run [Postgres App](https://postgresapp.com/)):\n```ruby\n$ rails db:create\n$ rails db:migrate\n```\n\nStart server:\n```\nforeman start -f Procfile.dev\n```\n\nnote: localhost:5000 (won't work as expected until you set up your proxy server)\n\noptional:\n\nTail the logs\n```\ntail -f log/development.log\n```\n\nLiveReload (for live css changes)\n```\nguard\n```\n\n\n### 2. Set up the proxy server\nThere are two reasons we use a proxy server:\n\n1. To enable cors for the registry.npmjs.com request\n\n2. To cache the api responses (helps with response times and api call limits)\n\nInstall [redis](http://redis.io/) locally (used as cache store)\n\nStart your redis server\n```\nredis-server\n```\n\nClone the repository [npm-trends-proxy](https://github.com/johnmpotter/npm-trends-proxy):\n```\ngit clone https://github.com/johnmpotter/npm-trends-proxy\n```\n\nInstall npm packages (packages.json):\n```\nnpm install\n```\n\nStart server (runs on port 4444 by default):\n```\nnpm start\n```\n\nThe app should now be functioning correctly aside from the autocomplete\n\n\n### 3. Create an Elasticsearch DB for autocomplete (optional)\n\nThis step is optional, but you will not see the autocomplete functionality and it will throw annoying js errors in the web console. Other than that, the app should work as expected without this.\n\nCreate an elasticsearch DB locally or remotely. (We use [aws elasticsearch](https://aws.amazon.com/elasticsearch-service/) for npmtrends.com.)\n\nCreate a file in the root directory named `.env` (we'll be storing our environment variable here)\n\nSet the elasticsearch env variable:\n```\n# .env\n# example: ELASTICSEARCH_URL=npm-elasticsearch-4z0fkk893jms8ukdhfsh5m.us-east-1.es.amazonaws.com\n\nELASTICSEARCH_URL=your_elasticsearch_url\n```\n\nSet up the elasticsearch DB:\n```\nnpm run init-elasticsearch\n```\n\nLoad data from npm to the elasticsearch DB (this could take awhile):\n\nWe are batch requesting 200,000+ packages from npm, then saving to elasticsearch all packages with over 100 downloads in the last month\n```\nnpm run seed-elasticsearch\n```\nnote: If it ever gets hung up, you can change the `currentRequest` var in the `elasticsearch.js` file to the number of your last completed request and then run `node elasticsearch.js` again. The process will then start from that most recently completed request.\n\nYou should now have a functioning autocomplete backed by your elasticsearch DB.\n"