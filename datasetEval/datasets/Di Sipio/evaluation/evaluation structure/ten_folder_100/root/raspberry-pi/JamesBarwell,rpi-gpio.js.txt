b"rpi-gpio.js\n==========\n\nControl Raspberry Pi GPIO pins with node.js\n\n[![Build Status](https://travis-ci.org/JamesBarwell/rpi-gpio.js.svg?branch=master)](https://travis-ci.org/JamesBarwell/rpi-gpio.js)\n[![NPM version](https://badge.fury.io/js/rpi-gpio.svg)](http://badge.fury.io/js/rpi-gpio)\n\n## Supported hardware\n\n* Raspberry Pi 1 Model A\n* Raspberry Pi 1 Model A+\n* Raspberry Pi 1 Model B\n* Raspberry Pi 1 Model B+\n* Raspberry Pi 2 Model B\n* Raspberry Pi 3 Model B\n* Raspberry Pi Zero\n* Raspberry Pi Zero W\n\n## Supported node versions\n\nrpi-gpio 1.x is no longer supported. Please use 2.x unless you need to run with an old version of node.\n\n| node version | rpi-gpio 1.x | rpi-gpio 2.x + |\n| ------------ | ------------ | -------------- |\n| 0.10         | Yes          | No             |\n| 0.12         | Yes          | No             |\n| 4            | Yes          | Yes            |\n| 6            | Yes          | Yes            |\n| 8            | Yes          | Yes            |\n| 10           | No           | Yes            |\n| 12           | No           | Yes            |\n\n## Setup and install\n\nSee this guide on how to get [node.js running on Raspberry Pi](http://thisdavej.com/beginners-guide-to-installing-node-js-on-a-raspberry-pi/#install-node).\n\nThis module can then be installed with npm:\n```\nnpm install rpi-gpio\n```\n\n### Dependency\nPlease note that this module has a dependency on [epoll](https://github.com/fivdi/epoll) and that currently it is only possible to build and develop the module on Linux systems.\n\nIf you are having trouble installing this module make sure you are running gcc/g++ `-v 4.8` or higher. [Here](https://github.com/fivdi/onoff/wiki/Node.js-v4-and-native-addons) is an installation guide.\n\n## Usage\nBefore you can read or write, you must use `setup()` to open a channel, and must specify whether it will be used for input or output. Having done this, you can then read in the state of the channel or write a value to it using `read()` or `write()`.\n\nAll of the functions relating to the pin state within this module are asynchronous, so where necessary - for example in reading the value of a channel - a callback must be provided. This module inherits the standard [EventEmitter](http://nodejs.org/api/events.html), so you may use its functions to listen to events.\n\n### Pin naming\nPlease be aware that there are multiple ways of referring to the pins on the Raspberry Pi. The simplest and default way to use the module is refer to them by physical position, using the diagrams on [this page](http://elinux.org/RPi_Low-level_peripherals). So holding the Raspberry Pi such that the GPIO header runs down the upper-right side of the board, if you wished to address GPIO4 (which is in column 1 and row 4), you would setup pin 7. If you wish instead to refer to the pins by their GPIO names (known as BCM naming), you can use the `setMode` command described in the API documentation below.\n\n### Running without sudo\nThis module will work without use of the `sudo` command, as long as the user running the node process belongs to the `gpio` group. You can check the current user's groups by running the command `groups`, or `groups <user>` for another user. If you are not already a member of the `gpio` group, you can add yourself or another user by running `sudo adduser <user> gpio`.\n\n\n## API (Error-first)\n\nThe default API uses the node-style error-first callbacks to perform asynchronous functions. Most of these methods take a callback, and that callback should check for an error in its first argument. It is important to check for an error after each command, else your code will continue to run and will likely fail in hard to understand ways.\n\n### Methods\n\n#### setup(channel [, direction, edge], callback)\nSets up a channel for read or write. Must be done before the channel can be used.\n* channel: Reference to the pin in the current mode's schema.\n* direction: The pin direction, pass either DIR_IN for read mode or DIR_OUT for write mode. You can also pass DIR_LOW or DIR_HIGH to use the write mode and specify an initial state of 'off' or 'on' respectively. Defaults to DIR_OUT.\n* edge: Interrupt generating GPIO chip setting, pass in EDGE_NONE for no interrupts, EDGE_RISING for interrupts on rising values, EDGE_FALLING for interrupts on falling values or EDGE_BOTH for all interrupts.\nDefaults to EDGE_NONE.\n* callback: Provides Error as the first argument if an error occurred.\n\n#### read(channel, callback)\nReads the value of a channel.\n* channel: Reference to the pin in the current mode's schema.\n* callback: Provides Error as the first argument if an error occured, otherwise the pin value boolean as the second argument.\n\n#### write(channel, value [, callback])\nWrites the value of a channel.\n* channel: Reference to the pin in the current mode's schema.\n* value: Boolean value to specify whether the channel will turn on or off.\n* callback: Provides Error as the first argument if an error occured.\n\n#### setMode(mode)\nSets the channel addressing schema.\n* mode: Specify either Raspberry Pi or SoC/BCM pin schemas, by passing MODE_RPI or MODE_BCM. Defaults to MODE_RPI.\n\n#### input()\nAlias of read().\n\n#### output()\nAlias of write().\n\n#### destroy()\nTears down any previously set up channels. Should be run when your program stops, or needs to reset the state of the pins.\n\n#### reset()\nTears down the module state - used for testing.\n\n### Events\nSee Node [EventEmitter](http://nodejs.org/api/events.html) for documentation on listening to events.\n\n#### change\nEmitted when the value of a channel changed\n* channel\n* value\n\n## API (Promises)\n\nThis API exposes a Promises interface to the module. All of the same functions are available, but do not take callbacks and instead return a Promise.\n\nThe Promises interface is available in the `promise` namespace, e.g.:\n\n```js\nvar gpiop = require('rpi-gpio').promise;\n\ngpiop.setup(7, gpiop.DIR_OUT)\n    .then(() => {\n        return gpiop.write(7, true)\n    })\n    .catch((err) => {\n        console.log('Error: ', err.toString())\n    })\n```\n\n\n## Examples\n\nSee the `examples` directory included in this project.\n\nPlease note that all examples are intended to be directly runnable from the code repository, so they always require the module in at the top using `var gpio = require(../rpi-gpio)`. In reality, you will want to include the module using `var gpio = require('rpi-gpio')`\n\n## Contributing\nContributions are always appreciated, whether that's in the form of bug reports, pull requests or helping to diagnose bugs and help other users on the issues page.\n\nDue to the nature of this project it can be quite time-consuming to test against real hardware, so the automated test suite is all the more important. I will not accept any pull requests that cause the build to fail, and probably will not accept any that do not have corresponding test coverage.\n\nYou can run the tests with npm:\n```\nnpm test\n```\nand create a coverage report with:\n```\nnpm run coverage\n```\nThere is also an integration test that you can run on Raspberry Pi hardware, having connected two GPIO pins across a resistor. The command to run the test will provide further instructions on how to set up the hardware:\n```\nnpm run int\n```\n\nThe tests use [mochajs](http://mochajs.org) as the test framework, and [Sinon.JS](http://sinonjs.org) to stub and mock out file system calls.\n"