b'[![Coverage Status](https://coveralls.io/repos/github/ggravlingen/pytradfri/badge.svg?branch=master)](https://coveralls.io/github/ggravlingen/pytradfri?branch=master)\n[![PyPI version](https://badge.fury.io/py/pytradfri.svg)](https://badge.fury.io/py/pytradfri)\n[![Reviewed by Hound](https://img.shields.io/badge/Reviewed_by-Hound-8E64B0.svg)](https://houndci.com)\n\nPython package to communicate with the [IKEA Tr\xc3\xa5dfri](http://www.ikea.com/us/en/catalog/products/00337813/) (Tradfri) ZigBee Gateway compatible with ZigBee Light Link products. By using this library you can communicate with the gateway and control IKEA\'s lights and wall plugs.\n\nSome of the features include:\n\n- Get information on the gateway\n- Observe lights, groups and other resources and get notified when they change\n- Control wall plugs\n- List all devices connected to gateway\n- List all lights and get attributes of lights (name, state, color temp, dimmer level etc)\n- Change attribute values of lights (name, state, color temp, dimmer level etc)\n- Restart and reset the gateway\n- List smart tasks (wake up, on/off and not home) and their attributes\n- Alter values in smart tasks (some of these features not available in app yet)\n\nTable of contents:\n\n1. [Installation](#installation)\n2. [Verified Device Compatibility](#verified-device-compatibility)\n3. [Stand-alone use (command-line interface)](#stand-alone-use-command-line-interface)\n4. [Implement in your own Python platform](#implement-in-your-own-python-platform)\n5. [Docker support](#docker-support)\n6. [Known issues] (#known-issues)\n7. [Acknowledgements](#acknowledgements)\n\n## Installation\nYou might have to use superuser privileges (sudo) for some commands to work when installing.\n\nTo use the library in a synchronous application, you first need to install [libcoap](https://github.com/obgm/libcoap) using [this script](script/install-coap-client.sh). Use [examples/example_sync.py](https://github.com/ggravlingen/pytradfri/blob/master/examples/example_sync.py) when testing this.\n\nFor asynchronous applications you will need to install `pytradfri[async]`, for instance using the requirements file: ```shell pip install pytradfri[async]```. Please note that install might take considerable time on slow devices. Use [examples/example_async.py](https://github.com/ggravlingen/pytradfri/blob/master/examples/example_async.py) when testing this.\n\nSecurity best practice is to ***not*** store the security code that is printed on the gateway permanently in your application. Please always use the PSK when communicating with the gateway.\n\n## Verified Device Compatibility\n\n|Device|Version|\n|---|---|\n|IKEA Gateway (E1526)|1.8.25|\n|TRADFRI bulb E14 WS opal 400lm|1.2.217|\n|TRADFRI bulb E27 WS opal 980lm|1.2.217|\n|TRADFRI bulb E27 W opal 1000lm|1.2.214|\n|TRADFRI remote control|1.2.214|\n|TRADFRI motion sensor|1.2.214|\n|TRADFRI wall plug|2.0.022|\n\n## Stand-alone use (command-line interface)\n![Screenshot of command line interface](./docs/pytradfri_cli.png)\n\nIf you want to test this library stand-alone in a command-line interface:\n\n```shell\n$ python3 -i -m pytradfri IP\n```\nWhere **IP** is substituted by the IP-address to your gateway.\n\nThe first time running pytradfri you will be asked to input the \'Security Code\' found on the back of your IKEA gateway.\n\n### Examples of commands in the stand-alone prompt:\n\nList all lights:\n\n```python\nlights\n```\n\nSet the brightness of item 1 to 50 in lights list:\n\n```python\napi(lights[1].light_control.set_dimmer(50))\n```\n\nObserve a light for changes:\n\n```python\ndef change_listener(device):\n  print(device.name + " is now " + str(device.light_control.lights[0].state))\n\napi(lights[0].observe(change_listener))\n```\n\n## Implement in your own Python platform\n\nPlease see the example files.\n\n## Docker support\n\nThere is a Docker script available to bootstrap a dev environment. Run `./script/dev_docker` and you will build and launch a container that is ready to go for both sync and async. After launching, follow the above instructions to test the library stand-alone.\n\nThe working directory of the Docker image is `/usr/src/app`. The checked out version of this repo is added there and installed as a Python dependency for easy development and testing. When you want to use the latest stable version from pip, you only have to change to another working directory.\n\n## Known issues\nWe are aware of issues some users face with their gateways. Anecdotal evicence suggests sending many requests (spamming) the gateway, or an unreliable network connection can be the culprit. As a first solution, try to limit the number of requests, and move the Gateway closer to the device running pytradfri on the nework. Other than that, there is unfortunately not anything this project can do to support or resolve these issues at this time. As this progresses, we will ensure the project is kept up-to-date.\n\n## Acknowledgements\n\nThis is an implementation based on analysis [I](https://github.com/ggravlingen/) found [here](https://bitsex.net/software/2017/coap-endpoints-on-ikea-tradfri/) by [vidarlo](https://bitsex.net/).\n\nPaulus Schoutsen ([@balloob](https://github.com/balloob)) made a working Python library of the initial code concept. Lewis Juggins ([@lwis](https://github.com/lwis)) added support for asyncio and improved management of dependencies and consistency around return types. Many others have [contributed](https://github.com/ggravlingen/pytradfri/graphs/contributors) too.\n'