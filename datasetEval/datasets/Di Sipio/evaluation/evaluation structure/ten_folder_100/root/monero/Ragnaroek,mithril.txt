b'[![Build Status](https://travis-ci.org/Ragnaroek/mithril.svg?branch=master)](https://travis-ci.org/Ragnaroek/mithril)\n[![codecov](https://codecov.io/gh/Ragnaroek/mithril/branch/master/graph/badge.svg)](https://codecov.io/gh/Ragnaroek/mithril)\n\n[![Donate](https://img.shields.io/badge/Donate-PayPal-green.svg)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=A24SWQT3P5DY2&source=url)\n\n# Mithril\n\n**Mithril v0.10.0 is Cryptonight v8 ready.**\n\nRust Monero Miner (pure Rust is the goal, but the project is not there yet, see help wanted section)\n\n## Unique Selling Points\n\naka: Why you should consider using Mithril.\n\n- Auto-Tuning: Finds the optimal setup for your hardware itself with a bandit algorithm\n- Easy to compile: inherited from the great rust toolchain\n- cross platform: should run on every (x86) platform supported by Rust\n- [Fast: should be as fast as the C-implementations] (I want to say that, but I currently cannot prove it)\n\n## Roadmap\n\nFeature Backlog:\n- [\xc2\xa0] hard-fork v8 update!\n- [ ] integrate GPU Mining  (AMD)\n- [ ] WebAssembler Support\n- [ ] Better displaying of Hash-Rate\n\nFuture Feature Backlog\n\n- [ ] ARM support (Raspberry, Pine64)\n- [ ] integrate GPU Mining (NVIDIA)\n- [ ] Skein, JH native Rust implementation\n\nDONE:\n- [x] hard-fork v7 update\n- [x] auto-optimisation via bandit algorithms\n- [x] optimise cryptonight hashing function\n- [x] implement software AES (current work)\n- [x] measure hash performance\n- [x] implement stratum protocol (for pooled mining support)\n- [x] implement cryptonight hashing function\n\n## Current Status (2019-01-05)\n\nI am currently working on the hard-fork v8 update.\n\nNext feature implemented will be the support for AMD GPU mining (the projects wants to be a All-In-One Miner after all).\n\n# HowTo Compile, Configure and Run\n\nYou need the Rust nightly version to compile Mithril, since it uses inline assembler which is only available\nin the nightly version of Rust. The nightly version is best installed with [rustup](https://www.rustup.rs/).\nOnce you have the nightly version installed, type `cargo build --release` for an optimised binary.\nThe binary can be found in the `target/release/` folder.\n\nMithril expects a `config.toml` in the working directory. Copy the `default_config.toml` as `config.toml` to the Mithril\nworking directory. You need at least configure your Monero address in the `[pool]` section for the reward and the `num_threads` depending on your machine (a good start is to use 2x number of your cores on your machine).\n\nIf you get a `wrong instruction set` kind of error you can try to disable hardware AES with the `has_aes` flag in the\n`[hardware]` section.\n\nIf you find any issues, please report them here: [Mithril Issues](https://github.com/Ragnaroek/mithril/issues)\n\n## Auto-Tuning\n\n### Configuration\n\nAuto-Tuning is enabled by default in Mithril. You can disable and configure auto-tuning in the config.toml:\n\n```toml\n[worker]\nnum_threads = 8\nauto_tune = true\nauto_tune_interval_minutes = 15\nauto_tune_log = "./bandit.log"\n```\n\nIf you set `auto_tune` to `false`, Mithril will honour your `num_threads` and will use the number of threads configured\nthere. The other options are only relevant if you set `auto_tune` to `true`. The config `auto_tune_interval_minutes` controls, how often a new bandit arm will be drawn and a new thread count setup will be tried. I suggest picking a longer interval, to average-out some spikes on loads on the machine the miner is running on.\n\nYou can enable detailed logging by setting a path to a file in `auto_tune_log`. Each step in the bandit algorithm\nwill be logged there. You can evaluate the performance of the bandit algorithm on your machine with the Bandit-Tools that have been created for exactly this purpose. You find them here: [Bandit-Tools](https://github.com/Ragnaroek/bandit-tools).\n\nThe current state of the bandit algorithm will always be saved to `~/.mithril/bandit_state.json`.\nYou can stop the miner and on the next startup it will continue the arm evaluation on the point were it stopped last.\n\n## Evaluation\n\nAs mentioned you can use the [Bandit-Tools Web-App](https://ragnaroek.github.io/bandit-tools/) to evaluate\nthe evaluation/exploitation phases of the bandit algorithm. You can upload the `bandit_state.json` and `bandit.log`\nfile and get a visualisation of the information present in these two files.\n\nIf you want to share publicly your log and state files, please open a pull request on the bandit_data branch of this project. Discussing results should be done on Reddit: [Reddit Post](https://www.reddit.com/r/MoneroMining/comments/8vp873/mithril_miner_and_autotuning_with_a/).\n\n## Hash-Rate Logging\n\nMithril has basic support for logging the hash rate of the miner (in order to tune it). Hash-Rate Logging has to be\nenabled in the `[metric]` section and is disabled in the default configuration:\n\n```toml\nenabled = false\nresolution = 100 #determines how often a hash result is reported\nsample_interval_seconds = 60\nreport_file = "/path/to/hash/report/file.csv"\n```\nThe most important configuration option is `report_file`. You can configure an absolute path to a csv file where the hash rate is logged. Each `sample_interval_seconds` a new line with `<unix-timestamp>;<#hashes since last sample>` is appended to this file. You can calculate the average hash rate (for a given time interval) from this file with external tools (e.g. Google Drive).\n\nThe `resolution` option determines how often a hash count is measured internally. Every `resolution` hashes the result is published to a metric sub-thread in the program. Setting this to a low value will increase the overhead for measuring.\n\n## Supported Platforms\nMithril was tested on this Platform/architecture combinations so far:\n- macOS 10.13/x64\n- Windows/x64\n- Linux\n  - CentOS 7 64bit\n\nPlease notify me, if you tested mithril on one other platform and it is running stable.\n\nARM support (Raspberry, Pine64) is a short term goal I am working on.\n\n# Help Wanted\n\nThe goal of this project is to build a `pure` Rust monero miner implementation. Currently the\nSkein and JH hash functions are used as FFI C-Bindings, because there is not Rust implementation available (or I have not found any). A pure Skein or JH Rust implentation would be very welcomed. Notify me if you did implement one of these hashing\nfunctions and I will gladly use them in mithril!\n\n# Support\n\nIf you want to donate directly to support further development, this is my Monero donation address:\n```\n48y3RCT5SzSS4jumHm9rRL91eWWzd6xcVGSCF1KUZGWYJ6npqwFxHee4xkLLNUqY4NjiswdJhxFALeRqzncHoToeJMg2bhL\n```\n\nor support the project on Beerpay:\n\n[![Beerpay](https://beerpay.io/Ragnaroek/mithril/badge.svg?style=beer-square)](https://beerpay.io/Ragnaroek/mithril)  [![Beerpay](https://beerpay.io/Ragnaroek/mithril/make-wish.svg?style=flat-square)](https://beerpay.io/Ragnaroek/mithril?focus=wish)\n\nor Paypal:\n\n[![Donate](https://img.shields.io/badge/Donate-PayPal-green.svg)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=A24SWQT3P5DY2&source=url)\n'