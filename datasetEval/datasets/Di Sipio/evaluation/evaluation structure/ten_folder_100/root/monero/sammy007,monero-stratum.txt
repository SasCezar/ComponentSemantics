b'# monero-stratum\n\nHigh performance CryptoNote mining stratum with Web-interface written in Golang.\n\n[![Go Report Card](https://goreportcard.com/badge/github.com/sammy007/monero-stratum)](https://goreportcard.com/report/github.com/sammy007/monero-stratum)\n[![CircleCI](https://circleci.com/gh/sammy007/monero-stratum.svg?style=svg)](https://circleci.com/gh/sammy007/monero-stratum)\n\n**Stratum feature list:**\n\n* Be your own pool\n* Rigs availability monitoring\n* Keep track of accepts, rejects, blocks stats\n* Easy detection of sick rigs\n* Daemon failover list\n* Concurrent shares processing\n* Beautiful Web-interface\n\n![](screenshot.png)\n\n## Installation\n\nDependencies:\n\n  * go-1.6\n  * Everything required to build Monero\n  * Monero >= **v0.14.0.0** (sometimes `master` branch required)\n\n### Linux\n\nUse Ubuntu 16.04 LTS.\n\nCompile Monero source (with shared libraries option):\n\n    apt-get install git cmake build-essential libssl-dev pkg-config libboost-all-dev\n    git clone --recursive https://github.com/monero-project/monero.git\n    cd monero\n    git checkout tags/v0.14.0.0 -b v0.14.0.0\n    cmake -DBUILD_SHARED_LIBS=1 .\n    make\n\nInstall Golang and required packages:\n\n    sudo apt-get install golang\n\nClone stratum:\n\n    git clone https://github.com/sammy007/monero-stratum.git\n    cd monero-stratum\n\nBuild stratum:\n\n    MONERO_DIR=/path/to/monero cmake .\n    make\n\n`MONERO_DIR=/path/to/monero` is optional, not needed if both `monero` and `monero-stratum` is in the same directory like `/opt/src/`. By default make will search for monero libraries in `../monero`. You can just run `cmake .`.\n\n### Mac OS X\n\nCompile Monero source:\n\n    git clone --recursive https://github.com/monero-project/monero.git\n    cd monero\n    git checkout tags/v0.14.0.0 -b v0.14.0.0\n    cmake .\n    make\n\nInstall Golang and required packages:\n\n    brew update && brew install go\n\nClone stratum:\n\n    git clone https://github.com/sammy007/monero-stratum.git\n    cd monero-stratum\n\nBuild stratum:\n\n    MONERO_DIR=/path/to/monero cmake .\n    make\n\n### Running Stratum\n\n    ./build/bin/monero-stratum config.json\n\nIf you need to bind to privileged ports and don\'t want to run from `root`:\n\n    sudo apt-get install libcap2-bin\n    sudo setcap \'cap_net_bind_service=+ep\' /path/to/monero-stratum\n\n## Configuration\n\nConfiguration is self-describing, just copy *config.example.json* to *config.json* and run stratum with path to config file as 1st argument.\n\n```javascript\n{\n  // Address for block rewards\n  "address": "YOUR-ADDRESS-NOT-EXCHANGE",\n  // Don\'t validate address\n  "bypassAddressValidation": true,\n  // Don\'t validate shares\n  "bypassShareValidation": true,\n\n  "threads": 2,\n\n  "estimationWindow": "15m",\n  "luckWindow": "24h",\n  "largeLuckWindow": "72h",\n\n  // Interval to poll daemon for new jobs\n  "blockRefreshInterval": "1s",\n\n  "stratum": {\n    // Socket timeout\n    "timeout": "15m",\n\n    "listen": [\n      {\n        "host": "0.0.0.0",\n        "port": 1111,\n        "diff": 5000,\n        "maxConn": 32768\n      },\n      {\n        "host": "0.0.0.0",\n        "port": 3333,\n        "diff": 10000,\n        "maxConn": 32768\n      }\n    ]\n  },\n\n  "frontend": {\n    "enabled": true,\n    "listen": "0.0.0.0:8082",\n    "login": "admin",\n    "password": "",\n    "hideIP": false\n  },\n\n  "upstreamCheckInterval": "5s",\n\n  "upstream": [\n    {\n      "name": "Main",\n      "host": "127.0.0.1",\n      "port": 18081,\n      "timeout": "10s"\n    }\n  ]\n}\n```\n\nYou must use `anything.WorkerID` as username in your miner. Either disable address validation or use `<address>.WorkerID` as username. If there is no workerID specified your rig stats will be merged under `0` worker. If mining software contains dev fee rounds its stats will usually appear under `0` worker. This stratum acts like your own pool, the only exception is that you will get rewarded only after block found, shares only used for stats.\n\n### Donations\n\n**XMR**: `47v4BWeUPFrM9YkYRYk2pkS9CubAPEc7BJjNjg4FvF66Y2oVrTAaBjDZhmFzAXgqCNRvBH2gupQ2gNag2FkP983ZMptvUWG`\n\n![](https://cdn.pbrd.co/images/GP5tI1D.png)\n\nHighly appreciated.\n\n### License\n\nReleased under the GNU General Public License v2.\n\nhttp://www.gnu.org/licenses/gpl-2.0.html\n'