b'[![Build Status](https://img.shields.io/travis/lebab/lebab.svg)](https://travis-ci.org/lebab/lebab)\n[![Coverage Status](https://img.shields.io/codecov/c/github/lebab/lebab/master.svg)](https://codecov.io/github/lebab/lebab)\n[![Dependencies](https://img.shields.io/librariesio/github/lebab/lebab.svg)](https://libraries.io/npm/lebab)\n[![License](https://img.shields.io/:license-mit-brightgreen.svg)](https://mohebifar.mit-license.org)\n[![Version](https://img.shields.io/npm/v/lebab.svg)](https://www.npmjs.com/package/lebab)\n\n# Lebab\n\n![Lebab](https://raw.githubusercontent.com/mohebifar/lebab-logo/master/logo.png)\n\n**Lebab** transpiles your ES5 code to ES6/ES7.\nIt does exactly the opposite of what [Babel](https://babeljs.io/) does.\nIf you want to understand what Lebab exactly does, **[try the live demo](https://uniibu.github.io/lebab-ce/).**\n\n\n## Install\n\nInstall it using npm:\n\n```bash\n$ npm install -g lebab\n```\n\nFull build:\n\n- [latest Browserified version of Lebab](https://wzrd.in/standalone/lebab@latest)\n- [the same, using cdn.rawgit](https://umdfied.herokuapp.com/umdfied/lebab/latest)\n\n## Usage\n\nConvert your old-fashioned code using the `lebab` cli tool,\nenabling a specific transformation:\n\n```bash\n$ lebab es5.js -o es6.js --transform let\n```\n\nOr transform an entire directory of files in-place:\n\n```bash\n# .js files only\n$ lebab --replace src/js/ --transform arrow\n# For other file extensions, use explicit globbing\n$ lebab --replace \'src/js/**/*.jsx\' --transform arrow\n```\n\nFor all the possible values for `--transform` option\nsee the detailed docs below or use `--help` from command line.\n\n\n## Features and known limitations\n\nThe recommended way of using Lebab is to apply one transform at a time,\nread what exactly the transform does and what are its limitations,\napply it for your code and inspect the diff carefully.\n\n### Safe transforms\n\nThese transforms can be applied with relatively high confidence.\nThey use pretty straight-forward and strict rules for changing the code.\nThe resulting code should be almost 100% equivalent of the original code.\n\n- [x] **arrow** - callbacks to arrow functions\n    - [x] Converts bound functions like `function(){}.bind(this)`\n    - [x] not applied to unbound functions that use `this`\n    - [x] not applied to functions that use `arguments`\n    - [x] not applied to object properties (use `obj-method` transform)\n    - [ ] does not remove `that = this` assignments\n- [x] **arrow-return** - drop return statements in arrow functions\n    - [x] converts immediate return `{ return x; }` to `=> x`\n    - [x] applies to arrow functions and nested arrow functions\n    - [ ] LIMITATION only applies to arrow functions (run the `arrow` transform first)\n- [x] **for-of** - for loop to for-of loop\n    - [x] uses name `item` for loop variable when loop body begins with `var item = array[i];`\n    - [ ] [does not work when no such alias defined at the start of loop body][166]\n    - [ ] LIMITATION requires let/const variables (run the `let` transform first)\n- [x] **for-each** - for loop to `Array.forEach()`\n    - [x] uses name `item` for forEach parameter when loop body begins with `var item = array[i];`\n    - [ ] [does not work when no such alias defined at the start of loop body][166]\n    - [x] adds index parameter when loop body makes use of the index variable.\n    - [ ] LIMITATION requires let/const variables (run the `let` transform first)\n- [x] **arg-rest** - use of arguments to function(...args)\n    - [x] does not perform the transform when `args` variable already exists\n    - [ ] always names the rest-parameter to `args`\n    - [ ] LIMITATION [does not transform functions with formal parameters][191]\n    - [ ] LIMITATION [does not remove uses of `Array.slice.call(arguments)`][191]\n- [x] **arg-spread** - use of apply() to spread operator\n    - [x] recognizes `obj.method.apply(obj, args)`\n    - [x] recognizes `func.apply(undefined, args)`\n- [x] **obj-method** - function values in object to methods\n    - [ ] LIMITATION [does not convert named function expressions][127]\n    - [ ] does not convert arrow-functions\n- [x] **obj-shorthand** - `{foo: foo}` to `{foo}`\n    - [x] ignores numeric and `NaN` properties\n    - [ ] does not convert string properties\n- [x] **no-strict** - removal of `"use strict"` directives\n    - [x] does not touch stuff like `x = "use strict";`\n- [x] **exponent** - `Math.pow()` to `**` operator (**ES7**)\n    - [x] Full support for all new syntax from ES7\n- [x] **multi-var** - single `var x,y;` declaration to multiple `var x; var y;` (**refactor**)\n    - [x] Not related to any new syntax feature\n    - [x] EXPERIMENT [to see if Lebab could be a more generic refactoring helper][158]\n\n### Unsafe transforms\n\nThese transforms should be applied with caution.\nThey either use heuristics which can\'t guarantee that the resulting code is equivalent of the original code,\nor they have significant bugs which can result in breaking your code.\n\n- [x] **let** - `var` to `let`/`const`\n    - [x] never modified variables are converted to `const`\n    - [x] properly recognizes block-scoping\n    - [x] splits single var declaration to multiple `let`/`const` declarations if needed\n    - [x] recognizes vars defined/assigned using destructuring\n    - [x] vars that conflict with block-scoping are not converted\n    - [x] repeated declarations of the same var are not converted\n    - [x] existing `let`/`const` are not converted\n    - [ ] BUG [fails with repeated variable definitions that use destructuring][131]\n    - [ ] BUG [fails with closure over a loop variable][145]\n    - [ ] BUG [fails when function closes over variable declared after function is called][168]\n- [x] **class** - function/prototypes to classes\n    - [x] recognizes `Foo.prototype.method = function(){ ... };`\n    - [x] recognizes `Foo.prototype = { ...methods... };`\n    - [x] recognizes static methods like `Foo.method = function(){ ... };`\n    - [x] recognizes getters/setters defined with `Object.defineProperty()`\n    - [x] recognizes inheritance with `Child.prototype = new Parent()`\n    - [x] recognizes inheritance with `util.inherits(Child, Parent);`\n    - [x] converts superclass constructor calls to `super()`\n    - [x] converts superclass method calls to `super.method()`\n    - [ ] LIMITATION [does not require super() call in subclass constructor][186]\n    - [ ] LIMITATION [does not enforce super() call position in subclass constructor][186]\n    - [ ] LIMITATION [does not support namespaced classes][113]\n- [x] **commonjs** - CommonJS module definition to ES6 modules\n    - [x] converts `var foo = require("foo")` to `import foo from "foo"`\n    - [x] converts `var bar = require("foo").bar` to `import {bar} from "foo"`\n    - [x] converts `var {bar} = require("foo")` to `import {bar} from "foo"`\n    - [x] converts `module.exports = <anything>` to `export default <anything>`\n    - [x] converts `exports.foo = function(){}` to `export function foo(){}`\n    - [x] converts `exports.Foo = class {}` to `export class Foo {}`\n    - [x] converts `exports.foo = 123` to `export var foo = 123`\n    - [x] converts `exports.foo = bar` to `export {bar as foo}`\n    - [ ] LIMITATION does not check if named export conflicts with existing variable names\n    - [ ] LIMITATION Ignores imports/exports inside nested blocks/functions\n    - [ ] LIMITATION only handles `require()` calls in `var` declarations\n    - [ ] LIMITATION does not ensure that imported variable is treated as `const`\n    - [ ] LIMITATION [does not ensure named exports are imported with correct ES6 syntax][215]\n- [x] **template** - string concatenation to template strings\n    - [x] converts variables and arbitrary expressions to `${...}`\n    - [ ] BUG [removes indentation of multi-line strings][88]\n    - [ ] LIMITATION [ignores difference between `.toString()` and `.valueOf()`][107]\n- [x] **default-param** - default parameters instead of `a = a || 2`\n    - [x] recognizes `a = a || 2`\n    - [x] recognizes `a = a ? a : 2`\n    - [x] recognizes `a = a === undefined ? 2 : a`\n    - [x] recognizes `a = typeof a === \'undefined\' ? 2 : a`\n    - [ ] LIMITATION [transforming `a = a || 2` does not produce strictly equivalent code][125]\n- [x] **destruct-param** - use destructuring for objects in function parameters\n    - [x] converts `(obj) => obj.a + obj.b` to `({a, b}) => a + b`\n    - [x] does not transform when conflicts with existing variables\n    - [x] does not transform when object properties are modified\n    - [ ] LIMITATION Only objects with maximum of 4 properties are transformed\n    - [ ] BUG [Can conflict with variables introduced by the transform itself][200]\n- [x] **includes** - `array.indexOf(foo) !== -1` to `array.includes(foo)` (**ES7**)\n    - [x] works for both strings and arrays\n    - [x] converts `!== -1` to `array.includes(foo)`\n    - [x] converts `=== -1` to `!array.includes(foo)`\n    - [x] recognizes all kinds of comparisons `>= 0`, `> -1`, etc\n    - [x] recognizes both `indexOf() != -1` and `-1 != indexOf()`\n    - [ ] LIMITATION does not detect that indexOf() is called on an actual Array or String.\n\n\n## Programming API\n\nSimply import and call the `transform()` function:\n\n```js\nimport {transform} from \'lebab\';\nconst {code, warnings} = transform(\n  \'var f = function(a) { return a; };\', // code to transform\n  [\'let\', \'arrow\', \'arrow-return\'] // transforms to apply\n);\nconsole.log(code); // -> "const f = a => a;"\n```\n\nThe warnings will be an array of objects like:\n\n```js\n[\n  {line: 12, msg: \'Unable to transform var\', type: \'let\'},\n  {line: 45, msg: \'Can not use arguments in arrow function\', type: \'arrow\'},\n]\n```\n\nMost of the time there won\'t be any warnings and the array will be empty.\n\n\n## Editor plugins\n\nAlternatively one can use Lebab through plugins in the following editors:\n\n- Atom: [atom-lebab](https://github.com/ga2mer/atom-lebab)\n- Sublime: [lebab-sublime](https://github.com/inkless/lebab-sublime) or [Lebab ES6 Transform](https://packagecontrol.io/packages/Lebab%20ES6%20Transform)\n- VSCode: [vscode-lebab](https://marketplace.visualstudio.com/items?itemName=mrmlnc.vscode-lebab)\n\n\n## What\'s next?\n\nWhich feature should Lebab implement next?\nLet us know by [creating an issue](https://github.com/mohebifar/lebab/issues)\nor voicing your opinion in existing one.\n\nWant to contribute?  [Read how Lebab looks for patterns in syntax trees.][pattern-matching]\n\n[pattern-matching]: http://nene.github.io/2016/04/02/matches-ast\n[88]: https://github.com/lebab/lebab/issues/88\n[107]: https://github.com/lebab/lebab/issues/107\n[113]: https://github.com/lebab/lebab/issues/113\n[125]: https://github.com/lebab/lebab/issues/125\n[127]: https://github.com/lebab/lebab/issues/127\n[131]: https://github.com/lebab/lebab/issues/131\n[145]: https://github.com/lebab/lebab/issues/145\n[158]: https://github.com/lebab/lebab/issues/158\n[166]: https://github.com/lebab/lebab/issues/166\n[168]: https://github.com/lebab/lebab/issues/168\n[186]: https://github.com/lebab/lebab/issues/186\n[191]: https://github.com/lebab/lebab/issues/191\n[200]: https://github.com/lebab/lebab/issues/200\n[215]: https://github.com/lebab/lebab/issues/215\n'