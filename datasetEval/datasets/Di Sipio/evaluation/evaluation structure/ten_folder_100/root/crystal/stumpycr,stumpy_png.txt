b'# stumpy_png\n[![Build Status](https://travis-ci.org/stumpycr/stumpy_png.svg?branch=master)](https://travis-ci.org/stumpycr/stumpy_png)\n\n[Documentation](https://docs.leonrische.me/stumpy_png/)\n\n## Interface\n\n* `StumpyPNG.read(path : String) : Canvas` read a PNG image file from a path\n* `StumpyPNG.read(io : IO) : Canvas` read a PNG image file from any IO object\n* `StumpyPNG.write(canvas, path : String, bit_depth: 16, color_type: :rgb_alpha)` save a canvas as a PNG image file\n* `StumpyPNG.write(canvas, io : IO, bit_depth: 16, color_type: :rgb_alpha)` write a canvas as PNG data to any IO object\n  * `bit_depth` is optional, valid values are `8` and `16`(default)\n  * `color_type` is optional, valid values are `:grayscale`, `:grayscale_alpha`, `:rgb` and `:rgb_alpha`(default)\n* `StumpyPNG::PNG`, helper class to store some state while parsing PNG files\n* `Canvas` and `RGBA` from [stumpy_core](https://github.com/stumpycr/stumpy_core)\n\n## Usage\n\n### Install the `stumpy_png` shard\n\n1. `shards init`\n2. Add the dependency to the `shard.yml` file\n ``` yaml\n ...\n dependencies:\n   stumpy_png:\n     github: stumpycr/stumpy_png\n     version: "~> 4.5"\n ...\n ```\n3. `shards install`\n\n### Reading\n\n``` crystal\nrequire "stumpy_png"\n\ncanvas = StumpyPNG.read("foo.png")\nr, g, b = canvas[0, 0].to_rgb8\nputs "red=#{r}, green=#{g}, blue=#{b}"\n```\n\n### Writing\n\n``` crystal\nrequire "stumpy_png"\ninclude StumpyPNG\n\ncanvas = Canvas.new(256, 256)\n\n(0..255).each do |x|\n  (0..255).each do |y|\n    # RGBA.from_rgb_n(values, bit_depth) is an internal helper method\n    # that creates an RGBA object from a rgb triplet with a given bit depth\n    color = RGBA.from_rgb_n(x, y, 255, 8)\n    canvas[x, y] = color\n  end\nend\n\nStumpyPNG.write(canvas, "rainbow.png")\n```\n\n![PNG image with a color gradient](examples/rainbow.png)\n\n(See `examples/` for more examples)\n\n## Reading PNG files\n\n### Color Types\n\n- [x] Grayscale\n- [x] Grayscale + Alpha\n- [x] RGB\n- [x] RGB + Alpha\n- [x] Palette\n\n### Filter Types\n\n- [x] None\n- [x] Sub\n- [x] Up\n- [x] Average\n- [x] Paeth\n\n### Interlacing Methods\n\n- [x] None\n- [x] Adam7\n\n### Ancillary Chunks\n\nNone are supported right now.\n\n## Writing\n\n* RGB with 8 or 16 bits\n* RGB + Alpha with 8 or 16 bits\n* Grayscale with 8 or 16 bits\n* Grayscale + Alpha with 8 or 16 bits\n\n## Troubleshooting\n\nIf you run into errors like\n\n```bash\n/usr/bin/ld: cannot find -lz\ncollect2: error: ld returned 1 exit status\n```\n\nmake sure `zlib` is installed\n([Installing zlib under ubuntu](https://ubuntuforums.org/showthread.php?t=1528204)).\n\n## Contributors\n\nThanks goes to these wonderful people ([emoji key](https://github.com/kentcdodds/all-contributors#emoji-key)):\n\n<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->\n<!-- prettier-ignore -->\n| [<img src="https://avatars.githubusercontent.com/u/2788811?v=3" width="100px;"/><br /><sub><b>Chris Hobbs</b></sub>](https://github.com/rx14)<br />[\xf0\x9f\x92\xbb](https://github.com/l3kn/stumpy_png/commits?author=RX14 "Code") | [<img src="https://avatars.githubusercontent.com/u/209371?v=3" width="100px;"/><br /><sub><b>Ary Borenszweig</b></sub>](https://github.com/asterite)<br />[\xf0\x9f\x92\xbb](https://github.com/l3kn/stumpy_png/commits?author=asterite "Code") | [<img src="https://avatars.githubusercontent.com/u/90345?v=3" width="100px;"/><br /><sub><b>Alex Muscar</b></sub>](https://github.com/muscar)<br />[\xf0\x9f\x92\xbb](https://github.com/l3kn/stumpy_png/commits?author=muscar "Code") | [<img src="https://avatars2.githubusercontent.com/u/18718?v=4" width="100px;"/><br /><sub><b>Dru Jensen</b></sub>](https://github.com/drujensen)<br />[\xf0\x9f\x92\xbb](https://github.com/l3kn/stumpy_png/commits?author=drujensen "Code") | [<img src="https://avatars3.githubusercontent.com/u/5798442?v=4" width="100px;"/><br /><sub><b>kojix2</b></sub>](https://github.com/kojix2)<br />[\xf0\x9f\x93\x96](https://github.com/l3kn/stumpy_png/commits?author=kojix2 "Documentation") | [<img src="https://avatars0.githubusercontent.com/u/4363779?v=4" width="100px;"/><br /><sub><b>obskyr</b></sub>](http://obskyr.io/)<br />[\xf0\x9f\x92\xbb](https://github.com/l3kn/stumpy_png/commits?author=obskyr "Code") | [<img src="https://avatars3.githubusercontent.com/u/35064754?v=4" width="100px;"/><br /><sub><b>r00ster</b></sub>](https://github.com/r00ster91)<br />[\xf0\x9f\x92\xbb](https://github.com/l3kn/stumpy_png/commits?author=r00ster91 "Code") |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n<!-- ALL-CONTRIBUTORS-LIST:END -->\n\nThis project follows the [all-contributors](https://github.com/kentcdodds/all-contributors) specification. Contributions of any kind welcome!\n'