b'<a href="https://www.ramotion.com/agency/app-development?utm_source=gthb&utm_medium=repo&utm_campaign=expanding-collection-android"><img src="https://github.com/Ramotion/folding-cell/blob/master/header.png"></a>\n\n<a href="https://github.com/Ramotion/expanding-collection-android">\n<img align="left" src="https://github.com/Ramotion/expanding-collection-android/blob/master/preview.gif" width="480" height="360" /></a>\n\n<p><h1 align="left">EXPANDING COLLECTION</h1></p>\n\n<h4>ExpandingCollection is a material design card peek/pop controller</h4>\n\n\n___\n\n\n<p><h6>We specialize in the designing and coding of custom UI for Mobile Apps and Websites.</h6>\n<a href="https://www.ramotion.com/agency/app-development?utm_source=gthb&utm_medium=repo&utm_campaign=expanding-collection-android">\n<img src="https://github.com/ramotion/gliding-collection/raw/master/contact_our_team@2x.png" width="187" height="34"></a>\n</p>\n<p><h6>Stay tuned for the latest updates:</h6>\n<a href="https://goo.gl/rPFpid" >\n<img src="https://i.imgur.com/ziSqeSo.png/" width="156" height="28"></a></p>\n\n</br>\n\n[![Twitter](https://img.shields.io/badge/Twitter-@Ramotion-blue.svg?style=flat)](http://twitter.com/Ramotion)\n[![Donate](https://img.shields.io/badge/Donate-PayPal-blue.svg)](https://paypal.me/Ramotion)\n\n# Check this library on other platforms:\n\n\n## Requirements\n\xe2\x80\x8b\n- Android 4.0 IceCreamSandwich (API lvl 14) or greater\n- Your favorite IDE\n\n## Installation\n\xe2\x80\x8b\nmaven repo:\n\nGradle:\n```groovy\n\'com.ramotion.expandingcollection:expanding-collection:0.9.2\'\n```\nSBT:\n```scala\nlibraryDependencies += "com.ramotion.expandingcollection" % "expanding-collection" % "0.9.2"\n```\nMaven:\n```xml\n<dependency>\n\t<groupId>com.ramotion.expandingcollection</groupId>\n\t<artifactId>expanding-collection</artifactId>\n\t<version>0.9.2</version>\n</dependency>\n```\n\n## Basic usage\n \xe2\x80\x8b\n1. Add a background switcher element `ECBackgroundSwitcherView` and a main pager element `ECPagerView` to your layout. `ECPagerView` should always have `match_parent` width and `wrap_content` height. You can adjust the vertical position yourself using **alignment/gravity** or **top margin**. `ECBackgroundSwitcherView` is the dynamic background switcher, so you probably want it to be as big as its parent.\n\n```xml\n<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent">\n    \n    <com.ramotion.expandingcollection.ECBackgroundSwitcherView\n        android:id="@+id/ec_bg_switcher_element"\n        android:layout_width="match_parent"\n        android:layout_height="match_parent" />\n        \n    <com.ramotion.expandingcollection.ECPagerView\n        android:id="@+id/ec_pager_element"\n        android:layout_width="match_parent"\n        android:layout_height="wrap_content"\n        android:layout_centerInParent="true"/>\n        \n</RelativeLayout>\n```\n\n2. Tune `ECPagerView`: setup size of card in collapsed state and height of header in expanded state.  \n\n```xml\n<com.ramotion.expandingcollection.ECPagerView xmlns:ec="http://schemas.android.com/apk/res-auto"\n    android:id="@+id/ec_pager_element"\n    android:layout_width="match_parent"\n    android:layout_height="wrap_content"\n    android:layout_centerInParent="true"\n    ec:cardHeaderHeightExpanded="150dp"\n    ec:cardHeight="200dp"\n    ec:cardWidth="250dp" />\n```\n\n3. Expanded card contains two parts: a header part with a background (initially visible when card is collapsed) and a ListView element as content (visible only when card is expanded), so you need an xml layout for the list items.\n\n```xml\n<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"\n    android:layout_width="match_parent"\n    android:layout_height="wrap_content">\n    \n    <TextView xmlns:android="http://schemas.android.com/apk/res/android"\n        android:id="@+id/list_item_text"\n        android:layout_width="match_parent"\n        android:layout_height="100dp"\n        android:layout_gravity="center_vertical|center_horizontal"\n        android:background="@color/colorPrimary"\n        android:textAlignment="center" />\n        \n</FrameLayout>\n```\n\n4. Also, you need to implement a custom list adapter for the list items by extending the parametrized `com.ramotion.expandingcollection.ECCardContentListItemAdapter.java` class,  where `T` is type of datasource object for list items inside the card. In the example below, `T` is just a string object. It\'s a pretty straightforward implementation with a common view holder pattern. \n\n```java\npublic class CardListItemAdapter extends ECCardContentListItemAdapter<String> {\n\n    public CardListItemAdapter(@NonNull Context context, @NonNull List<String> objects) {\n        super(context, R.layout.list_item, objects);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        ViewHolder viewHolder;\n        View rowView = convertView;\n\n        if (rowView == null) {\n            LayoutInflater inflater = LayoutInflater.from(getContext());\n            rowView = inflater.inflate(R.layout.list_item, null);\n            viewHolder = new ViewHolder();\n            viewHolder.itemText = (TextView) rowView.findViewById(R.id.list_item_text);\n            rowView.setTag(viewHolder);\n        } else {\n            viewHolder = (ViewHolder) rowView.getTag();\n        }\n\n        String item = getItem(position);\n        if (item != null) {\n            viewHolder.itemText.setText(item);\n        }\n        return rowView;\n    }\n\n    static class ViewHolder {\n        TextView itemText;\n    }\n\n}\n```\n5. Your data class must implement the `com.ramotion.expandingcollection.ECCardData.java` interface where `T` is type of datasource object for list items inside the card.\n\n```java\npublic class CardDataImpl implements ECCardData<String> {\n\n    private String cardTitle;\n    private Integer mainBackgroundResource;\n    private Integer headBackgroundResource;\n    private List<String> listItems;\n\n    @Override\n    public Integer getMainBackgroundResource() {\n        return mainBackgroundResource;\n    }\n\n    @Override\n    public Integer getHeadBackgroundResource() {\n        return headBackgroundResource;\n    }\n\n    @Override\n    public List<String> getListItems() {\n        return listItems;\n    }\n}\n```\n\n6. Almost done! The last thing we need to do is provide our dataset to a pager element through a pager adapter. It\'s just an implementation of the abstract class `com.ramotion.expandingcollection.ECPagerViewAdapter.java` with one abstract method, so it can be easily implemented inside your activity.  \n\n```java\npublic class MainActivity extends Activity {\n\n   private ECPagerView ecPagerView;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n\n       // Get pager from layout\n       ecPagerView = (ECPagerView) findViewById(R.id.ec_pager_element);\n\n       // Generate example dataset\n       List<ECCardData> dataset = CardDataImpl.generateExampleData();\n\n       // Implement pager adapter and attach it to pager view\n       ecPagerView.setPagerViewAdapter(new ECPagerViewAdapter(getApplicationContext(), dataset) {\n           @Override\n           public void instantiateCard(LayoutInflater inflaterService, ViewGroup head, ListView list, ECCardData data) {\n               // Data object for current card\n               CardDataImpl cardData = (CardDataImpl) data;\n\n               // Set adapter and items to current card content list\n               list.setAdapter(new CardListItemAdapter(getApplicationContext(), cardData.getListItems()));\n               // Also some visual tuning can be done here\n               list.setBackgroundColor(Color.WHITE);\n\n               // Here we can create elements for head view or inflate layout from xml using inflater service\n               TextView cardTitle = new TextView(getApplicationContext());\n               cardTitle.setText(cardData.getCardTitle());\n               cardTitle.setTextSize(COMPLEX_UNIT_DIP, 20);\n               FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(FrameLayout.LayoutParams.WRAP_CONTENT, FrameLayout.LayoutParams.WRAP_CONTENT);\n               layoutParams.gravity = Gravity.CENTER;\n               head.addView(cardTitle, layoutParams);\n\n               // Card toggling by click on head element\n               head.setOnClickListener(new View.OnClickListener() {\n                   @Override\n                   public void onClick(final View v) {\n                       ecPagerView.toggle();\n                   }\n               });\n           }\n       });\n\n       // Add background switcher to pager view\n       ecPagerView.setBackgroundSwitcherView((ECBackgroundSwitcherView) findViewById(R.id.ec_bg_switcher_element));\n\n   }\n\n   // Card collapse on back pressed\n   @Override\n   public void onBackPressed() {\n       if (!ecPagerView.collapse())\n           super.onBackPressed();\n   }\n\n}\n```\n\nYou can find this and other, more complex, examples in this repository \xe2\x80\x8b\n\n<br>\n\n## \xf0\x9f\x97\x82 Check this library on other language:\n<a href="https://github.com/Ramotion/expanding-collection"> \n<img src="https://github.com/ramotion/navigation-stack/raw/master/Swift@2x.png" width="178" height="81"></a>\n\n## \xf0\x9f\x93\x84 License\n\nExpanding Collection Android is released under the MIT license.\nSee [LICENSE](./LICENSE) for details.\n\nThis library is a part of a <a href="https://github.com/Ramotion/android-ui-animation-components-and-libraries"><b>selection of our best UI open-source projects</b></a>\n\nIf you use the open-source library in your project, please make sure to credit and backlink to www.ramotion.com\n\n## \xf0\x9f\x93\xb1 Get the Showroom App for Android to give it a try\nTry this UI component and more like this in our Android app. Contact us if interested.\n\n<a href="https://play.google.com/store/apps/details?id=com.ramotion.showroom" >\n<img src="https://raw.githubusercontent.com/Ramotion/react-native-circle-menu/master/google_play@2x.png" width="104" height="34"></a>\n\n<a href="https://www.ramotion.com/agency/app-development?utm_source=gthb&utm_medium=repo&utm_campaign=expanding-collection-android">\n<img src="https://github.com/ramotion/gliding-collection/raw/master/contact_our_team@2x.png" width="187" height="34"></a>\n'