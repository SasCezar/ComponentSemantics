b'# About OctBlog\n\n[![Join the chat at https://gitter.im/flyhigher139/OctBlog](https://badges.gitter.im/flyhigher139/OctBlog.svg)](https://gitter.im/flyhigher139/OctBlog?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n[![](https://images.microbadger.com/badges/image/gevin/octblog.svg)](http://microbadger.com/images/gevin/octblog "Get your own image badge on microbadger.com") [![](https://images.microbadger.com/badges/version/gevin/octblog.svg)](http://microbadger.com/images/gevin/octblog "Get your own version badge on microbadger.com") [![Build Status](https://travis-ci.org/flyhigher139/OctBlog.svg?branch=master)](https://travis-ci.org/flyhigher139/OctBlog)\n\n[OctBlog](https://github.com/flyhigher139/OctBlog) is almost the same with [MayBlog](https://github.com/flyhigher139/MayBlog) except that it is powered by [Flask](http://flask.pocoo.org/) and [MongoDB](https://www.mongodb.org/) rather than [Django](https://www.djangoproject.com/) and SQL Databases.\n\nAnd as my customary, I named it OctBlog as OctBlog was started in October, 2015\n\nOctBlog offers every function in MayBlog, and aims to do it better, its features are as follow:\n\n- Multiple user\n- OctBlog roles: su, admin, editor, writer, reader\n- Blog features: posts, pages, tags, and categories\n- Markdown support\n- Admin interface\n- Change configurations by configuration file or environment variable\n- Multiple comment plugin\n- User defined widgets\n- Deploy with docker\n- Sort posts by weight\n\n## Demo\n\n[Gevin\'s Blog](https://blog.igevin.info/) is powered by OctBlog\n\n## Explanation\n\nThe weight is used to order articles, and if you want to hidden an article from the article list, weight is also qualified:\n\nThe default weight for each article is 10, if a article\'s weight is heavier than 10, it will be firstly displayed, and if the weight is negative, the article will be never displayed in the article list\n\n## Dependency\n\n### Backend\n\n- Flask\n    - flask-script\n    - flask-login\n    - flask-admin\n    - Flask-WTF\n    - flask-principal\n    - flask_mongoengine\n- WTForms\n- mongoengine\n- markdown2\n- bleach\n\n### Frontend\n\n- jQuery\n- BootStrap\n    - [Clean Blog theme](http://startbootstrap.com/template-overviews/clean-blog/)\n    - bootbox.js\n    - bootstrap-markdown.js\n    - bootstrap-datetimepicker.js\n- Font Awesome\n- highlight.js\n\n## How to run OctBlog ?\n\n### Run from source code\n\nIf you want to see more about the source code, checkout the [source code readme](app)\n\n\n### Run by docker(recommended)\n\nRun OctBlog by docker is recommended, here are some instruction\xef\xbc\x9a\n\n#### First Run\n\n1\\. Get your OctBlog image\n\nIn command line, switch to OctBlog root directory, and run the following command to build your own OctBlog image:\n\n```bash\ncd app\n(sudo) docker build -t gevin/octblog:0.1 .\n\n# Now you can take a cup of coffee and wait for a few minutes :)\n```\n\nAlternatively, pull Octblog image from DockerHub(**recommended**):\n\n```bash\n(sudo) docker pull gevin/octblog:0.1\n```\n\n2\\. Create your `docker-compose.yml`\n\nYou need to create a docker-compose file similar to the `docker-compose_no_swarm.yml` file\n\nReplace ```/Users/gevin/projects/data/mongodb```  with a path on your machine\n\n\n\n3\\. Run OctBlog\n\n```bash\n(sudo) docker-compose up -d\n```\n\nThen you can visit OctBlog in your brower at `http://localhost`\n\nAll environment variables can be found in `/OctBlog/config.py`\n\nA `.env` file example:\n\n```\nDEBUG=false\nconfig=prd\nMONGO_HOST=mongo\nallow_registration=true\nallow_su_creation=true\n\nname=Gevin\'s Blog\nsubtitle=\xe6\x8a\x80\xe6\x9c\xaf\xe3\x80\x81\xe7\x94\x9f\xe6\xb4\xbb\xe9\x83\xbd\xe8\xa6\x81\xe6\x8a\x98\xe8\x85\xbe\ndescription=\xe6\x8a\x80\xe6\x9c\xaf\xe3\x80\x81\xe7\x94\x9f\xe6\xb4\xbb\xe9\x83\xbd\xe8\xa6\x81\xe6\x8a\x98\xe8\x85\xbe\n\nwechat_name=GevinView @ <i class="fa fa-weixin" aria-hidden="true"></i>\nwechat_subtitle=\xe6\x8a\x80\xe6\x9c\xaf\xe3\x80\x81\xe7\x94\x9f\xe6\xb4\xbb\xe9\x83\xbd\xe8\xa6\x81\xe6\x8a\x98\xe8\x85\xbe\n\ncopyright_msg=\xe6\xb3\xa8\xef\xbc\x9a\xe8\xbd\xac\xe8\xbd\xbd\xe6\x9c\xac\xe6\x96\x87\xef\xbc\x8c\xe8\xaf\xb7\xe4\xb8\x8eGevin\xe8\x81\x94\xe7\xb3\xbb\ndonation_msg=\xe5\xa6\x82\xe6\x9e\x9c\xe6\x82\xa8\xe8\xa7\x89\xe5\xbe\x97Gevin\xe7\x9a\x84\xe6\x96\x87\xe7\xab\xa0\xe6\x9c\x89\xe4\xbb\xb7\xe5\x80\xbc\xef\xbc\x8c\xe5\xb0\xb1\xe8\xaf\xb7Gevin\xe5\x96\x9d\xe6\x9d\xaf\xe8\x8c\xb6\xe5\x90\xa7\xef\xbc\x81\nwechat_msg=\xe6\xac\xa2\xe8\xbf\x8e\xe5\x85\xb3\xe6\xb3\xa8\xe6\x88\x91\xe7\x9a\x84\xe5\xbe\xae\xe4\xbf\xa1\xe5\x85\xac\xe4\xbc\x97\xe8\xb4\xa6\xe5\x8f\xb7\n\ngoogle_site_verification=\nallow_comment=true\n\n\nallow_daovoice=true\ndaovoice_app_id=\n```\n\n3\\. Get into OctBlog container\n\nMaybe you would like to dig into the container, the following command will help:\n\n```bash\n# Specify OctBlog container ID, eg:12345678\n(sudo) docker ps\n\n# Get into OctBlog container\n(sudo) docker exec -it 12345678 bash\n\n```\n\n#### After first run\n\n- Start OctBlog\n\n```bash\n(sudo) docker-compose start\n```\n\n- Stop OctBlog\n\n```bash\n(sudo) docker-compose stop\n```\n\n### Run by docker with swarm mode\n\n#### Preparation\n\nIf you want to use docker swarm mode, you need to activate this mode first:\n\n```\ndocker swarm init\n```\n\nThis command activates your docker swarm mode and make it as a swarm manager\n\nThen you can join other swarm node to this manager with `docker swarm join`\n\n#### Run OctBlog\n\nYou need to create a docker-compose file similar to the `docker-compose.yml` file.\n\nThen, start your application:\n\n```\ndocker stack deploy -c docker-compose.yml octblog\n```\n\nreview your application:\n\n```\ndocker stack ps octblog\n```\n\nremove your application:\n\n```\ndocker stack rm octblog\n```\n\nYou can refer to [Docker Documentation](https://docs.docker.com/) for more docker swarm usages.\n\n### Get started with OctBlog\n\n#### 1\\. Create a superuser to administrate OctBlog\n\nVisit the following url and create a superuser\n\n`http://localhost:8000/accounts/registration/su`\n\nIf the url is forbidden, you need to modify your configurations to allow the creation.\n\n#### 2\\. Administrate OctBlog\n\nThe admin home is: `http://localhost:8000/admin`\n\nYou will be redirected to login page if you haven\'t logged in\n\n#### 3\\. Modify the default configurations\n\nYou either change settings in `app/OctBlog/config.py` file, or set environment variables defined in that file.\n\n**Setting environment variables is recommended, and once the configuration is changed, you need to restart the service.**\n\n\n\n## License\n\nOctBlog is under [GPL2](https://github.com/flyhigher139/OctBlog/blob/dev/LICENSE)\n\n## What\'s more\n\nIf you find a bug or want to add a new feature, just issue me.\n\nWant to contribute? Please fork OctBlog and pull request to me.\n\nI\'m not good at frontend development, so I used a free bootstrap blog theme. If you can redesign the blog theme and admin interface, I\'ll appriciate your work very much!\n'