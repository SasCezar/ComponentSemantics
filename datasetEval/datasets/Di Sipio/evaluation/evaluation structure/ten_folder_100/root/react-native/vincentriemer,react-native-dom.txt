b'# React Native DOM &middot; [![CircleCI](https://circleci.com/gh/vincentriemer/react-native-dom.svg?style=shield&circle-token=96448c580730a065cb93c0a10af0f85f6c954166)](https://circleci.com/gh/vincentriemer/react-native-dom) [![npm version](https://badge.fury.io/js/react-native-dom.svg)](https://badge.fury.io/js/react-native-dom) [![lerna](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)](https://lernajs.io/) [![All Contributors](https://img.shields.io/badge/all_contributors-9-orange.svg)](#contributors)\n\nAn experimental, comprehensive port of React Native to the web.\n\n- **Multithreaded by default:** Following the exact same architecture as React\n  Native on mobile, all of your react components/app logic are run in web\n  worker, leaving the main thread to entirely focus on rendering.\n- **Same layout behavior as React Native on mobile:** Powered by custom bindings\n  to Yoga and compiled to WebAssembly, avoid layout inconsistencies between\n  your native and web projects.\n- **Built with the same bundler used for existing React Native platforms:**\n  Build both the "native" main and JS threads with the Metro Bundler along with\n  all the developer experience features it provides.\n- **Ecosystem compatible escape hatch to the DOM:** Using the same native module\n  bridge, expose DOM-specific APIs in a more generic way that can easily be made\n  into a cross-platform module.\n\nTo see it in action, check out these live demos:\n\n- [Movies Demo](https://rndom-movie-demo.now.sh)\n- [RNTester (component playground used for manual testing)](https://rntester.now.sh)\n- [Expanding Grid Item Demo](https://github.com/vincentriemer/rndom-expanding-grid-item-demo)\n\n---\n\n## Why?\n\nFor the best introduction to this project, check out\n[my talk at React Europe 2018](https://youtu.be/aOWIJ4Mgb2k) introducing it.\n\n---\n\n## **WARNING**\n\nThis project is still highly experimental and many aspects of it are subject to\nbreaking changes, continue at your own risk.\n\n---\n\n## Getting Started\n\nGetting your React Native project configured to use `react-native-dom` is a lot\nlike the process for other 3rd party platforms such as `react-native-windows`.\n\nIf you\'re starting a new project from scratch: ensure you have the react-native\nCLI installed globally.\n\n```\nnpm install -g react-native-cli\n# or\nyarn global add react-native-cli\n```\n\nNext, initialize your React Native project.\n\n```\nreact-native init [project name]\n```\n\nThen, `cd` into your project and install `rnpm-plugin-dom` into your\n`devDependencies`, after which you can initialize your React Native DOM\nscaffolding with the `react-native dom` command.\n\n```\nnpm install --save-dev rnpm-plugin-dom\n# or\nyarn add --dev rnpm-plugin-dom\n\n# Add DOM support to your React Native project\nreact-native dom\n```\n\nTo run your initialized project in your browser, you can either:\n\n- Start the packager yourself using `react-native start` and navigate open your\n  browser to `localhost:8081/dom`\n- Leverage the built-in rnpm command `react-native run-dom` which will start the\n  packager and open the browser to the correct URL for you\n\n**NOTE:** After setting up the DOM platform you may need to run\n`react-native start` with the `--reset-cache` flag at least once if you recieve\nan error message like `Unable to resolve module AccessibilityInfo`.\n\n### Overview of files generated by the RNPM plugin\n\n- `dom/bootstrap.js` - Entry point to the main thread bundle where you can set\n  runtime configuration options, register custom native modules, or any other JS\n  initialization you would like to do.\n- `dom/entry.js` - Entry point to the JS thread bundle, will likely only be\n  importing your App\'s entry point from the top-level folder of your project.\n- `dom/index.html` - HTML file which is what references and loads the JS\n  bundles.\n- (conditionally) `rn-cli.config.js` - Depending on if the project already has\n  one, the rnpm plugin will either create it with the proper configuration\n  options to support the DOM platform or will simply add the necessary entries\n  to your existing one.\n\n---\n\n## React Developer Tools\n\nYou can use\n[the standalone version of React Developer Tools](https://github.com/facebook/react-devtools/tree/master/packages/react-devtools)\nto debug the React component hierarchy. To use it, install the react-devtools\npackage globally:\n\n```\nnpm install -g react-devtools\n```\n\nNow run react-devtools from the terminal to launch the standalone DevTools app:\n\n```\nreact-devtools\n```\n\nIn order to activate the connection with the devtools app add \'?devtools\' to the\nend of your development url (e.g. localhost:8081/dom?devtools)\n\n## Building for Production\n\nA built-in script for performing a production build is still in the backlog but\nhere is a manual script which does so (assuming the same directory structure\nthat gets generated from the rnpm plugin).\n\n```shell\n# Ensure development-speecific code is stripped from the bundle\nexport NODE_ENV=production\n\n# Make the dist directory, or the build command below will fail.\nmkdir -p ./dom/dist\n\n# Build the main thread bundle\nreact-native bundle \\\n  --config $(pwd)/rn-cli.config.js \\\n  --dev false \\\n  --platform dom \\\n  --entry-file ./dom/bootstrap.js \\\n  --assets-dest ./dom/dist \\\n  --bundle-output ./dom/dist/bootstrap.bundle\n\n# Build the JS thread bundle\nreact-native bundle \\\n  --config $(pwd)/rn-cli.config.js \\\n  --dev false \\\n  --entry-file ./dom/entry.js \\\n  --platform dom \\\n  --bundle-output ./dom/dist/entry.bundle \\\n  --assets-dest ./dom/dist\n\n# Copy the index.html file to the build destination\ncp dom/index.html dom/dist/index.html\n```\n\nThe resulting folder in `dom/dist` will contain static HTML & JS ready to be\ndeployed to your provider of choice.\n\n---\n\n## Writing Native Modules/Views\n\n### _Work In Progress_\n\nThe API for this is going to be overhauled soon with accompanying documentation.\nIf you want to see what it currently looks like take a look at some of the built\nin native modules such as\n[AsyncLocalStorage](../master/packages/react-native-dom/ReactDom/modules/RCTAsyncLocalStorage.js)\n\n---\n\n## Repository Structure\n\nThis project is a lerna-managed monorepo with all the projects living in the\n`packages` folder.\n\n### Package Overview\n\n- `react-native-dom` - The library itself (this is most likely the package\n  you\'re interested in).\n- `rnpm-plugin-dom` - RNPM plugin primarily used for bootstrapping DOM support\n  into a React Native project.\n- `rndom-*` - Custom web components (built with\n  [svelte](https://svelte.technology)) used for some of the built-in\n  widgets/views in `react-native-dom`.\n\nOne noticeable omission to the list of packages is the custom build of Yoga\nwhich can be found in\n[this separate repo](https://github.com/vincentriemer/yoga-dom). `yoga-dom` is\nnot included in this monorepo due to requiring a significantly different build\nenvironment than this repo\'s entirely JS codebase.\n\n---\n\n### Running RNTester/Examples\n\nTo run the examples located in the `react-native-dom` source, run the following\ncommands from the root of the monorepo:\n\n```sh\n# be sure to update the git submodules to pull the RNTester code\ngit submodule update --init\n\n# install dependencies\nyarn && yarn compile\n\n# start the react-native packager\nyarn run-examples\n```\n\nThen navigate to `localhost:8081/Examples` and choose which example you would\nlike to see.\n\nA live deployment of the RNTester project (used primarily for manually testing\nchanges) can be found at [rntester.now.sh](https://rntester.now.sh)\n\n## Contributors\n\nThanks goes to these wonderful people\n([emoji key](https://github.com/kentcdodds/all-contributors#emoji-key)):\n\n<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->\n<!-- prettier-ignore -->\n| [<img src="https://avatars2.githubusercontent.com/u/1398555?v=4" width="100px;"/><br /><sub><b>Vincent Riemer</b></sub>](http://vincentriemer.com)<br />[\xf0\x9f\x92\xbb](https://github.com/vincentriemer/react-native-dom/commits?author=vincentriemer "Code") [\xf0\x9f\x90\x9b](https://github.com/vincentriemer/react-native-dom/issues?q=author%3Avincentriemer "Bug reports") [\xf0\x9f\x93\x96](https://github.com/vincentriemer/react-native-dom/commits?author=vincentriemer "Documentation") [\xf0\x9f\x92\xa1](#example-vincentriemer "Examples") [\xf0\x9f\xa4\x94](#ideas-vincentriemer "Ideas, Planning, & Feedback") [\xf0\x9f\x9a\x87](#infra-vincentriemer "Infrastructure (Hosting, Build-Tools, etc)") [\xf0\x9f\x93\xa6](#platform-vincentriemer "Packaging/porting to new platform") [\xf0\x9f\x93\xa2](#talk-vincentriemer "Talks") | [<img src="https://avatars0.githubusercontent.com/u/8888799?v=4" width="100px;"/><br /><sub><b>Joe Goodall</b></sub>](https://uk.linkedin.com/in/joegoodall)<br />[\xf0\x9f\x93\x96](https://github.com/vincentriemer/react-native-dom/commits?author=joegoodall1 "Documentation") | [<img src="https://avatars3.githubusercontent.com/u/31624379?v=4" width="100px;"/><br /><sub><b>Fran\xc3\xa7ois Rosato</b></sub>](https://github.com/frosato-ekino)<br />[\xf0\x9f\x93\x96](https://github.com/vincentriemer/react-native-dom/commits?author=frosato-ekino "Documentation") | [<img src="https://avatars2.githubusercontent.com/u/2246565?v=4" width="100px;"/><br /><sub><b>Moti Zilberman</b></sub>](https://github.com/motiz88)<br />[\xf0\x9f\x92\xbb](https://github.com/vincentriemer/react-native-dom/commits?author=motiz88 "Code") [\xf0\x9f\x93\x96](https://github.com/vincentriemer/react-native-dom/commits?author=motiz88 "Documentation") | [<img src="https://avatars2.githubusercontent.com/u/983071?v=4" width="100px;"/><br /><sub><b>thebetterjort</b></sub>](https://github.com/thebetterjort)<br />[\xf0\x9f\x93\x96](https://github.com/vincentriemer/react-native-dom/commits?author=thebetterjort "Documentation") | [<img src="https://avatars0.githubusercontent.com/u/3089012?v=4" width="100px;"/><br /><sub><b>Bilo Lwabona</b></sub>](https://github.com/bilo-io)<br />[\xf0\x9f\x93\x96](https://github.com/vincentriemer/react-native-dom/commits?author=bilo-io "Documentation") | [<img src="https://avatars2.githubusercontent.com/u/40002855?v=4" width="100px;"/><br /><sub><b>Madhav Varshney</b></sub>](https://github.com/madhavarshney)<br />[\xf0\x9f\x93\x96](https://github.com/vincentriemer/react-native-dom/commits?author=madhavarshney "Documentation") |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| [<img src="https://avatars0.githubusercontent.com/u/1106239?v=4" width="100px;"/><br /><sub><b>Eric Rozell</b></sub>](https://github.com/rozele)<br />[\xf0\x9f\x92\xbb](https://github.com/vincentriemer/react-native-dom/commits?author=rozele "Code") | [<img src="https://avatars0.githubusercontent.com/u/2847127?v=4" width="100px;"/><br /><sub><b>empyrical</b></sub>](https://twitter.com/empyrical)<br />[\xf0\x9f\x92\xbb](https://github.com/vincentriemer/react-native-dom/commits?author=empyrical "Code") |\n\n<!-- ALL-CONTRIBUTORS-LIST:END -->\n\nThis project follows the\n[all-contributors](https://github.com/kentcdodds/all-contributors)\nspecification. Contributions of any kind welcome!\n'