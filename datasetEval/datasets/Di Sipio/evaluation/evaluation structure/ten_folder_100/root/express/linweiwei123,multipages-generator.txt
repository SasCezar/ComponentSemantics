b'English | [\xe4\xb8\xad\xe6\x96\x87](./README-zh.md)\n\nmultipages-generator [![NPM version](https://badge.fury.io/js/multipages-generator.png)](http://badge.fury.io/js/multipages-generator)\n======\n\n[![NPM](https://nodei.co/npm/multipages-generator.png?downloads=true&stars=true)](https://nodei.co/npm/multipages-generator)\n\nmultipages-generator is a multiple pages application generator (or CLI) for mobile. It has the whole DevOps which includes development, build, publish and the deployment. It is One-stop solution for mobile H5.\n\n## Scene\nMultipages-generator suite for multipages website whatever is mobile website or PC website, H5 in hybird app. For example: [this](http://www.ih5.cn/not-logged-in/template), [chiji game](https://uedkit.meiyou.com/annualmeeting/game/).\n\n## Feature\n1. One-stop mobile MPA solution with modern web technologys like Nodejs, webpack4, babel, Vue with server side rendering. \n2. Efficient commands like new, develop,build,upload,analysis,deploy.\n3. Best practices for architechure and organization.\n4. \xf0\x9f\x94\xa5 (new) Support Vue SSR and no framework or any other framework you like.\n5. Support development,producton ENV.\n6. Support sass\xe3\x80\x81less\xe3\x80\x81postcss\n7. Hot code reload for CSS and JS\n8. Support upload to Ali OSS and Qiniu OSS\n9. Support mobile adaptation with [taobao flexible layout solution](https://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html)\xef\xbc\x8cfit different screen size and DPI.\n10. Support pm2 deployment\n\n\n## Document\n* [Global install](#global-install)\n* [Create a project](#create-a-project)\n* [Commands](#commands)\n* [Create a new module](#create-a-new-module)\n* [Develop a module](#develop-a-module)\n* [Build a module](#build-a-module)\n* [Upload](#upload)\n    * [Qiniu OSS](#qiniu-oss)\n    * [Ali OSS](#ali-oss)\n* [Config](#config)\n* [TodoList](#TodoList)\n\n## Global install \xe2\x9a\x99\xef\xb8\x8f\n\n### Envirment requirement\n\nNodeJS: >= 6.11.0\n\nOS: MacOS,windows,centos\n\n### install\n\n```bash\nnpm install multipages-generator -g  //now the latest is 1.6.x\n```\n\n## Create a project \xf0\x9f\x93\xbd\n\n### init a project\n```bash\nmeet init\n```\n\n### Choose a template:\n- No JavaScript framework (You can add your framework like jQuery\xef\xbc\x8czepto\xef\xbc\x8cvue\xef\xbc\x8creact and so on.)\n- Vue width SSR (It\'s add SSR default for now)\n```bash\n? Select your JavaScript framework (Use arrow keys)\n\xe2\x9d\xaf No JavaScript framework \n  Vue width SSR \n```\n\n### start \nWhen initialized, install the dependencis and start the demo\n```bash\nC:\\xxx\\workspace>meet init\n? Project name: h5-project\n  __  __           _      ____ _     ___\n |  \\/  | ___  ___| |_   / ___| |   |_ _|\n | |\\/| |/ _ \\/ _ \\ __| | |   | |    | |\n | |  | |  __/  __/ |_  | |___| |___ | |\n |_|  |_|\\___|\\___|\\__|  \\____|_____|___|\n\n   [Success] Project h5-project init finished, be pleasure to use \xf0\x9f\x98\x8a!\n\n   Install dependencies:\n     cd h5-project && npm install\n\n   Run the app:\n     meet start demo\n   Or:\n     pm2 start process.json\n\n```\n\n## Commands\nUse meet -help to show all the commands.\n\n```bash\nC:\\xxx\\workspace>meet -help\n\n  Usage: meet [command]\n\n  Options:\n\n    -v, --version                 output the version number\n    -h, --help                    output usage information\n\n  Commands:\n\n    init                          initialize your project\n    new [module]/[module]-[page]  generate_native a new module\n    start [module]                start application in development mode\n    build [module]                build a module using webpack\n    upload                        upload dist files to CDN\n    analyse                       analysis dist files size and percent\n    git                           auto git commit and push\n\n```\n\n## Create a new module\n\nmeet new [module]/[module]-[page]\n\n### Description\nAttention, create a new module use like this\n```\nmeet new [module]\n```\nWhen you need to create a new page in the existed module, use this command:\n```\nmeet new [module]-[page]\n```\n\n### For a example, create a game H5(module)\n\n```bash\nmeet new game  // create a game with default page index.html\n```\nBecause it\'s so called multiple pages generator, so create another page use this:\n```\nmeet new game-detail // create the game detail.html in the game module\n```\n\nAnd you got a list files like this:\n```bash\ngame\n \xe2\x94\x9c\xe2\x94\x80images // this is no images, just a dictory\n \xe2\x94\x9c\xe2\x94\x80js\n | \xe2\x94\x9c\xe2\x94\x80index\n | | \xe2\x94\x9c\xe2\x94\x80business.js  // the business js(Expand as you wish)\n | | \xe2\x94\x9c\xe2\x94\x80service.js   // http service code\n | | \xe2\x94\x94\xe2\x94\x80util.js      // utils code\n | \xe2\x94\x94\xe2\x94\x80index.js       // the main js file\n \xe2\x94\x9c\xe2\x94\x80styles\n | \xe2\x94\x94\xe2\x94\x80index.css      // css code\n \xe2\x94\x94\xe2\x94\x80views\n   \xe2\x94\x94\xe2\x94\x80index.html     // html code\n```\n\n## Develop a module\n### meet start [module]\n\n```\nmeet start demo\n```\n\nIt started with this followed, you can choose a link to open in browser.\n```\n \xe2\x88\x9a Build done\n\n[Tips] visit: http://localhost:8080/demo/\n            : http://192.168.50.194:8080/demo/\n\n```\n\nAttention:\nVue CSR: http://localhost:8080/demo/?csr=true\nVue SSR: http://localhost:8080/demo/\n\n### Hot reload\n\nJS\xe3\x80\x81CSS support hot code reload\xef\xbc\x8cHTML changes need man to refresh the browser.\n\n![image](http://cnd.yintage.com/HRM.gif)\n\nHtml generated contain two marker, you don\'t need to worry about this. It\'s for better development and will removed when in build.\n\n```html\n<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n  <% include ../head.html %>\n  <title>demo</title>\n  <!--@hot-reload, will auto remove after compiled-->\n  <link rel="stylesheet" data-hr="hot-reload" href="/demo/styles/index.css">\n</head>\n<body>\n  <div>you content...</div>\n  <!--@hot-reload, will auto remove after compiled-->\n  <script type="text/javascript" data-hr="hot-reload" src="/common/js/hot-reload.js"></script>\n</body>\n</html>\n```\n\n## Build a module\n\n### meet build [demo]\n\n```bash\nmeet build demo\n```\n\n```bash\nC:xxx\\workspace\\h5>meet build demo\n\n> mg-template@1.0.0 build C:\\meetyou\\workspace\\test\\mg-workspace\\h5\n> cross-env NODE_ENV=production node build/commands/build.js "demo"\n\nDelete dist directory!\n  \xe2\xa3\xbe Building...\n  \xe2\xa3\xbd lasted 1 seconds. HTML\xe5\x8e\xbb\xe9\x99\xa4\xe5\xbc\x80\xe5\x8f\x91\xe7\x8e\xaf\xe5\xa2\x83hotReload\xe4\xbb\xa3\xe7\xa0\x81: ..\\server\\views\\prod\\demo\\index.html\nHash: 2a217fb45f03fb354254\nVersion: webpack 4.17.2\nTime: 1687ms\nBuilt at: 2018-09-06 19:50:40\n                               Asset      Size  Chunks             Chunk Names\n                  index.12969e6e.css  4.71 KiB       0  [emitted]  index\n                   index.080a1e3d.js  1.01 KiB       0  [emitted]  index\n..\\server\\views\\prod\\demo\\index.html  3.74 KiB          [emitted]\nEntrypoint index = index.12969e6e.css index.080a1e3d.js\n\nUpload dist files to Qiniu CDN\xef\xbc\x9a\nWebpack Bundle Analyzer is started at http://127.0.0.1:8888\nUse Ctrl+C to close it\n[Success]: \xe4\xb8\x8a\xe4\xbc\xa0\xe6\x96\x87\xe4\xbb\xb6\xe8\x87\xb3\xe4\xb8\x83\xe7\x89\x9b\xe4\xba\x91CDN\xe6\x88\x90\xe5\x8a\x9f\xef\xbc\x81\xe6\x96\x87\xe4\xbb\xb6\xe5\x9c\xb0\xe5\x9d\x80:http://cnd.yintage.com/index.080a1e3d.js\n[Success]: \xe4\xb8\x8a\xe4\xbc\xa0\xe6\x96\x87\xe4\xbb\xb6\xe8\x87\xb3\xe4\xb8\x83\xe7\x89\x9b\xe4\xba\x91CDN\xe6\x88\x90\xe5\x8a\x9f\xef\xbc\x81\xe6\x96\x87\xe4\xbb\xb6\xe5\x9c\xb0\xe5\x9d\x80:http://cnd.yintage.com/index.12969e6e.css\n[Success]: \xe4\xb8\x8a\xe4\xbc\xa0\xe5\xae\x8c\xe6\xaf\x95 \xf0\x9f\x98\x8a!\nUse Ctrl+C to close it\n\n```\nAfter analysis powerd by webpack plugin, the page will show the code proportion.\n\n![image](http://cnd.yintage.com/build.png)\n\n### meet analyse\n\nUse this command after builded.\n\n```\nmeet analyse\n```\n\n![image](http://cnd.yintage.com/chart.png)\n\n## Upload\n\n### meet upload\nUpload the files which in the dist dictory to OSS server. Config the Ali OSS or Qiniu OSS configs in mg.config.js.\n```bash\nmeet upload\n```\n\n## Config\n### mg.config.js\n\nmg.config.js is look like:\n\n```\nmodule.exports = {\n\n    // the client server (use for hot reload ) port\n    clientPort: \'8080\',\n\n    // the server(for deployment) port\n    server: {\n        port: \'8090\',\n    },\n\n    // upload config\n    upload: {\n        cdn: \'//oflt40zxf.bkt.clouddn.com/\',\n        projectPrefix: \'nodejs-common\',\n\n        // if use Ali OSS\xef\xbc\x8cset aliconfig a empty object, now it support Ali CLI for upload, \n        // aliconfig: {\n        //\n        // },\n       \n        // Qiniu OSS\n        qconfig: {\n            ACCESS_KEY: \'ei1uOdGpVLliA7kb50sLcV9i4wfYLPwt5v0shU10\',\n            SECRET_KEY: \'-pFFIY-ew35Exyfcd67Sbaw40k15ah3UfZTFWFKF\',\n            bucket:\'hotshots-image\',\n            origin:\'http://cnd.yintage.com\'\n        },\n\n        // is auto upload after build\n        autoUpload: true\n\n    }\n};\n\n```\n\n[Ali OSS upload](https://www.npmjs.com/package/meetyou-ali-oss)\n\n## Todo List\n1. Better Vue SSR solution\n2. Support react, react-ssr\n\n## deployment \n[deploy to server in 30 minutes](http://medium.yintage.com/?p=248)\n\n\n## License\n\nThe MIT License \n\n'