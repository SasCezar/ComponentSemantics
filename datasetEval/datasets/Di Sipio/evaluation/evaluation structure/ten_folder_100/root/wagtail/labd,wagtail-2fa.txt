b".. start-no-pypi\n\n.. image:: https://dev.azure.com/lab-digital-opensource/wagtail-2fa/_apis/build/status/labd.wagtail-2fa?branchName=master\n    :target: https://dev.azure.com/lab-digital-opensource/wagtail-2fa/_build/latest?definitionId=3&branchName=master\n\n.. image:: http://codecov.io/github/labd/wagtail-2fa/coverage.svg?branch=master\n    :target: http://codecov.io/github/labd/wagtail-2fa?branch=master\n\n.. image:: https://img.shields.io/pypi/v/wagtail-2fa.svg\n    :target: https://pypi.python.org/pypi/wagtail-2fa/\n\n.. image:: https://readthedocs.org/projects/wagtail-2fa/badge/?version=stable\n    :target: https://wagtail-2fa.readthedocs.io/en/stable/?badge=stable\n\n.. image:: https://img.shields.io/github/stars/labd/wagtail-2fa.svg?style=social&logo=github\n    :target: https://github.com/labd/wagtail-2fa/stargazers\n\n.. end-no-pypi\n\n===========\nwagtail-2fa\n===========\n\nThis Django app add's two factor authentication to Wagtail. Behind the scenes\nit use django-otp_ which supports Time-based One-Time Passwords (TOTP). This\nallows you to use various apps like Authy, Google Authenticator, or\n1Password.\n\n\n.. _django-otp: https://django-otp-official.readthedocs.io\n\n\nInstallation\n============\n\n.. code-block:: shell\n\n   pip install wagtail-2fa\n\n\nThen add the following lines to the ``INSTALLED_APPS`` list in your Django\nsettings:\n\n.. code-block:: python\n\n    INSTALLED_APPS = [\n        # ...\n        'wagtail_2fa',\n        'django_otp',\n        'django_otp.plugins.otp_totp',\n        # ...\n    ]\n\nMigrate your database:\n\n.. code-block:: shell\n\n   python manage.py migrate\n\nNext add the required middleware to the ``MIDDLEWARE``. It should come\nafter the AuthenticationMiddleware:\n\n.. code-block:: python\n\n    MIDDLEWARE = [\n        # .. other middleware\n        # 'django.contrib.auth.middleware.AuthenticationMiddleware',\n\n        'wagtail_2fa.middleware.VerifyUserMiddleware',\n\n        # 'wagtail.core.middleware.SiteMiddleware',\n        # .. other middleware\n    ]\n\n\nSettings\n========\n\nThe following settings are available (Set via your Django settings):\n\n    - ``WAGTAIL_2FA_REQUIRED`` (default ``False``): When set to True all\n      staff, superuser and other users with access to the Wagtail Admin site\n      are forced to login using two factor authentication.\n    - ``WAGTAIL_MOUNT_PATH`` (default: ``''``): The uWSGI mount point that\n      Wagtail is running at. Ex. ``/wagtail``\n    - ``WAGTAIL_2FA_OTP_TOTP_NAME`` (default: ``False``): The issuer name to\n      identify which site is which in your authenticator app. If not set and\n      ``WAGTAIL_SITE_NAME`` is defined it uses this. sets ``OTP_TOTP_ISSUER``\n      under the hood.\n\n\n\nSandbox\n=======\nFirst create a new virtualenv with Python 3.6.1 and activate it. Then run\nthe following commands:\n\n    - make sandbox\n\nYou can then visit http://localhost:8000/admin/ and login with the following\ncredentials:\n\n    - E-mail: superuser@example.com\n    - Password: testing\n"