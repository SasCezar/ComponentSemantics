b'.. image:: https://travis-ci.org/springload/wagtail-django-recaptcha.svg?branch=master\n   :target: https://travis-ci.org/springload/wagtail-django-recaptcha\n.. image:: https://img.shields.io/pypi/v/wagtail-django-recaptcha.svg\n   :target: https://pypi.python.org/pypi/wagtail-django-recaptcha\n.. image:: https://codeclimate.com/github/springload/wagtail-django-recaptcha/badges/gpa.svg\n   :target: https://codeclimate.com/github/springload/wagtail-django-recaptcha\n.. image:: https://coveralls.io/repos/github/springload/wagtail-django-recaptcha/badge.svg?branch=master\n   :target: https://coveralls.io/github/springload/wagtail-django-recaptcha?branch=master\n\nWagtail ReCaptcha\n=================\n\n    Wagtail forms with a ReCaptcha form field/widget integration app. Wagtail ReCaptcha provides an easy way to integrate the `django-recaptcha <https://github.com/praekelt/django-recaptcha>`_ field when using the Wagtail formbuilder.\n\nCheck out `Awesome Wagtail <https://github.com/springload/awesome-wagtail>`_ for more awesome packages and resources from the Wagtail community.\n\nInstallation\n------------\n\n#. Install wagtailcaptcha via pip ``pip install wagtail-django-recaptcha`` or add ``wagtailcaptcha`` to your Python path.\n\n#. Add ``wagtailcaptcha`` to your ``INSTALLED_APPS`` setting.\n\n#. Config django-recaptcha as explained in `here <https://github.com/praekelt/django-recaptcha>`_.\n\n\nUsage\n-----\n\nField\n~~~~~\n\nThe quickest way to add a captcha field to a Wagtail Form Page is to inherit from the two options provided, ``WagtailCaptchaForm`` or ``WagtailCaptchaEmailForm``. The first options inherits from ``AbstractForm`` while the seconds does it from ``AbstractEmailForm``. Either way your page is going to display a captcha field at the end of the form.\n\nExample\n\n.. code-block:: python\n\n    from wagtail.contrib.forms.models import AbstractFormField\n    from wagtail.admin.edit_handlers import FieldPanel, InlinePanel, MultiFieldPanel\n    from wagtail.core.fields import RichTextField\n    \n    # Or, if using Wagtail < 2.0\n    #from wagtail.wagtailforms.models import AbstractFormField\n    #from wagtail.wagtailadmin.edit_handlers import FieldPanel, InlinePanel, MultiFieldPanel\n    #from wagtail.wagtailcore.fields import RichTextField\n    \n    from modelcluster.fields import ParentalKey\n\n    from wagtailcaptcha.models import WagtailCaptchaEmailForm\n\n\n    class SubmitFormField(AbstractFormField):\n        page = ParentalKey(\'SubmitFormPage\', related_name=\'form_fields\')\n\n\n    class SubmitFormPage(WagtailCaptchaEmailForm):\n        body = RichTextField(blank=True, help_text=\'Edit the content you want to see before the form.\')\n        thank_you_text = RichTextField(blank=True, help_text=\'Set the message users will see after submitting the form.\')\n\n        class Meta:\n            verbose_name = "Form submission page"\n\n\n    SubmitFormPage.content_panels = [\n        FieldPanel(\'title\', classname="full title"),\n        FieldPanel(\'body\', classname="full"),\n        FieldPanel(\'thank_you_text\', classname="full"),\n        InlinePanel(\'form_fields\', label="Form fields"),\n        MultiFieldPanel([\n            FieldPanel(\'to_address\'),\n            FieldPanel(\'from_address\'),\n            FieldPanel(\'subject\'),\n        ], "Email notification")\n    ]\n\n\nThe captcha field can\'t be added from the admin UI but will appear in your frontend as the last of the form fields.\n\nIf you need to customise the behaviour of the form builder, make sure to inherit from ``wagtailcaptcha.forms.WagtailCaptchaFormBuilder`` instead of Wagtail\'s default form builder, then declare it as usual on the page model.\n\n.. code-block:: python\n\n    from wagtailcaptcha.forms import WagtailCaptchaFormBuilder\n    from wagtailcaptcha.models import WagtailCaptchaForm\n\n\n    class CustomFormBuilder(WagtailCaptchaFormBuilder):\n        # Some custom behaviour...\n\n\n    class FormPage(WagtailCaptchaForm):\n        form_builder = CustomFormBuilder\n        # The rest of the page definition as usual...\n\nFor a more thorough example, `Made with Wagtail <http://madewithwagtail.org/>`_ (`github.com/springload/madewithwagtail <https://github.com/springload/madewithwagtail>`_) is an example of an open-source site using this module.\n\nDevelopment\n-----------\n\nInstallation\n~~~~~~~~~~~~\n\n    Requirements: ``virtualenv``, ``pyenv``, ``twine``\n\n.. code:: sh\n\n    git clone git@github.com:springload/wagtail-django-recaptcha.git\n    cd wagtail-django-recaptcha/\n    virtualenv .venv\n    source ./.venv/bin/activate\n    make init\n\nCommands\n~~~~~~~~\n\nUse `make help` to get a list of commands.\n\nReleases\n~~~~~~~~\n\n*  Make a new branch for the release of the new version.\n*  Update the `CHANGELOG`_.\n*  Update the version number in ``wagtailcaptcha/__init__.py``, following semver.\n*  Make a PR and squash merge it.\n*  Back on ``master`` with the PR merged, use ``make publish`` (confirm, and enter your password).\n*  Finally, go to GitHub and create a release and a tag for the new version.\n*  Done!\n\n.. _Semantic Versioning: http://semver.org/spec/v2.0.0.html\n.. _changelog: https://github.com/springload/wagtail-django-recaptcha/blob/master/CHANGELOG.rst\n'