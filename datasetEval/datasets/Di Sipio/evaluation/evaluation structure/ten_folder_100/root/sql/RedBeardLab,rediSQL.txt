b'# RediSQL: Fast, in memory, SQL. With Batteries included.\n\n[![Gitter](https://img.shields.io/gitter/room/redbeardlab/redisql.svg?color=%2346BC99&style=for-the-badge)](https://gitter.im/rediSQL/community)\n![GitHub All Releases](https://img.shields.io/github/downloads/redbeardlab/redisql/total.svg?style=for-the-badge)\n![Docker Pulls](https://img.shields.io/docker/pulls/siscia/redisql.svg?style=for-the-badge)\n\n![RediSQL Logo](website/hatchful_logs/logo_markdown.png?raw=true "RediSQL")\n\nRediSQL is the Fast, in-memory, SQL engine with batteries included.\n\nIt provides several benefits for your application.\n\n1. Fast, it can top up to 130k inserts per *second*.\n2. Familiar, it works with standard SQL, no weird dialect or syntax to learn.\n3. Easy to Operate, it is based on Redis, just start the standard Redis binary and and pass the RediSQL binary.\n4. Easy to Use, being based on Redis there are already bindings for any language.\n\n## Jump start\n\n[![RediSQL tutorial](http://img.youtube.com/vi/YRusC-AIq_g/0.jpg)](http://www.youtube.com/watch?v=YRusC-AIq_g "RediSQL tutorial")\n\nYou can follow [the video above](https://www.youtube.com/watch?v=YRusC-AIq_g) and the whole tutorial [on the documentation.](https://redisql.redbeardlab.com/rediSQL/blog/tutorial/)\n\nWe provide a demo machine at `demo.redisql.com`.\n\n```\nredis-cli -h demo.redisql.com\n```\n\nOr with docker\n\n```\ndocker run -it redis redis-cli -h demo.redisql.com\n```\n\n## Use cases\n\nThere are several use cases for RediSQL.\n\n### RediSQL to store Transient Data\n\nRediSQL is wonderful for transient data.\nWith supports for lightweights DBs, you can just store all the data that are important now, and trash them all together as soon as they are not necessary anymore.\n\n### RediSQL as main database\n\nThe product is stable, it does not lose data.\nMoreover RediSQL supports all the persistency features of Redis, hence RDB and AOF are both fully supported.\n\n## Much more to explore...\n\nThere are a lot of features in RediSQL that are worth exploring more. Here are short explanations of those features.\n\n#### Lightweight DBs\n\nRediSQL provides you with lightweight in-memory databases.\nIt could completely shift your architecture. For example, you could create a new isolated database each day, one for each application tenant, or even one per user.\n\n#### On disk storage\n\nWhile RediSQL focuses on in-memory database, it can also store data in a regular file. Of course this makes operations slower, but it allows RediSQL to reach a level of data persistency on par with incumbent databases such as Postgres or MySQL.\n\n#### Copy of DBs\n\nWith the concept of lightweight databases, it becomes necessary to have a way to duplicate your database. \nIndeed it is possible to copy a database into another one. \nThis allows several interesting patterns. \nFor example, you could copy an in-memory database into a file-backed database and then ship the file for storage or other analysis. \nAnother pattern would be to copy a heavy read database into another for load balancing reasons.\nMoreover you may use the copy function to keep a "base-database" to grow when new data comes in.\n\n#### Directly expose the DB to users\n\nWith the ability to create several lightweight databases, and the capability to copy those database, you could directly expose the databases to the end users instead of exposing an API that you would need to maintain.\nJust load all the data that the user may need into a RediSQL database, document the tables that are available, and give access to it to the users. \nThey will write their own API without waiting on you.\n\n#### Stream and cache query results\n\nRediSQL can also store results of queries into a Redis Streams.\nThis allows different clients to consume part of the result, or to delay the consuption of a result. \nMoreover, it allows caching the result of expensive queries as Redis Streams to consume them over and over again.\n\n#### Complete JSON support\n\nJSON is the de-facto standard for sharing data between applications. RediSQL exploits the JSON1 module of SQLite to bring that capability to easy and quickly manage JSON data inside SQL statements and tables.\nIn RediSQL you are able to manipulate JSON in every standard way.\n\n#### Full text search support\n\nRediSQL fully supports also the FTS{3,4,5} engine from SQLite, giving you a full text engine at your fingertip.\nYou will be able to manage and search for data.\n\n## Getting started\n\nRediSQL is a Redis module, hence you will need a modern version of [Redis (> 5.0)][redis-download] and the RediSQL .so file.\n\nYou can obtain RediSQL directly [from our store.][store]\n\nAlternative you can download the module from [github release.](https://github.com/RedBeardLab/rediSQL/releases)\n\nFinally you could compile the source yourself, simpy with `cargo build --release` from the root of the project.\n\nTo start RediSQL you simply pass it as paramenter to the redis binary.\n\n```\n./redis-server --loadmodule /path/to/RediSQL.so \n```\n\nAt this point you have your standard redis instance working as you would expect plus all the RediSQL interface.\n\nAll the commands are documented in [the references.][api]\n\nTo explore RediSQL you can use the official client `redis-cli` which it will connect to the running server.\n\nThe free version requires connection to our servers, make sure to set up your firewall appropriately.\n\n## Docker image\n\nMoreover, also a Docker image is provide. Is sufficient to run the image `siscia/redisql` to start the Redis server with RediSQL loaded.\n\n```\n$ docker run -it --net host siscia/redisql\n```\n\nThe `siscia/redisql` image provides also the `redis-cli` client:\n\n```\n$ docker run -it --net host siscia/redisql redis-cli\n```\n\n## Tutorials and walkthrought\n\nWe create a few tutorial to guide you on using RediSQL with Node.js, Go(lang) and Python:\n\n- [Using RediSQL with Python](http://redisql.redbeardlab.com/rediSQL/blog/python/using-redisql-with-python/)\n- [Using RediSQL with Golang](http://redisql.redbeardlab.com/rediSQL/blog/golang/using-redisql-with-golang/)\n- [Using RediSQL with Node.js](http://redisql.redbeardlab.com/rediSQL/blog/node/using-redisql-with-node/)\n\nPlease open an issue and request a tutorial for any other language you are intereted in.\n\nThe fastest way to explore RediSQL is using the `redis-cli`.\n\n```\n$ ~/redis-4.0-rc1/src/redis-cli \n127.0.0.1:6379> \n127.0.0.1:6379> SET A 3\nOK\n127.0.0.1:6379> GET A\n"3"\n# Great, still the old good redis we know, but now with extra commands.\n127.0.0.1:6379> REDISQL.CREATE_DB DB\nOK\n# Start creating a table on the default DB\n127.0.0.1:6379> REDISQL.EXEC DB "CREATE TABLE foo(A INT, B TEXT);"\nDONE\n# Insert some data into the table\n127.0.0.1:6379> REDISQL.EXEC DB "INSERT INTO foo VALUES(3, \'bar\');"\nOK\n# Retrieve the data you just inserted\n127.0.0.1:6379> REDISQL.EXEC DB "SELECT * FROM foo;"\n1) 1) (integer) 3\n   2) "bar"\n# Of course you can make multiple tables\n127.0.0.1:6379> REDISQL.EXEC DB "CREATE TABLE baz(C INT, B TEXT);"\nOK\n127.0.0.1:6379> REDISQL.EXEC DB "INSERT INTO baz VALUES(3, \'aaa\');"\nOK\n127.0.0.1:6379> REDISQL.EXEC DB "INSERT INTO baz VALUES(3, \'bbb\');"\nOK\n127.0.0.1:6379> REDISQL.EXEC DB "INSERT INTO baz VALUES(3, \'ccc\');"\nOK\n# And of course you can use joins\n127.0.0.1:6379> REDISQL.EXEC DB "SELECT * FROM foo, baz WHERE foo.A = baz.C;"\n\n1) 1) (integer) 3\n   2) "bar"\n   3) (integer) 3\n   4) "aaa"\n2) 1) (integer) 3\n   2) "bar"\n   3) (integer) 3\n   4) "bbb"\n3) 1) (integer) 3\n   2) "bar"\n   3) (integer) 3\n   4) "ccc"\n127.0.0.1:6379> \n```\n\n## Telemetrics and commercial product\n\nFrom version 1.0.0 we move away from an open-core model where some features where not released as open source to a different model that force not-paying user to send telemetrics data to our servers.\nThis allow us to release all the features of RediSQL as open source while retaining our possibilities to fund the project.\n[The full announcement on our blog][release-1.0.0].\n\nOf course the telemetrics data are not sensible (it is the result of the `REDISQL.STATISTICS` command) and we took all the precaution to allow smooth operation of the telementrics, [more details in the technical blog post.][redisql-telemetrics]\n\nThe main idea behind forced telemetrics is that small users won\xe2\x80\x99t be bothered by them too much. Moreover they usually have the resource, knowledge and will to set up their own firewall and invest time instead of money.\n\nAll the other users can instead use the PRO version, the PRO version does not requires any connectivity to our servers, all the telemetrics part is simply not compiled into the code.\n\nWe hope to have strike a good balance with this new policy.\n\nFor a company is a bargain to just paid to don\xe2\x80\x99t have one more thing to keep track of.\n\nFor small users we allow them to use all the PRO features of RediSQL while just requiring a little more time and attention, of course small users can purchase the PRO version as well.\n\nThe PRO version -- no telemetrics required -- version of RediSQL [can be purchased on our store][store].\n\n## Documentation\n\nThe complete API are explained in the official documentation that you can access here: [API References][api]\n\n## Community and contribution\n\nThis project is very open about accepting pull request and answer to issues.\n\nMoreover we encourage users to report any kind of issue, problem or possible ergonomic improvements.\n\nWe encorage user feedback and contribution with a free copy of RediSQL PRO.\n\nChat on gitter: ![Gitter](https://img.shields.io/gitter/room/redbeardlab/redisql.svg?color=%2346BC99&style=for-the-badge)\n\nFor any other information feel free to write me directly: [simone@redbeardlab.com](mailto:simone@redbeardlab.com)\n\nFor any comment, idea or solution on any of the issues with label "PRO version if contribution", you will receive a free copy of the latest RediSQL version released.\n\n## Troubleshooting\n\nThis section will explain how to overcome the most common problem when running RediSQL.\n\nIf you find and report other problem, you will be rewarded with a copy of the PRO version of RediSQL.\n\n### Impossible to send telemetrics\n\nRediSQL doesn\'t start and show this lines:\n\n```\n[2019-05-06T21:29:00Z WARN  telemetrics] Warning, impossible to send the telemetrics.\n[2019-05-06T21:29:00Z ERROR telemetrics] Telemetrics not reachables, exit!\n```\n\nThis error means that you are using the free edition of RediSQL which need to [comunicate with the telemetric servers][redisql-telemetrics].\nIn this case was not possible for RediSQL to establish a connection to the server, hence RediSQL refuse to start.\n\nIf you are running RediSQL inside docker, likely you forgot to pass the flag: `--net=host` that in this case is necessary.\nAnother culprint could be the fiewall of your host, make sure that you are able to do HTTPS request from your server.\n\nA simple test in this case is to use `curl` to get the main page from Google: `curl google.com`.\nIf `curl` does return an error is a good clue that you may not have outbound HTTP connectivity.\n\n\n## License and commercial product\n\nThis software is released under a custom license inspired by the MIT License.\n\nThe "RediSQL License" add one clause to the MIT license that simply requires that you leave the telemetrics alone.\n\nIt is possible to purchase more permissive licenses.\n\n<RediSQL, SQL steroids for Redis.>\nCopyright (C) 2019  Simone Mosciatti\n\n[store]: https://payhip.com/RediSQL\n[api]: http://redisql.redbeardlab.com/rediSQL/references/\n[redis-download]: https://redis.io/download\n[release-1.0.0]: http://redbeardlab.com/2019/04/09/redisql-release-1-0-0-change-in-strategy-and-business-model/\n[redisql-telemetrics]: http://redbeardlab.com/2019/04/09/telemetrics-for-redisql/\n'