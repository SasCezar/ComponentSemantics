b'# Quokka\n\n![quokka](https://github.com/rochacbruno/quokka/raw/master/docs/emoji_small.png)\n\n## The Happiest CMS in the world\n\nQuokka is a Content Management Framework written in Python.\n\nA lightweight framework to build CMS (Content Management System) as \nwebsites, portals, blogs, applications and anything related to publishing\ncontent to the web.\n\nQuokka is not limited to CMS area, it is also possible to create Quokka extensions\nto provide any kind of web application based on Python and Flask.\n\nQuokka can also (optionally) generate a static website from the contents generated\nin its admin interface.\n\n## Features\n\n- Web based content management admin interface\n- Multiple content formats (markdown, rst, html, plaintext)\n- Compatibility with any of the [Pelican Themes](http://www.pelicanthemes.com/)\n- Flat file NoSQL database **TinyDB** or optionally **MongoDB** for scale deployments\n- Host the Quokka on **server** or generate a **static** website\n- Extensible via modules/plugins\n- Powered by Python, Flask, Flask-Admin, TinyMongo and Pelican Themes\n\n## Demo\n\n> Use this if you want to see how Quokka works\n\n```\ndocker run --rm -it -p 5000:5000 quokka/quokka\n```\nGo to http://localhost:5000/admin and login using admin/admin\n\n## Quick Start\n\n> NOTE: QuokkaCMS requires Python 3.6+\n\n\n### To install and run for development mode \n\n> Use this if you want to contribute to quokka, PyPi releases will be provided soon.\n\n```bash\ngit clone https://github.com/rochacbruno/quokka\ncd quokka\npython3 -m venv venv\n. venv/bin/activate\npip3 install --upgrade pip\nmake install\nmake adduser\nmake devserver\n```\n\nthen access http://localhost:5000 and http://localhost:5000/admin\nedit the `quokka/project_template/quokka.yml` and start contributing to the code!\n\n> NOTE: In dev mode the project in `quokka/project_template/` is used and a database is created inside it.\n\n### To install for use/deployment\n\n> NOTE: this project is a Work In Progress, consider installing in development mode\n\n```\npython3 -m venv venv\n. venv/bin/activate\npip3 install --upgrade pip\npip3 install -e git+https://github.com/rochacbruno/quokka.git#egg=quokka\nquokka init mysite\ncd mysite\nquokka adduser\nquokka runserver\n```\n\n\n# Using Quokka CMS\n\n#### Start a project\n\n```bash\n$ quokka init NewWebsite --theme=flex --modules=gitpages,heroku\n...\n```\n\n```bash\n\xf0\x9f\x90\xb9 Quokka project created \xf0\x9f\x90\xb9\n\xf0\x9f\x93\x9d Name: NewWebsite\n\xf0\x9f\x93\x81 Location: /tmp/newwebsite\n\xf0\x9f\x93\x9a Template: default\n\xf0\x9f\x8e\xa8 Themes: flex theme installed\n\xf0\x9f\x9a\x9a Modules: [gitpages, heroku] installed\n\xf0\x9f\x94\xa7 Config: Config file written in /tmp/newwebsite/quokka.yml\n\xe2\x9e\xa1 Go to /tmp/newwebsite\n\xe2\x9a\x99 run `quokka runserver` to start!\n\xf0\x9f\x93\x84 Check the documentation on http://quokkaproject.org\n\xf0\x9f\x90\xb9 Happy Quokka! \xf0\x9f\x90\xb9\n```\n\n> YES! it outputs emojis \xf0\x9f\x90\xb9\n\n\nThe above command will generate your project in `myproject` folder as:\n\n```bash\n.\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 databases        # TinyDB database files (gitignored)\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 modules          # Custom modules to load on EXTRA_EXTENSIONS\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 static_build     # output static site\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 themes           # Front-end Themes (Pelican and Quokka Themes supported)\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 uploads          # Media uploaded via admin\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 .gitignore       # gitignore to exclude sensitive files\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 quokka.yml       # Project settings\n\xe2\x94\x9c\xe2\x94\x80\xe2\x94\x80 .secrets.yml     # To store keys, tokens and passwords (gitignored)\n\xe2\x94\x94\xe2\x94\x80\xe2\x94\x80 wsgi.py          # To deploy `gunicorn wsgi:app`\n```\n\nYou can optionally pass arguments:\n\nChoose existing theme (the default is [Malt](https://github.com/grupydf/malt))\n\n```bash\nquokka init mywebsite --theme http://github.com/user/theme\n```\n\nInstall modules\n\n```bash\nquokka init mywebsite --theme http://github.com/user/theme --modules="commerce,foo"\n```\n\n> the above looks for `quokka_commerce` and `quokka_foo` in PyPI and installs it\n\n#### Set important configurations\n\n```bash\nquokka init mywebsite --theme http://github.com/user/theme --config="auth_enabled=false"\n```\n\n> That is optional, you can to edit `quokka.yml` to tune your settings.\n\n#### Create an admin user\n```\nquokka adduser\n```\n\n#### Run your website\n\n```bash\nquokka runserver --port 5000\n```\n\n#### Access admin interface\n\nhttp://localhost:5000/admin\n\n#### Access your site\n\nhttp://localhost:5000\n\n## Deploy\n\n### You can deploy your Quokka Website in a WSGI server\n\nCheck the `wsgi.py` and refer to it when deploying in wsgi servers.\n\n```bash\ncd myproject\ngunicorn wsgi:app -w 4 -b "0.0.0.0:8000"\n```\n\nAn example of `supervisord` config\n\n```ini\n[program:quokka]\ncommand=/myproject/venv/bin/gunicorn wsgi:app -w 4 -b "0.0.0.0:8000"\ndirectory=/myproject\n```\n\nFor more information read [Gunicorn documentation](http://docs.gunicorn.org/en/stable/index.html)\n\n## Publish Static HTML website\n\n> **NOTE**: To generate a static website all user management, keys and passwords will be removed from settings.\n\n### You can generate a static HTML website to host anywhere\n\nOnce you have your website running locally you can easily generate a\nstatic HTML website from it.\n\n```bash\n$ quokka publish --static [--output path]\nGenerating static HTML website on ./static_build folder\n```\n\nOnce you have a ./static_build folder populated with static website you can deploy it\nusing SCP, FTP or git, it is a full static website.\n\n### Deploying to github pages from command line\n\n> NOTE: You need either ssh key access to github or it will ask login/password\n\n```bash\nquokka publish --static --git=rochacbruno/mysite --branch=gh_pages\n```\n\n> The above is also available in admin under \'publish\' menu.\n\n### Deploying via SCP\n\n```bash\nquokka publish --static --scp --dest=\'me@hostname:/var/www/mysite\' [--sshkey ~/.ssh/key] [--password xyz]\npassword : ...\n```\n\n### Deploying to Heroku\n\n> This requires `heroku` client installed, if `Procfile` is not found it will be generated\n\n```bash\nquokka publish --static --heroku --options\n```\n\n### Deploying via FTP\n\n```bash\nquokka publish --static --ftp --host=\'ftp://server.com\' --dest=\'/var/www/mysite\'\n```\n\n### Load database from remote deployment (only for TinyDB)\n\nWhen you publish a static website along with the static files the database also\ngoes to the server under the databases/ folder only as a backup and snapshot.\n\nYou can load that remote database locally e.g: to add new posts and then re-publish\n\n```bash\nquokka restoredb --remote --git=rochacbruno/mysite\nCreating a backup of local database...\nDownloading remote database\nRestoring database..\nDone...\n```\n\nNow you can run `quokka runserver` open your `localhost:5000/admin` write new content\nand then `Publish` website again using command line or admin interface.\n\n> NOTE: If you want to restore a local database use `--local` and `--path path/to/db`\n\n## Using MongoDB\n\nYou can choose to use MongoDB instead of TinyDB, That is useful specially if\nyou deploy or local instance has more than one admin user concurrently\nand also useful if you want to install plugins which support MongoDB only\n(because it relies on aggregations and gridfs)\n\nYou only need a running instance\nof Mongo server and change `quokka.yml:DB` on your project from:\n\n```yaml\nquokka:\n  DB:\n    system: tinydb\n    folder: databases\n```\n\nto:\n\n```yaml\nquokka:\n  DB:\n    system: mongodb\n    name: my_database\n    host: 127.0.0.1\n    port: 2600\n```\n\nThen when running `quokka` again it will try to connect to that Mongo Server.\n\nWith that you can deploy your site on `wsgi` server or can also generate `static` website.\n\n### Running mongo in a Docker container\n\n```bash\ncd your_quokka_project_folder\ndocker run -d -v $PWD/databases:/data/db -p 27017:27017 mongo\n# wait some seconds until mongo is started\nquokka runserver\n```\n\n## Contributing to Quokka CMS Development\n\nDo you want to be part of this open-source project?\n\nTake a look at [Contributing Guidelines](/CONTRIBUTING.md)\n\n### Setup a contributor environment\n\nEnsure you have `Python3.6+` fork this repo and:\n\n```bash\ngit clone https://github.com/$YOURNAME/quokka\ncd quokka\n\n# create a Python3.6 virtual env\nmake create_env\n\n# activate the venv\n. venv/bin/activate\n\n# install Quokka in --editable mode (using pbr)\nmake install\n\n# Create a new admin user\nmake adduser\n\n# run quokka\nmake devserver\n```\n\nAccess http://localhost:5000/admin and http://localhost\n\n\n## ROADMAP\n\nThis list is available on https://github.com/rochacbruno/quokka/issues\n\nThis is the list of tasks to be completed until `1.0.0` can be released.\nsupport 100% coming only for `malt` and `bootstrap3` themes\n\n\n## Screenshots\n\n### The main Admin page\n\n![home cms](https://user-images.githubusercontent.com/458654/35923897-a6f321be-0c08-11e8-95ff-5510862326ea.png)\n\n\n### Pelican themes compatible\n\nAn article showing in Malt theme  \n\n![start contributing to quokka project my site](https://user-images.githubusercontent.com/458654/35923881-a128c9d2-0c08-11e8-94b4-813588209f04.png)\n\nThe same article using Bootstrap 3 theme  \n\n![start contributing to quokka project my site2](https://user-images.githubusercontent.com/458654/35924086-32840ebe-0c09-11e8-861e-db1a66b87326.png)\n\n> See more on screenshots on https://github.com/rochacbruno/quokka/issues/647\n\n\n# Start contributing right now!\n'