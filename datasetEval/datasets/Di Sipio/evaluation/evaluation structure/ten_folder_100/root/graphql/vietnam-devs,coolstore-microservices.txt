b'# CoolStore Web Application - :ferris_wheel: Kubernetes-based Microservices Application on Service Mesh :sailboat:\n\n![Travis (.org)](https://travis-ci.org/vietnam-devs/coolstore-microservices.svg?branch=master)\n[![Price](https://img.shields.io/badge/price-FREE-0098f7.svg)](https://github.com/vietnam-devs/coolstore-microservices/blob/master/LICENSE)\n[![OpenTracing Badge](https://img.shields.io/badge/OpenTracing-enabled-blue.svg)](http://opentracing.io)\n\n```\n ______     ______     ______     __         ______     ______   ______     ______     ______    \n/\\  ___\\   /\\  __ \\   /\\  __ \\   /\\ \\       /\\  ___\\   /\\__  _\\ /\\  __ \\   /\\  == \\   /\\  ___\\   \n\\ \\ \\____  \\ \\ \\/\\ \\  \\ \\ \\/\\ \\  \\ \\ \\____  \\ \\___  \\  \\/_/\\ \\/ \\ \\ \\/\\ \\  \\ \\  __<   \\ \\  __\\   \n \\ \\_____\\  \\ \\_____\\  \\ \\_____\\  \\ \\_____\\  \\/\\_____\\    \\ \\_\\  \\ \\_____\\  \\ \\_\\ \\_\\  \\ \\_____\\ \n  \\/_____/   \\/_____/   \\/_____/   \\/_____/   \\/_____/     \\/_/   \\/_____/   \\/_/ /_/   \\/_____/ \n```\n\nCoolStore Website is a containerised microservices application consisting of services based on .NET Core, NodeJS and more running on Service Mesh. It demonstrates how to wire up small microservices into a larger application using microservice architectural principals. Read [documentation](https://vietnam-devs.github.io/coolstore-microservices) for more information.\n\nThe business domain is inspired from [CoolStore project](https://github.com/jbossdemocentral/coolstore-microservice) by [JBoss Demo Central](https://github.com/jbossdemocentral) and [Red Hat Demo Central](https://gitlab.com/redhatdemocentral).\n\nCheck out my [blog](https://medium.com/@thangchung) or say hi on [Twitter](https://twitter.com/thangchung)!\n\n## Try it online\n\n[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io#https://github.com/vietnam-devs/coolstore-microservices)\n\n> Usage with careful: The project is in development mode so that a lot of things shall change due to .NET Core 3.x upgrading.\n\n## Public presentation\n\n- [Service Mesh on AKS, the future is now - Microsoft Build event in May 2019](https://mybuild.techcommunity.microsoft.com/sessions/77172?source=TechCommunity)\n- [From Microservices to Service Mesh - DevCafe event in July 2018](https://www.slideshare.net/ThangChung/from-microservices-to-service-mesh-devcafe-event-july-2018)\n- [Service Mesh for Microservices- Vietnam Mobile Day event in June 2018](https://www.slideshare.net/ThangChung/service-mesh-for-microservices-vietnam-mobile-day-june-2017)\n- [Avoid SPOF in Cloud-native Apps - Vietnam Web Summit event in December 2018](https://www.slideshare.net/ThangChung/avoid-single-point-of-failure-in-cloud-native-application)\n\n# Table of contents\n\n- [Screenshots](https://github.com/vietnam-devs/coolstore-microservices#screenshots)\n- [Business Context](https://github.com/vietnam-devs/coolstore-microservices#business-context)\n- [OS, SDK, library, tooling and prerequisites](https://github.com/vietnam-devs/coolstore-microservices#os-sdk-library-tooling-and-prerequisites)\n- [High level software architecture](https://github.com/vietnam-devs/coolstore-microservices#high-level-software-architecture)\n- [Installation](https://github.com/vietnam-devs/coolstore-microservices#installation)\n- [\xc2\xb5Service development](https://github.com/vietnam-devs/coolstore-microservices#\xc2\xb5microservice-development)\n- [Open API](https://github.com/vietnam-devs/coolstore-microservices#open-api)\n- [CI/CD](https://github.com/vietnam-devs/coolstore-microservices#ci-cd)\n- [Service mesh](https://github.com/vietnam-devs/coolstore-microservices#service-mesh)\n- [Contributing](https://github.com/vietnam-devs/coolstore-microservices#contributing)\n- [Contributors](https://github.com/vietnam-devs/coolstore-microservices#contributors)\n- [Licence](https://github.com/vietnam-devs/coolstore-microservices#licence)\n\n## Screenshots\n\n### Home page\n\n![home-page](assets/images/ui-screen-1.PNG?raw=true)\n\n### Shopping Cart page\n\n![cart-page](assets/images/ui-screen-2.PNG?raw=true)\n\n## Business Context\n\n### Conceptual Model\n\n![conceptual-model](docs/.vuepress/public/conceptual-model.png?raw=true)\n\n### Event Storming\n\n![es-bc](docs/.vuepress/public/es-bounded-context.png?raw=true)\n\n### Context Map\n\n![es-context-map](docs/.vuepress/public/es-context-map-2.png?raw=true)\n\n## OS, SDK, library, tooling and prerequisites\n\n### Infrastructure\n\n- **`Windows 10`** - the OS for developing and building this demo application.\n- **[`Windows subsystem Linux - Ubuntu OS`](https://docs.microsoft.com/en-us/windows/wsl/install-win10)** - the subsystem that helps to run easily the bash shell on Windows OS.\n- **[`Docker for desktop (Kubernetes enabled)`](https://www.docker.com/products/docker-desktop)** - the easiest tool to run Docker, Docker Swarm and Kubernetes on Mac and Windows.\n- **[`Kubernetes`](https://kubernetes.io) / [`AKS`](https://docs.microsoft.com/en-us/azure/aks)** - the app is designed to run on Kubernetes (both locally on "Docker for Desktop", as well as on the cloud with AKS).\n- **[`helm`](https://helm.sh)** - the best package manager to find, share, and use software built for Kubernetes.\n- **[`istio`](https://istio.io)** - application works on Istio service mesh.\n- **[`linkerd2`](https://github.com/linkerd/linkerd2)** - a service mesh for Kubernetes and beyond.\n  \n### Back-end\n\n- **[`.NET Core 3.x`](https://dotnet.microsoft.com/download)** - .NET Framework and .NET Core, including ASP.NET and ASP.NET Core.\n- **[`IdentityServer4`](https://identityserver.io)** - the Identity and Access Control solution for .NET Core.\n- **[`gRPC`](https://grpc.io)** - a high-performance, open-source universal RPC framework.\n- **[`Redis`](https://github.com/StackExchange/StackExchange.Redis)** - General purpose redis client.\n- **[`NEST`](https://github.com/elastic/elasticsearch-net)** - Elasticsearch.Net & NEST.\n\n### Front-end\n\n- **[`nodejs 10.x`](https://nodejs.org/en/download)** - JavaScript runtime built on Chrome\'s V8 JavaScript engine.\n- **[`typescript`](https://www.typescriptlang.org)** - a typed superset of JavaScript that compiles to plain JavaScript.\n- **[`create-react-app`](https://facebook.github.io/create-react-app)** - a modern web app by running one command.\n\n## High level software architecture\n\n![Architecture Screenshot](assets/images/arch-diagram.png?raw=true \'Architecture Diagram\')\n\nThere are several individual \xc2\xb5services and infrastructure components that make up this app:\n\n<table>\n  <thead>\n    <th>No.</th>\n    <th>Service</th>\n    <th>Description</th>\n    <th>Source</th>\n    <th>Endpoints</th>\n  </thead>\n  <tbody>\n    <tr>\n      <td align="center">1.</td>\n      <td>\n        IdP (.NET Core + In-memory database)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=4&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/identity?branchName=master" />\n        </a>\n      </td>\n      <td>Uses <a href="https://github.com/IdentityServer/IdentityServer4">IdentityServer4</a> to authentication with OAuth 2.0 and OpenID Connect for the whole stack</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/services/idp">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:5001">dev</a> and <a href="http://id.coolstore.local">staging</a>\n      </td>\n    </tr>\n    <tr>\n      <td align="center">2.</td>\n      <td>\n        GraphQL server (.NET Core)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=12&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/graphql?branchName=master" />\n        </a>\n      </td>\n      <td>The GraphQL server for backoffice application</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/services/graphql">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:5011">dev</a> and <a href="http://api.coolstore.local/graphql/playground">staging</a>\n      </td>\n     </tr>\n     <tr>\n      <td align="center">3.</td>\n      <td>\n        OpenApi (.NET Core + envoy-proxy)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=11&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/openapi?branchName=master" />\n        </a>\n      </td>\n      <td>The OpenAPI which generated from gRPC contract files, hosted in OpenAPI format, and used envoy-proxy to proxy it</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/services/openapi">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:5010">dev</a> and <a href="http://api.coolstore.local/openapi/swagger">staging</a>\n      </td>\n     </tr>\n     <tr>\n      <td align="center">4.</td>\n      <td>\n        Web (PWA - Vuejs + Node.js)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=8&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/web?branchName=master" />\n        </a>\n      </td>\n      <td>Frontend based on <a href="https://vuejs.org">vuejs</a> and <a href="https://nodejs.org">Node.js</a></td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/web">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:8080">dev</a> and <a href="http://web.coolstore.local">staging</a>\n      </td>\n     </tr>\n     <tr>\n      <td align="center">5.</td>\n      <td>\n        Backoffice (React + TypeScript + Apollo-client)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=10&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/backoffice?branchName=master" />\n      </td>\n      <td>The back office application for management business entities in the system</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/backoffice">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:8081">dev</a> and <a href="http://backoffice.coolstore.local">staging</a>\n      </td>\n    </tr>\n    <tr>\n      <td align="center">6.</td>\n      <td>\n        Catalog (Node.js + TypeScript + Mongo)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=3&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/catalog?branchName=master" />\n        </a>\n      </td>\n      <td>Serves products and prices for retail products</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/services/catalog">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:5002">dev</a>\n      </td>\n     </tr>\n     <tr>\n      <td align="center">7.</td>\n      <td>\n        Cart (.NET Core + MySQL)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=2&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/cart?branchName=master" />\n        </a>\n      </td>\n      <td>Manages shopping cart for each customer</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/services/cart">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:5003">dev</a>\n      </td>\n     </tr>\n     <tr>\n      <td align="center">8.</td>\n      <td>\n        Inventory (.NET Core + MySQL)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=5&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/inventory?branchName=master" />\n        </a>\n      </td>\n      <td>Serves inventory and availability data for retail products</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/services/inventory">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:5004">dev</a>\n      </td>\n     </tr>\n     <tr>\n      <td align="center">9.</td>\n      <td>\n        Rating (Node.js + TypeScript + Mongo)<br/>\n        <a href="https://dev.azure.com/vietnam-devs/coolstore-microservices/_build/latest?definitionId=6&branchName=master">\n          <img src="https://dev.azure.com/vietnam-devs/coolstore-microservices/_apis/build/status/rating?branchName=master" />\n        </a>\n      </td>\n      <td>Runs for rating products</td>\n      <td>\n        <a href="https://github.com/vietnam-devs/coolstore-microservices/tree/master/src/services/rating">code</a>\n      </td>\n      <td>\n        <a href="http://localhost:5007">dev</a>\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Installation\n\n### Development environment\n\n#### Up and running with `Docker` and `docker compose`\n\n```bash\n$ docker-compose -f docker-compose.yml -f docker-compose.dev.yml build\n$ docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d\n```\n\nSee https://vietnam-devs.github.io/coolstore-microservices/development/#up-and-running-with-docker-and-docker-compose\n\n### Staging and Production environments\n\n#### Up and Running on `Azure Kubernetes Service` (`AKS`)\n\nSee https://vietnam-devs.github.io/coolstore-microservices/development/#up-and-running-manually-on-docker-for-desktop-and-aks\n\n## \xc2\xb5Service development\n\nGuidance for developing \xc2\xb5Service can be found at [Clean Domain-Driven Design in 10 minutes](https://medium.com/@thangchung/clean-domain-driven-design-in-10-minutes-6037a59c8b7b)\n\n![\xc2\xb5Service Screenshot](assets/images/miniservice-development.PNG?raw=true \'Microservice\')\n\n## Open API\n\n![OpenAPI Screenshot](assets/images/open-api.png?raw=true \'OpenAPI\')\n\nhttps://documenter.getpostman.com/view/4847807/SVmvUeZv?version=latest#9f5ed7e4-e855-46e5-a42d-64edb31bc1cb\n\n## CI/CD\n\n![Lift and Shift](assets/images/lift-and-shift.PNG?raw=true \'liftandshift\')\n\n## Service mesh\n\n[`istio`](https://istio.io) provide a wealth of benefits for the organizations that use them. There\xe2\x80\x99s no denying, however, that adopting the cloud can put strains on DevOps teams. Developers must use microservices to architect for portability, meanwhile operators are managing extremely large hybrid and multi-cloud deployments. Istio lets you connect, secure, control, and observe services.\n\n### Distributed tracing\n\n![DAG chart](assets/images/jaeger-dag-1.PNG?raw=true \'DAG\')\n\n![Trace chart](assets/images/jaeger-trace-1.PNG?raw=true \'Trace\')\n\n### Metrics\n\n![Metrics chart](assets/images/grafana-ui-1.PNG?raw=true \'Metrics\')\n\n## Contributing\n\n1. Fork it!\n2. Create your feature branch: `git checkout -b my-new-feature`\n3. Commit your changes: `git commit -am \'Add some feature\'`\n4. Push to the branch: `git push origin my-new-feature`\n5. Submit a pull request :p\n\n## Contributors \xe2\x9c\xa8\n\nThanks goes to these wonderful people ([emoji key](https://allcontributors.org/docs/en/emoji-key))\n\n<table>\n  <tbody>\n    <tr>\n      <td align="center" valign="top">\n        <img width="150" height="150" src="https://github.com/thangchung.png?s=150">\n        <br>\n        <a href="https://github.com/thangchung">Thang Chung</a>\n        <p>\n          <a href="https://github.com/vietnam-devs/coolstore-microservices/commits?author=thangchung" title="Developer">\xf0\x9f\x92\xbb</a>\n          <a href="#question" title="Answering Questions">\xf0\x9f\x92\xac</a>\n          <a href="#docs" title="Documentation">\xf0\x9f\x93\x96</a>\n          <a href="#review" title="Reviewed Pull Requests">\xf0\x9f\x91\x80</a>\n          <a href="#infra" title="Infrastructure">\xf0\x9f\x9a\x87</a>\n          <a href="#maintance" title="Maintenance">\xf0\x9f\x9a\xa7</a>\n        </p>\n      </td>\n      <td align="center" valign="top">\n        <img width="150" height="150" src="https://github.com/tungphuong.png?s=150">\n        <br>\n        <a href="https://github.com/tungphuong">Phuong Le</a>\n        <p>\n          <a href="https://github.com/vietnam-devs/coolstore-microservices/commits?author=tungphuong" title="Developer">\xf0\x9f\x92\xbb</a>\n          <a href="#package" title="Packaging">\xf0\x9f\x93\xa6</a>\n          <a href="#infra" title="Infrastructure">\xf0\x9f\x9a\x87</a>\n        </p>\n      </td>\n      <td align="center" valign="top">\n        <img width="150" height="150" src="https://github.com/trumhemcut.png?s=150">\n        <br>\n        <a href="https://github.com/trumhemcut">Phi Huynh</a>\n        <p>\n          <a href="#idea" title="Ideas & Planning">\xf0\x9f\xa4\x94</a>\n          <a href="https://github.com/vietnam-devs/coolstore-microservices/commits?author=trumhemcut" title="Infrastructure">\xf0\x9f\x9a\x87</a>\n        </p>\n      </td>\n      <td align="center" valign="top">\n        <img width="150" height="150" src="https://github.com/thinhnotes.png?s=150">\n        <br>\n        <a href="https://github.com/thinhnotes">Thinh Nguyen</a>\n        <p>\n          <a href="https://github.com/vietnam-devs/coolstore-microservices/commits?author=thinhnotes" title="Developer">\xf0\x9f\x92\xbb</a>\n          <a href="#maintance" title="Maintenance">\xf0\x9f\x9a\xa7</a>\n        </p>\n      </td>\n      <td align="center" valign="top">\n        <img width="150" height="150" src="https://github.com/stuartleeks.png?s=150">\n        <br>\n        <a href="https://github.com/stuartleeks">Stuart Leeks</a>\n        <p>\n          <a href="#docs" title="Documentation">\xf0\x9f\x93\x96</a>\n        </p>\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Licence\n\nCode released under [the MIT license](https://github.com/vietnam-devs/coolstore-microservices/blob/master/LICENSE).\n'