b'# SubstratumNode\n\n## Purpose\nSubstratumNetwork is an open-source network that allows anyone to allocate spare computing resources to make the internet\na free and fair place for the entire world. It is a worldwide collection of nodes that securely delivers content without\nthe need of a VPN or Tor.\n\nBecause there\'s no single authority delivering or monitoring content, censorship and geo-restricted sites won\'t be an\nissue on SubstratumNetwork. It doesn\'t matter where you live or what content you\'re accessing, everyone in the world\nsees the exact same content.\n\n**SubstratumNode** is the foundation of SubstratumNetwork.\n\nIt is what the average user runs to earn SUB and dedicate some of their computers\' resources towards the network.\nPeople who run a SubstratumNode can be rewarded with cryptocurrency for each time they serve content.\n\nSubstratumNodes work together to relay CORES packages and content on the network.\nWhen a user requests a site, nodes use artificial intelligence to find the most expedient and secure way to get the\ninformation to that user. Multiple nodes work to fulfill a single request in order to maintain a necessary level of anonymity.\n\n## Tools / Environment Setup\nSubstratumNode software is written in Rust.\nWe use `rustup` to install what we need (e.g. `rustc`, `cargo`, etc). If you don\'t already have it, you can get it from\n[the `rustup` installation page](https://www.rustup.rs/).\n\nTo keep our source code consistently formatted, we use `rustfmt`, which is a plugin for `cargo`. If you want to use our\nbuild scripts to build the code, you\'ll need to [install this plugin in your Rust environment](https://github.com/rust-lang/rustfmt).\n(We use the stable version, not the nightly version.)\n\nSome Linux distributions (notably Ubuntu \xe2\x89\xa516.04 Desktop) have an incompatibility with SubstratumNode. If you think\nyou might be affected, see \n[The Port 53 Problem](https://github.com/SubstratumNetwork/SubstratumNode/tree/master/node/docs/PORT_53.md) \nfor more information.\n\nIf you\'re using Windows, you\'ll need to run the build scripts using `git-bash`. If you\'ve cloned this repository, you\nprobably already have `git-bash`; but if you don\'t, look at\n[How To Install `git-bash` On Windows](http://www.techoism.com/how-to-install-git-bash-on-windows/).\n\nAlso, you will need an Internet connection when you build so that `cargo` can pull down dependencies.\n\n## How To\nWe build and run tests for SubstratumNode using `bash` scripts located in the `ci` directory of each sub-project.\nTo clean, build, and run tests for all sub-projects in one step, start at the top level of the project (the directory\nis probably called `SubstratumNode`).\n\n#### If you\'re using Linux or macOS \nFirst, please note that at a few points during the process, the build will stop and ask you for your password. This is \nbecause some of the integration tests need to run with root privilege, to change DNS settings, open low-numbered ports, \netc. (It is possible but not easy to build without giving root privilege or running integration tests; if this turns\nout to be something people want to do, we\'ll make it easier.)\n\nOpen a standard terminal window and type:\n```\n$ ci/all.sh\n```\n\n#### If you\'re using Windows\nSubstratumNode utilizes a Web3 crate to facilitate Blockchain communications. The Web3 crate depends on OpenSSL for TLS\nwhen connecting over HTTPS. Some setup for a proper Windows build environment may be needed. You have two choices: a) install\nOpenSSL and allow it to be dynamically linked at compile time b) download an OpenSSL binary and set `OPENSSL_STATIC`\nand allow it to be statically linked at compile time.\nSee the [Rust OpenSSL Documentation](https://docs.rs/openssl/0.10.20/openssl/) for more information on configuring this \nenvironment variable. If it is not set, dynamic linking is assumed. The binaries we distribute are statically linked.\n\nOpen a `git-bash` window as administrator and type:\n```\n$ ci/all.sh\n```\n\n_Wondering where all our tests are? The convention in Rust is to write unit tests in same file as the source, in a module\nat the end._\n\n### Run SubstratumNode locally\n\nOnce you\'ve successfully built the `node` executable, you can run SubstratumNode from the command line.\n\nCurrently, your DNS must be set to `127.0.0.1` in order to route traffic through SubstratumNode; then it must be set back to\nwhatever it was before when you\'re done with SubstratumNode and you want to get back on the normal Internet.\n\n\nThe SubstratumNode software includes a \n[multi-platform DNS utility](https://github.com/SubstratumNetwork/SubstratumNode/tree/master/dns_utility) that you can use\nto subvert your DNS settings to `127.0.0.1`, like this:\n```\n$ cd <path to workspace>\n$ sudo SubstratumNode/dns_utility/target/release/dns_utility subvert\n```\nIf you have trouble with `dns_utility` or you\'d rather make your DNS configuration changes manually, look for \n[instructions for your platform](https://github.com/SubstratumNetwork/SubstratumNode/tree/master/node/docs).\n\nOnce your DNS is successfully subverted, you can start the SubstratumNode itself.  Currently, there are two major ways\nthe SubstratumNode can run: zero-hop and decentralized.\n\nA zero-hop SubstratumNode is very easy to start, and it\'s self-contained: every zero-hop SubstratumNode has an entire\nSubstratum Network inside it.  However, it doesn\'t communicate with any other SubstratumNodes.  Every network transaction\nis zero-hop: your SubstratumNode is the Client node, the Originating node, and the Exit node all at once.  A zero-hop SubstratumNode\nis good for exploring the system and verifying its compatibility with your hardware, but it doesn\'t relay traffic through\nany other SubstratumNodes.\n\nA decentralized SubstratumNode is considerably more difficult to start, because you have to give it much more information\nto get it running; however, it can route your traffic through other SubstratumNodes running elsewhere in the world to get\nit to and from your destination.\n\n__Important Note:__ Please remember that at the moment neither zero-hop SubstratumNodes nor decentralized SubstratumNodes\nare secure or private in any sense of the word.  Please don\'t use them for any kind of sensitive traffic at this stage.\n\n#### Supplying Configuration To SubstratumNode\n\nThere are three ways to get configuration information into a SubstratumNode on startup. In decreasing level of priority,\nthese are:\n\n1. the command line\n2. the shell environment\n3. the configuration file\n\nAny piece of configuration information can be provided through any of these channels, with one exception: the path to\nthe configuration file cannot be taken from the configuration file. (It can be provided there, but it will never be\ntaken from there.) Configuration information provided in the environment will supersede conflicting information\nprovided in the configuration file, and information provided on the command line will supersede conflicting information\nfrom both of the other sources.\n\n##### Command line\n\nThis is the easiest. In this file, all our documentation of the configuration options shows you how to provide them on\nthe command line. Keep in mind, though, that command lines tend to be preserved by the operating system for display to\nusers who want to see process lists. Therefore, the command line may not be the best place to specify sensitive or\nsecret configuration information. (Nothing prevents you from doing this, though, so be careful.)\n\n##### Shell Environment\n\nIf you see that the command line accepts a parameter such as `--clandestine-port 1234`, then you can supply that same\nparameter in the environment by setting the `SUB_CLANDESTINE_PORT` environment variable to `1234`. Note that you need\nto remove the initial `--` prefix, convert the name to all uppercase, and add a `SUB_` prefix to namespace the parameter\nagainst other applications that might look for a similar variable.\n\n##### Configuration File\n\nThe configuration file, by default, resides in the data directory (see the `--data-directory` parameter for further\ninformation) and is named `config.toml`. If you leave the configuration file unspecified, this is where SubstratumNode\nwill look for it. If it\'s found, it will be used; if it\'s not, SubstratumNode will act as though it had been found but empty.\nBut if you want to use a different file, specify it either as `--config-file` on the command line or as `SUB_CONFIG_FILE`\nin the environment. If you specify a relative filename, SubstratumNode will look for the configuration file in the data\ndirectory; if you specify an absolute filename, SubstratumNode will not use the data directory to find the configuration\nfile.\n\nThe configuration file should be in TOML format. TOML is a competitor to other formats like JSON and YAML, but the\nSubstratumNode uses only scalar settings, not arrays or tables. If you see that the command line accepts a parameter such\nas `--clandestine-port 1234`, then you can supply that same parameter in the configuration file by adding the following\nline to it:\n\n```\nclandestine-port = "1234"\n```\n\nNote that you need to remove the initial `--` prefix. All the configuration parameters will work if you supply their\nvalues as double-quoted strings, but if they\'re numeric values, you can supply them numerically as well--for example,\n\n```\nclandestine-port = 1234\n```\n\nKeep in mind that a configuration file is persistent information: anyone who has or can gain read access to the file\ncan read whatever\'s in it, whether SubstratumNode is running or not. Therefore, the configuration file may not be the \nbest place to specify sensitive or secret configuration information. (Nothing prevents you from doing this, though, so \nbe careful.)\n\n#### Running a Zero-Hop SubstratumNode locally\n\nHere\'s all you need to start your zero-hop SubstratumNode:\n```\n$ sudo SubstratumNode/node/target/release/SubstratumNode --dns-servers 1.1.1.1\n```\nIn the above example, we\'re using Cloudflare\'s DNS, `1.1.1.1`, but you can use your preferred DNS.\nIf you can\'t choose just one favorite DNS, you can also specify multiple ones, separated by a comma but no space (`,`).\n\n_Why do we specify `--dns-servers`? SubstratumNodes still need to talk to the greater Internet.\nSee [the ProxyClient README](https://github.com/SubstratumNetwork/SubstratumNode/tree/master/node/src/proxy_client)\nfor more information._\n\n#### Running a Decentralized SubstratumNode locally\n\nDecentralized operation is much more complex than zero-hop operation, so there are many more options that are available.\n\nIn order to run decentralized, SubstratumNode needs at least an earning wallet (an Ethereum wallet into which other nodes\nwill make payments for the services your node provides). If you plan to use your node to consume data with a browser\nor other network application, it will also need to be configured with a funded consuming wallet (an Ethereum wallet\nfrom which it will make payments for the services other nodes provide).\n\nConfiguring wallets is not a trivial task, so SubstratumNode provides two special execution modes to help you do this, in\naddition to the normal long-running Service mode.\n\n1. __Generate mode -__ When you start SubstratumNode in Generate mode, it will generate a new BIP39 mnemonic phrase compatible \nwith wallet software (*e.g.* Metamask, MEW) or hardware devices (*e.g.* Ledger, Trezor) and new earning and consuming wallets\nfor you based on BIP44 derivation paths. It will display this information on the console, and immediately terminate.\nYou **MUST** record the mnemonic phrase exactly as displayed along with the mnemonic passphrase you provide and \nkeep it in a secure location. When it is displayed, that is your only opportunity to record the words. For security \npurposes they cannot be displayed again. Record the words on paper, etch them in metal or stone and secure them in a safe\ndeposit box or other secure offsite location. Do not run with administrative privileges (`sudo` on Linux and macOS, a command\nwindow started as Administrator in Windows).\n\n1. __Recover mode -__ If you already have existing earning and consuming wallets that you\'d like SubstratumNode to use, you\ncan start it in Recover mode and tell it about those wallets. It will store the information you give it and immediately\nterminate. Do not run with administrative privileges (`sudo` on Linux and macOS, a command window started as Administrator in\nWindows).\n\n1. __Service mode -__ When started in Service mode, SubstratumNode will come up, join the Substratum Network, and start\nserving and consuming clandestine data until you stop it. Since Service mode requires listening on low-numbered\nrestricted ports, starting SubstratumNode in Service mode requires administrative privilege (`sudo` on Linux and macOS, a\ncommand window started as Administrator in Windows).\n\n##### Generate and Recover Modes\n\n* `--generate-wallet` (Generate mode only) This flag tells SubstratumNode that it will be operating in Generate mode. No\nvalue can be supplied for this flag, and it cannot be given in the environment.\n\n* `--recover-wallet` (Recover mode only) This flag tells SubstratumNode that it will be operating in Recover mode. No\nvalue can be supplied for this flag, and it cannot be given in the environment.\n\n* `--help` Displays help for the mode you\'re running in. Used by itself, it will show help for Service mode; used\nwith `--generate-wallet` or `--recover-wallet` it will show help for the appropriate initialization mode. Cannot be \nspecified in the environment.\n\n* `--data-directory <DIRECTORY>` Operates the same for initialization modes as for Service mode. See below.\n\n* `--consuming-wallet <BIP44 DERIVATION PATH>` The HD derivation path for the consuming wallet that either \nyou\'re directing to be generated (Generate mode) or you already have (Recover mode). It defaults to m/44\'/60\'/0\'/0/0. \nNote that a derivation path will almost always have single quotes in it, so double-quote it on the command\nline to avoid unpleasantness.\n\n* `--earning-wallet <WALLET-ADDRESS> | <BIP44 DERIVATION PATH>` \nIf you specify this with an Ethereum address ("0x" followed by 40 hexadecimal digits), SubstratumNode will use the address to\nidentify your earning wallet. If you specify a derivation path, SubstratumNode will use the mnemonic phrase (either the one\nyou specify in Recover mode or the one node generates in Generate mode) and this derivation path to compute the\naddress of your earning wallet. If you don\'t specify `--earning-wallet` at all, node will use a default of\nm/44\'/60\'/0\'/0/1. Note that a derivation path will almost always have single quotes in it, so double-quote it \non the command line to avoid unpleasantness.\n\n* `--language <English | \xe4\xb8\xad\xe6\x96\x87(\xe7\xae\x80\xe4\xbd\x93) | \xe4\xb8\xad\xe6\x96\x87(\xe7\xb9\x81\xe9\xab\x94) | Fran\xc3\xa7ais | Italiano | \xe6\x97\xa5\xe6\x9c\xac\xe8\xaa\x9e | \xed\x95\x9c\xea\xb5\xad\xec\x96\xb4 | Espa\xc3\xb1ol>` HD wallets spring from a \nsingle master keypair, which takes friendly form as a "mnemonic\nphrase" consisting of some number of standardized words in a particular order. Each word represents a\nparticular bit pattern in the keypair. SubstratumNode supports mnemonic phrases in a variety of languages.\nSpecify the language in which you wish the mnemonic phrase to be generated (Generate mode) or in which\nyou wish to supply the mnemonic phrase (Recover mode) with the `--language` parameter. Defaults to\nEnglish.\n\n* `--word-count <12 | 15 | 18 | 21 | 24>` (Generate mode only) The mnemonic phrase that represents your master keypair can have\ndifferent numbers of words in it. Shorter phrases are easier to remember; longer phrases are more secure.\nThis is the number of words you want to be in the mnemonic phrase SubstratumNode generates for you. Default is 12 for the \nRopsten testnet, and 24 for the Ethereum mainnet. \n\n* `--mnemonic <BIP39 WORDS>` (Recover mode only) Specify the mnemonic phrase from which the consuming and earning wallets\nare derived. Remember to double-quote the phrase. Do not include the mnemonic passphrase here. Keep in mind\nthat this is highly sensitive information; if it is compromised, the entire derivation tree is compromised.\nYou can provide it on the command line if you wish, but keep in mind that command lines can frequently be\nseen by anyone who has enough privilege to get a list of running processes on the system. If you start SubstratumNode\nin Recover mode and don\'t supply a `--mnemonic`, you\'ll be prompted to type it in at the console. This is\nmuch safer.\n\n* `--mnemonic-passphrase <MNEMONIC-PASSPHRASE>` This is a word or phrase that you make up that is used along with the mnemonic\npassphrase to generate the keypair that will serve as the root of your derivation tree. If you\'re in\nRecover mode and the mnemonic phrase you\'re entering doesn\'t have a mnemonic passphrase, you can leave it\nblank, but if you\'re in Generate mode we recommend that you select a passphrase to further obfuscate your\nseed. You\'ll only have to enter this whenever you generate or specify your mnemonic phrase. It\'s sensitive\ninformation, and if you don\'t specify it on the command line, you\'ll be prompted for it at the console. This\nis much safer.\n\n* `--wallet-password <PASSWORD>` SubstratumNode has to store your root keypair in a database on disk. However, since it\'s\nsensitive information, it\'s important that it not be available to anyone who might hack into or steal your\ncomputer. Therefore, SubstratumNode needs to use a password to encrypt the key. SubstratumNode won\'t store the password,\nso you\'ll need to choose it when you initialize in Generate or Recover mode, and then supply it again whenever\nit\'s needed in Service mode.\n\n##### Service Mode\n\n* `--help` Displays command help and stops. Does not require administrative privilege. Cannot be specified in the\nenvironment or config file.\n\n* `--version` Displays the currently-running version of SubstratumNode and stops. Does not require \nadministrative privilege. Cannot be specified in the environment or config file.\n\n* `--blockchain-service-url <URL>` A required URL that should point to an Infura, Geth, or Parity HTTP endpoint. Eventually, \nSubstratumNode will direct blockchain traffic through the Substratum Network when the parameter is not specified, allowing other \nnodes to talk to the blockchain on your behalf.\n\n* `--chain <dev | mainnet | ropsten>` The blockchain network SubstratumNode will configure itself to use. You must ensure the \nEthereum client specified by --blockchain-service-url communicates with the same blockchain network.\n\n* `--ip <IP ADDRESS>` This is the public IP address of your SubstratumNode: that is, the IP address at which other\nSubstratumNodes can contact yours. If you\'re in a fairly standard residential situation, then this will be the IP\naddress issued to your router by your ISP, and in order to receive data you\'ll need to create holes in your router\'s\nfirewall to enable incoming data to reach you on your clandestine ports (see below).  In the future, this will be taken\ncare of for you (if you haven\'t turned off UPnP on your router), but right now it\'s manual.\n\n* `--dns-servers <IP ADDRESS>,...` This is the same list of DNS servers needed for zero-hop operation. Whenever your\nSubstratumNode is used as an exit node, it will contact these DNS servers to find the host the client is trying to reach.\n\n* `--neighbors <PUBLIC KEY>:<IP ADDRESS>:<PORT>[;<PORT>;...][,<PUBLIC KEY>:<IP ADDRESS>:<PORT>[;<PORT>;...],...`\nThis is how you tell SubstratumNode about its initial neighbors. You can specify as many neighbors as you like, with the\ndescriptors separated by commas but no spaces. The `<PUBLIC KEY>` in a descriptor is the Base64-encoded public key of the\nneighbor in question. The `<IP ADDRESS>` is the public IP address of that neighbor, and the `<PORT>` numbers are the\nclandestine ports on which the neighbor is listening.  If the neighbor node is one you\'re running yourself, you\'ll see it\nprint this information to the console when it comes up.  If it\'s somewhere else on the Internet, you\'ll probably receive\nthis information in an email or chat message to copy/paste onto your command line.\n\n* `--clandestine-port <PORT>`\nThis is an optional parameter. If you don\'t specify a clandestine port, your node will use the same clandestine port it\nused last time it ran, if that port is still available. If the port is no longer available, SubstratumNode will refuse to\nstart until either it is available or until you specify a `--clandestine-port`, whereupon it will use the new port\nevery time it starts. If it\'s a new installation, it will select a random unused clandestine port between 1025 and 9999,\nand use that every time. Whenever you specify `--clandestine-port`, the port you specify will keep being used until\nyou reinstall or specify a different one. You can specify any port between 1025 and 65535. Whatever the clandestine port\nis, it will be printed in the log and to the console as part of the node descriptor when SubstratumNode starts up. Note: \nThis is a temporary parameter; the concept of a special clandestine port will go away someday, and node descriptors will\nlook different.\n\n* `--log-level <off | error | warn | info | debug | trace>`\nSubstratumNode has the potential to log a lot of data. (A _lot_ of data: a busy node can fill your disk in a few \nminutes.) This parameter allows you to specify how much of that potential will be realized. `trace` will encourage \nSubstratumNode to reach its full potential, and should probably only be used when you\'re going to run SubstratumNode \nfor a few seconds to try one thing that\'s been giving you problems, and then shut it off to look at the logs. `error` \nlogs only the most serious of errors, and the other values are in-between compromise points. Default is `warn`.\n\n* `--ui-port <PORT>`\nThis is how you tell SubstratumNode which port it should listen on for local WebSocket connections to the UI gateway. \nThis allows SubstratumNode to be controlled and inspected by other programs, such as the SubstratumNode UI. The default \nport is 5333; in most cases, this will not need to be changed.\n\n* `--data-directory <DIRECTORY>`\nThis is the directory in which SubstratumNode will keep the state that needs to persist from run to run. If it\'s not specified, the\ndefault is `$XDG_DATA_HOME/Substratum/<chain-name>` or `$HOME/.local/share/Substratum/<chain-name>` on Linux, \n`%APPDATA%\\Substratum\\<chain-name>` on Windows, and `$HOME/Library/Application Support/Substratum/<chain-name>` on macOS where \n`chain-name` is either `ropsten` or `mainnet` (see `--chain` parameter for more information). If it is specified but doesn\'t \nexist, SubstratumNode will try to create the directory and abort if it fails. If persistent state exists in the directory, \nbut it was created by a version of SubstratumNode that is incompatible with the version you\'re trying to start, SubstratumNode \nwill abort. If this is the case, either remove the existing state and restart SubstratumNode, or specify a different \n`--data-directory` directory.\n\n* `--config-file <FILENAME OR PATH>`\nRather than specifying the same parameter values over and over when you start SubstratumNode in Service mode, you can put parameters that\nrarely or never change in a TOML file as strings or numeric values. The entries in the config file should have\nexactly the same names they would have on the command line, without the `--` prefix. For example, instead of specifying\n\n  `--dns-servers 1.1.1.1,8.8.8.8`\n\n  on the command line, you could put\n\n  `dns-servers = "1.1.1.1,8.8.8.8"`\n\n  in the config file.\n\n  If you name the file `config.toml` and put it in\neither the default data directory or the directory specified by `--data-directory` (see above), SubstratumNode will find and\nemploy it automatically. If it has a different name or location, specify that with `--config-file`. If the path you\nspecify is relative, it will be interpreted starting with the active data directory. If it\'s absolute, it will be\nevaluated without reference to the data directory. If you specify a `--config-file` and SubstratumNode can\'t find it, it will\nabort its startup with an error.\n\n* `--consuming-private-key <64-CHARACTER HEX KEY>`\nThis allows you to specify the private key of your consuming wallet without having it related to your earning wallet by\nderivation path. While this method is fully functional, it\'s mostly useful for testing. If you do use it, keep in mind\nthat your consuming wallet private key is sensitive information: anyone who gets hold of it can drain all your funds.\nIt\'s best to specify it in the environment (as SUB_CONSUMING_PRIVATE_KEY) rather than on the command line or in the\nconfig file. You won\'t be allowed to use this parameter if you\'ve already specified a consuming wallet derivation path\nin Generate or Recover mode; and if you do use this parameter, you must specify exactly the same private key every time\nyou run your SubstratumNode. If you always use `--consuming-private-key` and `--earning-wallet` with an address, you can use SubstratumNode in\nService mode without having to go through Generate or Recover mode first, and without supplying a wallet password.\n\n* `--earning-wallet <WALLET-ADDRESS>` \nThis is an Ethereum address ("0x" followed by 40 hexadecimal digits) which SubstratumNode will use to identify your earning \nwallet. You must not have generated or recovered with an earning wallet derivation path, and you must\nalways specify the same Ethereum address for your earning wallet.\n\n* `--gas-price <GAS-PRICE>`\nThe gas price is the amount of Gwei you will pay per unit of gas used in a transaction.\n\n  If you don\'t have an earning wallet set up at all, and you don\'t specify this either, a default earning wallet will be\nused, in which case the funds you earn will go to Substratum instead of to you: so unless you\'re in a philanthropic mood,\nyou should be sure to set up or specify your earning wallet.\n\nIn order to run decentralized, the SubstratumNode _must_ know the IP address others can use to contact it. Therefore,\nyou must supply `--ip`. If you don\'t supply `--ip`, your node will come up in zero-hop mode and never route through\nany other nodes.\n\nIf you\'re starting the very first SubstratumNode in your Substratum network, then you don\'t have to tell your node about \nany preexisting network; but otherwise, you\'ll need to specify `--neighbors` so that your node will know how to join the\nnetwork that is already in place.\n\nYour home network is behind your internet provider\'s router and a public IP address. Other nodes in the Substratum Network\nwill contact your node through your public IP address, requiring at least one port to be forwarded on your router. The \nSubstratumNode Gossip protocol "gossips" to other nodes the clandestine port you are listening on, and it is that port \nyou will need to open. When your node is started it will write its descriptor to the console and the log, giving the clandestine\nport it is using; you will need to forward that port from your router to your computer\'s IP address.\n\nForwarding ports on your router is somewhat technical. At a minimum, you should know how to log in to your router in \norder to make changes to its configuration. The process is interchangeably called forwarding a port, opening a port,\nor mapping a port, and may be labeled as such in the router\'s interface. Assigning a static IP address for your computer\nwill make this process easier, as otherwise your IP address can change each time your computer restarts or you restart\nthe network interface. There are many guides that you can find on the Internet by searching for "Port Forwarding" or\n"How to Port Forwarding". Here is an example: [PortForward.com](https://portforward.com)\n\nMore information on the operation, care, and feeding of the Neighborhood is available\n[in the neighborhood_subproject](https://github.com/SubstratumNetwork/SubstratumNode/tree/master/node/src/neighborhood).\n\n\n### Terminating a SubstratumNode (Zero-Hop or Decentralized)\n\nTo terminate the SubstratumNode, just press Ctrl-C in the terminal window. Then you\'ll still need to revert your\nmachine\'s DNS settings:\n```\n$ sudo SubstratumNode/dns_utility/target/release/dns_utility revert\n```\nThis should have you using the Internet normally again.\n\nHowever, if you\'ve been running decentralized, you\'ll probably want to close the holes in your router\'s firewall. Don\'t\nleave them open against the next time you run: your node will pick different clandestine ports the next time.\n\n## Errors\n\nSubstratumNode, like any other piece of software, can encounter obstacles it cannot overcome in the process of trying\nto do what you ask it to do.  It needs to be able to tell you about these insurmountable obstacles, but it lives in a\nplace that makes this difficult.  If it were a Web browser, it would have a window on which to display error messages.\nIf it were a Web server it could send data describing the errors to your browser to display. But it\'s neither of these\nthings; instead, it\'s crowded into a place in the protocol stack where neither the browser nor the server expects it\nto exist.\n\nTherefore, certain error messages are a bit awkward to display, especially if they involve TLS connections. Let\'s look\nat how SubstratumNode deals with certain kinds of errors.\n\n### HTTP\n\nAn insecure HTTP connection is one that is based on a URL that begins with `http://` (as opposed to `https://`). The\nfact that it is insecure means that SubstratumNode (and every other process that handles the data) can intrude on the\ndata stream and make your browser display whatever they want it to, which may or may not be related to what the server\non the other end of the connection intended.\n\nWhen errors occur, this is very useful for SubstratumNode. If you request something from an HTTP server, and for some\nreason SubstratumNode cannot relay your request to that server, or cannot relay the response from the server back to\nyou, it will instead impersonate the server and create a counterfeit response describing the error, and display that\nto you instead of the server response it can\'t give you. (Don\'t worry: SubstratumNode\'s impersonation of the server\nis deliberately very bad, so you can easily tell that the error is not coming from the server. You won\'t be misled).\nThe error message will describe the problem and suggest ways it might be alleviated.\n\n### TLS\n\nTLS (spoken over connections based on URLs that begin with `https://`) is a much more difficult beast. Once a TLS \nconnection is set up between your browser and a server, SubstratumNode cannot understand a single bit of the dataflow,\nand it cannot modify a single bit of it without your browser throwing red alerts and refusing to show you the modified\ndata. This is good for you and your privacy, but it doesn\'t make it easy for SubstratumNode to communicate with you\nvia the browser.\n\nThere is a small exception.\n\n_Once a TLS connection is set up,_ it\'s completely secure. But _while_ it\'s being set up, before the encrypted tunnel has\nbeen established, there\'s a little SubstratumNode can do. Specifically, it can inject what\'s called a TLS Alert into the\nstream of data, as long as it is injected very early. This TLS Alert has a single byte that SubstratumNode can use to tell\nyou about problems it has relaying your data. There are a number of predefined values this byte can take on, and\nSubstratumNode has to pick one of these values: it can\'t make up its own.\n\nIf your browser is trying to load a page when the error occurs, you\'ll see a cryptic message in its window telling you\nthat you\'re not going to get what you\'re after. The exact wording of the error depends on the exact type of the TLS\nAlert. If your browser is trying to communicate in the background when the error occurs, you probably won\'t see it on\nthe screen; but if the browser stops responding, you can open its developer tools and check the JavaScript console; if\nSubstratumNode sent a TLS Alert, you\'ll see it there.\n\nSince the concerns of the SubstratumNode aren\'t precisely the same as the concerns of a TLS endpoint, the correspondence\ncan\'t always be made exact, so here are some specific TLS Alert values that SubstratumNode produces in specific \nsituations.\n\n* Routing Failure - `internal_error`: If your node is not yet "warmed up" enough in the Substratum Network to see a\nlarge enough neighborhood to be able to create a clandestine route that meets your specifications, it will raise a\nTLS `internal_error` Alert. This will probably be displayed by your browser as some sort of protocol error--which,\nstrictly speaking, it is. If this happens, just wait awhile for your node and the Substratum Network to Gossip with\neach other and spread around the necessary information. Then try reloading the page.\n\n* DNS Resolution Failure - `unrecognized_name`: Even though you contact websites at names like `google.com` and\n`facebook.com`, the real Internet operates on the basis of IP addresses (like `172.217.6.14` and `31.13.66.35`).\nBefore it\'s useful for retrieving data, your server name has to be translated into an IP address. This is the job of a\nDNS server. Much of Internet censorship consists of crippling the DNS servers you have available to you so that they\ncan\'t give you the correct IP address for the server name you\'re seeking. SubstratumNode captures the DNS queries your\nbrowser makes and forwards them across the Substratum Network to some other node that hopefully has access to a\nnon-censored DNS server that _does_ know the IP address you want. But this is a complex task and it may fail. For\nexample, perhaps you typed the server name wrong, and _nobody_ knows an IP address it matches. Or perhaps your\nSubstratumNode guessed wrong, and the exit node to which it forwarded your DNS query is also handicapped by a censored DNS\nand can\'t find it either. In either case, SubstratumNode will send your browser a TLS `unrecognized_name` alert, which\nyour browser will probably present to you as some form of can\'t-find-host error. If you reload the page, SubstratumNode\nwill try to select a different exit node, if available--one that hasn\'t failed to resolve a DNS query--for the next \nattempt, which might bring you better fortune. Of course, if you _have_ typed the name wrong, just reloading the page\nwill take another innocent exit node out of circulation and make it even harder for you to get where you want to go.\n\n# Disclosure\n\nWe run tests on every push to `master` on these platforms:\n- Ubuntu 16.04 Desktop 64-bit\n- MacOS High Sierra\n- Windows 10 64-bit\n\nSubstratumNode doesn\'t reliably build on 32-bit Windows due to issues with the build tools for that platform. We \nrecommend using a 64-bit version to build.\n\nWe do plan to release binaries that will run on 32-bit Windows, but they will likely be built on 64-bit Windows.\n\n\nCopyright (c) 2017-2019, Substratum LLC (https://substratum.net) and/or its affiliates. All rights reserved.\n'