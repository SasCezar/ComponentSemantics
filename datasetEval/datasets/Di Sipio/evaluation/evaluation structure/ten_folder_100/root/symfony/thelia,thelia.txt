b'Readme\n======\n\n## Warning\n### This is the development repository of Thelia. If you want to create a project, please take a look at [thelia/thelia-project](https://github.com/thelia/thelia-project)\n\nThelia\n------\n[![Build Status](https://travis-ci.org/thelia/thelia.png?branch=master)](https://travis-ci.org/thelia/thelia)\n[![License](https://poser.pugx.org/thelia/thelia/license.png)](https://packagist.org/packages/thelia/thelia)\n[![Scrutinizer Quality Score](https://scrutinizer-ci.com/g/thelia/thelia/badges/quality-score.png?s=61e3e04a69bffd71c29b08e5392080317a546716)](https://scrutinizer-ci.com/g/thelia/thelia/)\n\n[Thelia](http://thelia.net/) is an open source tool for creating e-business websites and managing online content. This software is published under LGPL.\n\nThis is the new major version of Thelia.\n\nA repository containing all thelia modules is available at this address : https://github.com/thelia-modules\n\nCompatibility\n------------\n\n|  | Thelia 2.1 | Thelia 2.2 | Thelia 2.3 | Thelia 2.4 |\n| ------------- |:-------------:| -----:| -----:| -----:|\n| PHP      | 5.4 5.5 5.6 | 5.4 5.5 5.6 | 5.5 5.6 7.0 7.1 | 5.6 7.0 7.1 7.2 7.3 |\n| MySQL    | 5.5 5.6 | 5.5 5.6 | 5.5 5.6 | 5.5 5.6 5.7 |\n| Symfony  | 2.3 | 2.3 | 2.8 | 2.8 |\n\nRequirements\n------------\n\n* PHP\n    * Required extensions :\n        * PDO_Mysql\n        * openssl\n        * intl\n        * gd\n        * curl\n        * dom\n    * safe_mode off\n    * memory_limit at least 128M, preferably 256.\n    * post\\_max\\_size 20M\n    * upload\\_max\\_filesize 2M\n    * date.timezone must be defined\n* Web Server Apache 2 or Nginx\n* MySQL 5\n\n\n### MySQL 5.6\n\nAs of MySQL 5.6, default configuration sets the sql_mode value to\n\n```\nSTRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION\n```\n\nThis \'STRICT_TRANS_TABLES\' configuration results in SQL errors when no default value is defined on NOT NULL columns and the value is empty or invalid.\n\nYou can edit this default config in ` /etc/my.cnf ` and change the sql_mode to remove the STRICT_TRANS_TABLES part\n\n```\n[mysqld]\nsql_mode=NO_ENGINE_SUBSTITUTION\n```\n\nAssuming your sql_mode is the default one, you can change the value directly on the run by running the following SQL Command\n\n```sql\nSET @@GLOBAL.sql_mode=\'NO_ENGINE_SUBSTITUTION\', @@SESSION.sql_mode=\'NO_ENGINE_SUBSTITUTION\'\n```\n\nFor more information on sql_mode you can consult the [MySQL doc](http://dev.mysql.com/doc/refman/5.0/fr/server-sql-mode.html "sql Mode")\n\n## Archive builders\nThelia\'s archive builder\'s needs external libraries.\nFor zip archives, you need PECL zip. See [PHP Doc](http://php.net/manual/en/zip.installation.php)\n\nFor tar archives, you need PECL phar. Moreover, you need to deactivate php.ini option "phar.readonly":\n```ini\nphar.readonly = Off\n```\n\nFor tar.bz2 archives, you need tar\'s dependencies and the extension "bzip2". See [PHP Doc](http://php.net/manual/fr/book.bzip2.php)\n\nFor tar.gz archives, you need tar\'s dependencies and the extension "zlib". See [PHP Doc](http://fr2.php.net/manual/fr/book.zlib.php)\n\n## Download Thelia 2 and install its dependencies\n\nYou can get the sources from git and then let composer install dependencies, or use composer to install the whole thelia project into a specific directory\n\n### Using git for download and composer for dependencies\n\n``` bash\n$ git clone --recursive https://github.com/thelia/thelia path\n$ cd path\n$ git checkout 2.3.3 (2.2.6 or 2.1.11)\n$ curl -sS https://getcomposer.org/installer | php\n$ php composer.phar install\n```\n\n### Using composer for both download and dependencies\n\n``` bash\n$ curl -sS https://getcomposer.org/installer | php\n$ php composer.phar create-project thelia/thelia path/ 2.3.3 (2.2.6 or 2.1.11)\n```\n\nIf something goes wrong during the install process, you can restart Thelia install wizard with\nthe following command : `php composer.phar run-script post-create-project-cmd`\n\n## Install it\n\nYou can install Thelia by two different way\n\n### Using install wizard\n\nInstalling thelia with the web install wizard allow to create an administrator, add some informations about your shop, etc\n\nFirst of all, you have to configure a vhost as describe in [configuration](http://doc.thelia.net/en/documentation/configuration.html) section.\n\nThe install wizard in accessible with your favorite browser :\n\n``` bash\nhttp://yourdomain.tld/[/subdomain_if_needed]/install\n```\n\nFor example, I have thelia downloaded at http://thelia.net and my vhost is correctly configured, I have to reach this address :\n\n``` bash\nhttp://thelia.net/install\n```\n\n### Using cli tools\n\n``` bash\n$ php Thelia thelia:install\n```\n\nor if you use a Thelia project :\n\n``` bash\n$ php composer.phar run-script post-create-project-cmd\n```\n\nYou just have to follow all instructions.\n\n### Docker and docker compose\n\nThis repo contains all the configuration needed to run Thelia with docker and docker-compose.\n\nIt requires obviously [docker](https://docker.com/) and [docker-compose](http://docs.docker.com/compose/)\n\nTo install Thelia within Docker, run :\n\n```\ndocker-compose up -d\ndocker-compose exec web composer install\ndocker-compose exec web php Thelia thelia:install\n```\n\nThis will prompt you for database information. Enter the following :\n\n* host : mariaDB\n* port : 3306 (default)\n* name : thelia\n* login : root\n* password : toor\n\ntip : create an alias for docker-compose, it\'s boring to write it all the time\n\nAll the scripts can be launched through docker (or the corresponding `docker-compose exec web ...` command. For example :\n\n```\ndocker exec -it thelia_web_1 composer install\ndocker exec -it thelia_web_1 php Thelia cache:clear\ndocker exec -it thelia_web_1 php setup/faker.php\ndocker exec -it thelia_web_1 unit-tests.sh\n```\n\nOnce started, you can open your local Thelia website at [127.0.0.1:8080](http://127.0.0.1:8080) and your phpMyAdmin installation at [127.0.0.1:8081](http://127.0.0.1:8081).\n\nWhat is missing :\n\n* confguration for export compression (zip, gzip, etc)\n\nObviously you can modify all the configuration for your own case, for example the php version or add environment variable for the database configuration. Each time you modify the configuration, you have to rebuild it :\n\n```\ndocker-compose build --no-cache\n```\n\nDocumentation\n-------------\n\nThelia documentation is available at http://doc.thelia.net\n\n\nRoadmap\n-------\n\nThe Roadmap is available at http://thelia.net/community/roadmap\n\n\nContribute\n----------\n\nsee the documentation : http://doc.thelia.net/en/documentation/contribute.html\n\nIf you submit modifications that adds new data or change the structure of the database, take a look to http://doc.thelia.net/en/documentation/contribute.html#sql-scripts-modification\n\nUsage\n-----\n\nConsult the page : http://localhost/thelia/web/index_dev.php\n\nYou can create a virtual host and choose web folder for root directory.\n\nTo run tests (phpunit required) :\n\n``` bash\n$ phpunit\n```\n\nWe still have lot of work to achieve but enjoy this part.\n'