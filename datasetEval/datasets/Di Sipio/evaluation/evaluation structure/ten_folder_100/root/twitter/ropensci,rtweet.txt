b'\n<!-- README.md is generated from README.Rmd. Please edit that file -->\n\n# rtweet <img src="man/figures/logo.png" width="160px" align="right" />\n\n[![Build\nStatus](https://travis-ci.org/ropensci/rtweet.svg?branch=master)](https://travis-ci.org/ropensci/rtweet)\n[![CRAN\nstatus](https://www.r-pkg.org/badges/version/rtweet)](https://cran.r-project.org/package=rtweet)\n[![Coverage\nStatus](https://codecov.io/gh/ropensci/rtweet/branch/master/graph/badge.svg)](https://codecov.io/gh/ropensci/rtweet?branch=master)\n[![DOI](https://zenodo.org/badge/64161359.svg)](https://zenodo.org/badge/latestdoi/64161359)\n[![](https://badges.ropensci.org/302_status.svg)](https://github.com/ropensci/software-review/issues/302)\n[![Project Status: Active \xe2\x80\x93 The project has reached a stable, usable\nstate and is being actively\ndeveloped.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)\n![Downloads](https://cranlogs.r-pkg.org/badges/rtweet)\n![Downloads](https://cranlogs.r-pkg.org/badges/grand-total/rtweet)\n[![lifecycle](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing)\n[![DOI](https://joss.theoj.org/papers/10.21105/joss.01829/status.svg)](https://doi.org/10.21105/joss.01829)\n\nR client for accessing Twitter\xe2\x80\x99s REST and stream APIs. Check out the\n[rtweet package documentation website](https://rtweet.info).\n\n### Package Functionality\n\nThere are several R packages for interacting with Twitter\xe2\x80\x99s APIs. See\nhow {rtweet} compares to these others in the chart below.\n\n| Task                        | [rtweet](https://github.com/ropensci/rtweet) | [twitteR](https://github.com/geoffjentry/twitteR) | [streamR](https://github.com/pablobarbera/streamR) | [RTwitterAPI](https://github.com/joyofdata/RTwitterAPI) |\n| --------------------------- | -------------------------------------------- | ------------------------------------------------- | -------------------------------------------------- | ------------------------------------------------------- |\n| Available on CRAN           | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Updated since 2016          | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Non-\xe2\x80\x98developer\xe2\x80\x99 access      | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Extended tweets (280 chars) | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Parses JSON data            | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Converts to data frames     | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Automated pagination        | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Search tweets               | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Search users                | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Stream sample               | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Stream keywords             | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Stream users                | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9c\x85                                                  | \xe2\x9d\x8c                                                       |\n| Get friends                 | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9c\x85                                                       |\n| Get timelines               | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get mentions                | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get favorites               | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get trends                  | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get list members            | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get list memberships        | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get list statuses           | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get list subscribers        | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get list subscriptions      | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get list users              | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Lookup collections          | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Lookup friendships          | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Lookup statuses             | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Lookup users                | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get retweeters              | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Get retweets                | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x93                                                       |\n| Post tweets                 | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Post favorite               | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Post follow                 | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Post messsage               | \xe2\x9c\x85                                            | \xe2\x9c\x85                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Post mute                   | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Premium 30 day              | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Premium full archive        | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n| Run package tests           | \xe2\x9c\x85                                            | \xe2\x9d\x8c                                                 | \xe2\x9d\x8c                                                  | \xe2\x9d\x8c                                                       |\n\n## Responsible use\n\n**{{rtweet}}** should be used in strict accordance with Twitter\xe2\x80\x99s\n[developer\nterms](https://developer.twitter.com/en/developer-terms/more-on-restricted-use-cases).\n\n## Installation\n\nTo get the current released version from CRAN:\n\n``` r\n## install rtweet from CRAN\ninstall.packages("rtweet")\n\n## load rtweet package\nlibrary(rtweet)\n```\n\nTo get the current development version from Github:\n\n``` r\n## install remotes package if it\'s not already\nif (!requireNamespace("remotes", quietly = TRUE)) {\n  install.packages("remotes")\n}\n\n## install dev version of rtweet from github\nremotes::install_github("ropensci/rtweet")\n\n## load rtweet package\nlibrary(rtweet)\n```\n\n## Usage\n\nAll you need is a **Twitter account** (user name and password) and you\ncan be up in running in minutes\\!\n\nSimply send a request to Twitter\xe2\x80\x99s API (with a function like\n`search_tweets()`, `get_timeline()`, `get_followers()`,\n`get_favorites()`, etc.) during an interactive session of R, authorize\nthe embedded **`rstats2twitter`** app (approve the browser popup), and\nyour token will be created and saved/stored (for future sessions) for\nyou\\!\n\n### API authorization\n\nAll users must be authorized to interact with Twitter\xe2\x80\x99s APIs. To become\nauthorized, simply use a function like `search_tweets()`,\n`get_timeline()`, `get_followers()`, or `get_favorites()` in an\ninteractive session an authorize via web browser popup on behalf of your\nTwitter account\\!\n\n**It is no longer necessary to obtain a developer account and create\nyour own Twitter application to use Twitter\xe2\x80\x99s API.** You may still\nchoose to do this (gives you more stability and permissions; see the\ntable at the bottom of this section), but **{rtweet}** should work out\nof the box assuming (a) you are working in an interactive/live session\nof R and (b) you have installed the\n[**{httpuv}**](https://github.com/rstudio/httpuv) package.\n\n  - If you still want to apply for a developer account and create your\n    own application, see the `auth` vignette (or the API authorization\n    section below) for additional instructions:\n    <https://rtweet.info/articles/auth.html>.\n\n| Task                       | rstats2twitter | user-app |\n| -------------------------- | -------------- | -------- |\n| Work interactively         | \xe2\x9c\x85              | \xe2\x9c\x85        |\n| Search/lookup tweets/users | \xe2\x9c\x85              | \xe2\x9c\x85        |\n| Get friends/followers      | \xe2\x9c\x85              | \xe2\x9c\x85        |\n| Get timelines/favorites    | \xe2\x9c\x85              | \xe2\x9c\x85        |\n| Get lists/collections      | \xe2\x9c\x85              | \xe2\x9c\x85        |\n| Post tweets                | \xe2\x9d\x8c              | \xe2\x9c\x85        |\n| Run package tests          | \xe2\x9d\x8c              | \xe2\x9c\x85        |\n| Use Bearer token           | \xe2\x9d\x8c              | \xe2\x9c\x85        |\n| Read/Write Direct Messages | \xe2\x9d\x8c              | \xe2\x9c\x85        |\n\n### Vignettes\n\n[Obtaining and using Twitter API\ntokens](https://rtweet.info/articles/auth.html)\n\n``` r\n## quick overview of rtweet functions\nvignette("auth", package = "rtweet")\n```\n\n[Quick overview of rtweet\npackage](https://rtweet.info/articles/intro.html)\n\n``` r\n## quick overview of rtweet functions\nvignette("intro", package = "rtweet")\n```\n\n[Live streaming tweets data](https://rtweet.info/articles/stream.html)\n\n``` r\n## working with the stream\nvignette("stream", package = "rtweet")\n```\n\n[Troubleshooting common rtweet\nproblems](https://rtweet.info/articles/FAQ.html)\n\n``` r\n## working with the stream\nvignette("FAQ", package = "rtweet")\n```\n\n### Package features\n\n#### Search tweets\n\nSearch for up to 18,000 (non-retweeted) tweets containing the rstats\nhashtag.\n\n``` r\n## search for 18000 tweets using the rstats hashtag\nrt <- search_tweets(\n  "#rstats", n = 18000, include_rts = FALSE\n)\n```\n\nQuickly visualize frequency of tweets over time using `ts_plot()`.\n\n``` r\n## plot time series of tweets\nrt %>%\n  ts_plot("3 hours") +\n  ggplot2::theme_minimal() +\n  ggplot2::theme(plot.title = ggplot2::element_text(face = "bold")) +\n  ggplot2::labs(\n    x = NULL, y = NULL,\n    title = "Frequency of #rstats Twitter statuses from past 9 days",\n    subtitle = "Twitter status (tweet) counts aggregated using three-hour intervals",\n    caption = "\\nSource: Data collected from Twitter\'s REST API via rtweet"\n  )\n```\n\n![](tools/readme/example-rstatsts.png)\n\nTwitter rate limits cap the number of search results returned to 18,000\nevery 15 minutes. To request more than that, simply set\n`retryonratelimit = TRUE` and rtweet will wait for rate limit resets for\nyou.\n\n``` r\n## search for 250,000 tweets containing the word data\nrt <- search_tweets(\n  "data", n = 250000, retryonratelimit = TRUE\n)\n```\n\nSearch by geo-location\xe2\x80\x94for example, find 10,000 tweets in the English\nlanguage sent from the United States. *Note: `lookup_coords()` requires\nusers have [a Google API\nkey](https://developers.google.com/maps/documentation/javascript/tutorial)*\n\n``` r\n## search for 10,000 tweets sent from the US\nrt <- search_tweets(\n  "lang:en", geocode = lookup_coords("usa"), n = 10000\n)\n\n## create lat/lng variables using all available tweet and profile geo-location data\nrt <- lat_lng(rt)\n\n## plot state boundaries\npar(mar = c(0, 0, 0, 0))\nmaps::map("state", lwd = .25)\n\n## plot lat and lng points onto state map\nwith(rt, points(lng, lat, pch = 20, cex = .75, col = rgb(0, .3, .7, .75)))\n```\n\n![](tools/readme/example-statemap.png)\n\n#### Stream tweets\n\nRandomly sample (approximately 1%) from the live stream of all tweets.\n\n``` r\n## random sample for 30 seconds (default)\nrt <- stream_tweets("")\n```\n\nStream all geo enabled tweets from London for 60 seconds.\n\n``` r\n## stream tweets from london for 60 seconds\nrt <- stream_tweets(lookup_coords("london, uk"), timeout = 60)\n```\n\nStream all tweets mentioning realDonaldTrump or Trump for a week.\n\n``` r\n## stream london tweets for a week (60 secs x 60 mins * 24 hours *  7 days)\nstream_tweets(\n  "realdonaldtrump,trump",\n  timeout = 60 * 60 * 24 * 7,\n  file_name = "tweetsabouttrump.json",\n  parse = FALSE\n)\n\n## read in the data as a tidy tbl data frame\ndjt <- parse_stream("tweetsabouttrump.json")\n```\n\n#### Get friends\n\nRetrieve a list of all the accounts a **user follows**.\n\n``` r\n## get user IDs of accounts followed by CNN\ncnn_fds <- get_friends("cnn")\n\n## lookup data on those accounts\ncnn_fds_data <- lookup_users(cnn_fds$user_id)\n```\n\n##### Get followers\n\nRetrieve a list of the **accounts following** a user.\n\n``` r\n## get user IDs of accounts following CNN\ncnn_flw <- get_followers("cnn", n = 75000)\n\n## lookup data on those accounts\ncnn_flw_data <- lookup_users(cnn_flw$user_id)\n```\n\nOr if you really want ALL of their followers:\n\n``` r\n## how many total follows does cnn have?\ncnn <- lookup_users("cnn")\n\n## get them all (this would take a little over 5 days)\ncnn_flw <- get_followers(\n  "cnn", n = cnn$followers_count, retryonratelimit = TRUE\n)\n```\n\n#### Get timelines\n\nGet the most recent 3,200 tweets from cnn, BBCWorld, and foxnews.\n\n``` r\n## get user IDs of accounts followed by CNN\ntmls <- get_timelines(c("cnn", "BBCWorld", "foxnews"), n = 3200)\n\n## plot the frequency of tweets for each user over time\ntmls %>%\n  dplyr::filter(created_at > "2017-10-29") %>%\n  dplyr::group_by(screen_name) %>%\n  ts_plot("days", trim = 1L) +\n  ggplot2::geom_point() +\n  ggplot2::theme_minimal() +\n  ggplot2::theme(\n    legend.title = ggplot2::element_blank(),\n    legend.position = "bottom",\n    plot.title = ggplot2::element_text(face = "bold")) +\n  ggplot2::labs(\n    x = NULL, y = NULL,\n    title = "Frequency of Twitter statuses posted by news organization",\n    subtitle = "Twitter status (tweet) counts aggregated by day from October/November 2017",\n    caption = "\\nSource: Data collected from Twitter\'s REST API via rtweet"\n  )\n```\n\n![](tools/readme/example-tmls.png)\n\n#### Get favorites\n\nGet the 3,000 most recently favorited statuses by JK Rowling.\n\n``` r\njkr <- get_favorites("jk_rowling", n = 3000)\n```\n\n#### Search users\n\nSearch for 1,000 users with the rstats hashtag in their profile bios.\n\n``` r\n## search for users with #rstats in their profiles\nusrs <- search_users("#rstats", n = 1000)\n```\n\n#### Get trends\n\nDiscover what\xe2\x80\x99s currently trending in San Francisco.\n\n``` r\nsf <- get_trends("san francisco")\n```\n\n#### Post actions\n\n  - Posting (tweeting from R console) or reading direct messages require\n    additional permissions\n  - If you\xe2\x80\x99d like to post Twitter statuses, follow or unfollow accounts,\n    and/or read your direct messages, you\xe2\x80\x99ll need to create your own\n    Twitter app\n  - To create your own Twitter app, follow the instructions in the\n    authorization vignette on [obtaining and using access\n    tokens](https://rtweet.info/articles/auth.html)\n\n## Contact\n\nCommunicating with Twitter\xe2\x80\x99s APIs relies on an internet connection,\nwhich can sometimes be inconsistent. With that said, if you encounter an\nobvious bug for which there is not already an active\n[issue](https://github.com/ropensci/rtweet/issues), please [create a new\nissue](https://github.com/ropensci/rtweet/issues/new) with all code used\n(preferably a reproducible example) on Github.\n\n[![ropensci\\_footer](https://ropensci.org/public_images/ropensci_footer.png)](https://ropensci.org)\n'