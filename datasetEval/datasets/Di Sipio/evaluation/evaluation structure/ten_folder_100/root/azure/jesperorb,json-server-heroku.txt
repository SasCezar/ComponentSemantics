b'# Deploy `json-server` to `{{ free hosting site }}`\n\n> Instructions how to deploy the full fake REST API [json-server](https://github.com/typicode/json-server) to various free hosting sites. Should only be used in development purpose but can act as a simpler database for smaller applications.\n\n<img src="https://raw.githubusercontent.com/typicode/json-server/master/src/server/public/images/json.png" align="right">\n\n* [**Create your database**](#create-your-database)\n* [Deploy to **Heroku**](#deploy-to-heroku)\n* [Deploy to **now**](#deploy-to-now)\n* [Deploy to **Azure**](#deploy-to-azure)\n\n\n## Create your database\n\n1 . Clone this repo to anywhere on your computer.\n\n```bash\ngit clone https://github.com/jesperorb/json-server-heroku.git\n```\n\n2 . Change `db.json` to **your own content** according to the [`json-server example`](https://github.com/typicode/json-server#example) and then `commit` your changes to git. \n\n_this example will create `/posts` route , each resource will have `id`, `title` and `content`. `id` will auto increment!_\n```json\n{\n  "posts":[\n    {\n      "id" : 0,\n      "title": "First post!",\n      "content" : "My first content!"\n    }\n  ]\n}\n```\n\n---\n\n## Deploy to **Heroku**\n\n<img align="right" width="100px" height="auto" src="https://cdn.worldvectorlogo.com/logos/heroku.svg" alt="Heroku">\n\nHeroku is a free hosting service for hosting small projects. Easy setup and deploy from the command line via _git_.\n\n###### Pros\n\n* Easy setup\n* Free\n\n###### Cons\n\n* App has to sleep a couple of hours every day.\n* "Powers down" after 30 mins of inactivity. Starts back up when you visit the site but it takes a few extra seconds. Can maybe be solved with [**Kaffeine**](http://kaffeine.herokuapp.com/)\n\n---\n\n### Install Heroku\n\n1 . [Create your database](#create-your-database)\n\n2 . Create an account on <br/>[https://heroku.com](https://heroku.com)\n\n3 . Install the Heroku CLI on your computer: <br/>[https://devcenter.heroku.com/articles/heroku-cli](https://devcenter.heroku.com/articles/heroku-cli)\n\n4 . Connect the Heroku CLI to your account by writing the following command in your terminal and follow the instructions on the command line:\n```bash\nheroku login\n```\n\n5 . Then create a remote heroku project, kinda like creating a git repository on GitHub. This will create a project on Heroku with a random name. If you want to name your app you have to supply your own name like `heroku create project-name`:\n```bash\nheroku create my-cool-project\n```\n\n6 . Push your app to __Heroku__ (you will see a wall of code)\n```bash\ngit push heroku master\n```\n\n7 . Visit your newly create app by opening it via heroku:\n```bash\nheroku open\n```\n\n8 . For debugging if something went wrong:\n```bash\nheroku logs --tail\n```\n\n---\n\n#### How it works\n\nHeroku will look for a startup-script, this is by default `npm start` so make sure you have that in your `package.json` (assuming your script is called `server.js`):\n```json\n "scripts": {\n    "start" : "node server.js"\n }\n```\n\nYou also have to make changes to the port, you can\'t hardcode a dev-port. But you can reference herokus port. So the code will have the following:\n```js\nconst port = process.env.PORT || 4000;\n```\n\n---\n\n## Deploy to **now**\n\n1 . [Create your database](#create-your-database)\n\n2 . Install now cli-tool globally\n```bash\nnpm install -g now\n```\n\n3 . Run the `now` command in this folder/repo where your project is. If you run it for the first time, you will be prompted to login, after login, run the command again:\n```\nnow --public\n```\n_`--public` is to skip the prompt telling you that you will open source your project if you deploy it to now_\n\n4 . The URL will be copied automatically and you can just paste it into your browser.\n\n5. **Optional**: Rename the deployment:\n```bash\nnow alias https://your-deployed-name.now.sh new-name\n```\n_first argument is the deployed site, second argument is the new name to give it_\n\n---\n\n## Deploy to **Azure**\n\n<img align="right" width="100px" height="auto" src="https://docs.microsoft.com/en-us/azure/media/index/azure-germany.svg" alt="Azure">\n\nYou can also use _Microsoft Azure_ to deploy a smaller app for free to the Azure platform. The service is not as easy as _Heroku_ and you might go insane because the documentation is really really bad at some times and it\'s hard to troubleshoot.\n\nThe **pros** are that on _Azure_ the app **will not be forced to sleep**. It will sleep automatically on inactivity but you can just visit it and it will start up.\n\n## Installation\n\n1 . Create a Microsoft Account that you can use on Azure: </br>\nhttps://azure.microsoft.com/\n\n2 . Install the `azure-cli`: <br/>\nhttps://docs.microsoft.com/en-us/cli/azure/install-azure-cli\n_This might cause some trouble, you will see. Remember to restart your terminal or maybe your computer if the commands after this does not work_\n\n3 . Login to the service via the command line and follow the instructions: </br>\n```bash\naz login\n```\n_You will be prompted to visit a website and paste a confirmation code_\n\n\n## Create the project\n\n1 . [Create your database](#create-your-database)\n\n2 . Create a resource group for your projects, replace the name to whatever you want just be sure to use the same group name in all commands to come. You only have to create the resource group and service plan once, then you can use the same group and plan for all other apps you create if you like.\n\n```bash\naz group create -n NameOfResourceGroup -l northeurope\n```\n\n3 . Create a service plan:\n\n```\naz appservice plan create -n NameOfServicePlan -g NameOfResourceGroup\n```\n\n4 . Create the actual app and supply the service plan and resource group\n```bash\naz webapp create -n NameOfApp -g NameOfResourceGroup --plan NameOfServicePlan\n```\n\n5 . Create deployment details. A git-repo is not created automatically so we have to create it with a command:\n\n```bash\naz webapp deployment source config-local-git -n NameOfApp -g NameOfResourceGroup\n```\n\n6 . From the command in step 5 you should get a **url** in return. Copy this url and add it as a remote to your local git project, for example:\n\n```bash\ngit remote add azure https://jesperorb@deploy-testing.scm.azurewebsites.net/deploy-testing.git\n```\n\n7 . Now you should be able to push your app:\n```bash\ngit push azure master\n```\n\nYou should be prompted to supply a password, this should be the pass to your account. If not, you can choose a different password at your Dashboard for Azure: **[https://portal.azure.com/](https://portal.azure.com/)**\n\nChoose **App Services** in the sidebar to the left and the choose your app in the list that appears then go to **Deployment Credentials** to change your password for deployment:<br>\nhttps://docs.microsoft.com/en-us/azure/app-service/app-service-deployment-credentials\n'