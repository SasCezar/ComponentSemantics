b'# Ember-C3 \n\n[![npm version](https://badge.fury.io/js/ember-c3.svg)](http://badge.fury.io/js/ember-c3)\n[![Join the chat at https://gitter.im/Glavin001/ember-c3](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/Glavin001/ember-c3?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n \nEmber component library for [C3, a D3-based reusable chart library](https://github.com/masayuki0812/c3).\n\n**See the demo [here](http://glavin001.github.io/ember-c3/)** \n\n<!-- Alternatively take a look at [Ember-NVD3](https://github.com/Glavin001/ember-nvd3) for your charting needs. -->\n\n## Ember Versions\n\nEmber 2.18 and above\n\n---\n\n\nCompatibility\n------------------------------------------------------------------------------\n\n* Ember.js v3.4 or above\n* Ember CLI v2.13 or above\n* Node.js v8 or above\n\n\nInstallation\n------------------------------------------------------------------------------\n\n```shell\nember install ember-c3\n```\n\n## Usage\n\nComponent usage and properties are [below](#basic). The code for these example charts and more is in the [dummy app source code](https://github.com/Glavin001/ember-c3/tree/master/tests/dummy/app).\n\n> The dummy app has been rewritten using native classes, decorators and Ember features available in Ember 3.12. If you want to see the same examples using the Ember object model and classic syntax look at the dummy app in an earlier version.\n\n------------------------------------------------------------------------------\n\n| Combination                                                                                                   |\n|---------------------------------------------------------------------------------------------------------------|\n| ![image](https://cloud.githubusercontent.com/assets/1885333/9792404/4e750a06-57b6-11e5-96c1-8a6cabdef4ac.png) |\n\n| Timeseries                                                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------|\n| ![ember-c3-timeseries-4](https://cloud.githubusercontent.com/assets/1885333/9792600/6032061c-57b7-11e5-9a2c-80e680d274a5.gif) |\n\n| Gauge                                                                                                                    | Pie                                                                                                                    | Donut                                                                                                                    |\n|--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|\n| ![ember-c3-gauge-2](https://cloud.githubusercontent.com/assets/1885333/9792503/c7ebc05a-57b6-11e5-8d43-116e9dd7c368.gif) | ![ember-c3-pie-1](https://cloud.githubusercontent.com/assets/1885333/9792639/8f90f5ee-57b7-11e5-859c-9a083255df4a.gif) | ![ember-c3-donut-1](https://cloud.githubusercontent.com/assets/1885333/9792665/ad4a6ee4-57b7-11e5-90d4-df152b24e4a3.gif) |\n\n### Basic\n\nWhere `this.model` is your C3 data and chart options:\n\n```handlebars\n<C3Chart @data={{this.model}} />\n```\n\n> Note: Angle brackets were available in Ember 3.4 but a bug prevented the use of numbers in component names until Ember 3.8. Ember-C3 can use angle brackets only with Ember 3.8 and later . Reference PR [#17552](https://github.com/emberjs/ember.js/pull/17552). \n\nUsing classic invocation:\n\n```handlebars\n{{c3-chart data=model}}\n```\n\n### Advanced\n\nSee http://c3js.org/examples.html for examples of how to use C3.\n\n### Component Properties\nThe properties match the corresponding C3 options found in the [C3 Documentation](https://c3js.org/gettingstarted.html#generate). As documented, most C3 settings (i.e. bar, axis, size, etc) can be included in the data object.\n\nThe component properties break out the settings to simplify chart configuration. Note: The chart type **must be** assigned in the chart data object.\n\nProperties marked with an asterisk (*) will update the chart when the property changes. See examples in the dummy app.\n\n| Property    | Description                                                                                                                                                                                                                                    | Example                             |\n|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n| c3chart     | Points to the generated C3 chart. Any C3 API method can be used with this property                                                                                                                                                             | chart.hide("data1")                 |\n| data*       | C3 data [object](https://c3js.org/gettingstarted.html#generate). `data` is mutable after the charge is created                                                                                                                                 |                                     |\n| axis*       | C3 axis [object](https://c3js.org/reference.html#axis-rotated). See C3 examples for combining with data object. Chart axis are mutable after the chart is created                                                                              |                                     |\n| bar         | Used to assign bar chart [properties](https://c3js.org/reference.html#bar-width)                                                                                                                                                               |                                     |\n| pie         | Used to assign pie chart [properties](https://c3js.org/reference.html#pie-label-show)                                                                                                                                                          |                                     |\n| donut       | Used to assign donut chart [properties](https://c3js.org/reference.html#donut-label-show)                                                                                                                                                      |                                     |\n| gauge       | Used to assign gauge chart [properties](https://c3js.org/reference.html#gauge-label-show)                                                                                                                                                      |                                     |\n| line        | Used to assign line chart [properties](https://c3js.org/reference.html#line-connectNull)                                                                                                                                                       |                                     |\n| area        | Used to assign area chart [properties](https://c3js.org/reference.html#area-zerobased)                                                                                                                                                         |                                     |\n| point       | Used to assign data point [properties](https://c3js.org/reference.html#point-show)                                                                                                                                                             |                                     |\n| grid        | Used to show, hide and modify the graph grid.  See [docs](https://c3js.org/reference.html#grid-x-show)                                                                                                                                         |                                     |\n| legend      | Show, hide and modify the legend position.  See [docs](https://c3js.org/reference.html#legend-show)                                                                                                                                            |                                     |\n| tooltip     | Show, hide and modify the tooltip.  See [docs](https://c3js.org/reference.html#tooltip-show)                                                                                                                                                   |                                     |\n| subchart    | Show, hide and modify C3 sub charts.  See [docs](https://c3js.org/reference.html#subchart-show)                                                                                                                                                |                                     |\n| zoom        | Set C3 zoom features. See [docs](https://c3js.org/reference.html#zoom-enabled)                                                                                                                                                                 |                                     |\n| size        | Control chart size see [docs](https://c3js.org/reference.html#size-width)                                                                                                                                                                      | size: {width: 640 }                 |\n| padding     | Set padding around graph.  See [docs](https://c3js.org/reference.html#padding-top)                                                                                                                                                             | padding: { top: 20}                 |\n| title       | Set chart title                                                                                                                                                                                                                                | title: { text: "This is my chart" } |\n| interaction | Enable or disable [interactions](https://c3js.org/reference.html#interaction-enabled)                                                                                                                                                          | interaction: { enabled: false }     |\n| color*      | Used to assign color [properties](https://c3js.org/reference.html#color-pattern). Chart colors are mutable after chart creation                                                                                                                |                                     |\n| dtitle      | Dynamically change the chart title. See details below                                                                                                                                                                                          |                                     |\n| transition  | Equivalent to [transition.duration](https://c3js.org/reference.html#transition-duration).  Default duration is 350ms.  Transition times less than 300ms may not render properly.  Use chart.load() and .unload() if shorter times are required |                                     |\n  unloadDataBeforeChange | When set to true the data will be unloaded before new data is loaded with didUpdateAttrs().  Useful for pie and donut chart data changes.  Also do data changes with .load() and .unload()\n\n\n### dtitle\nThe `dtitle` property is used to dynamically change a chart\'s title. C3 doesn\'t natively support this without forcing a chart redraw which can cause side effects. This is especially true if the graph data is being dynamically changed using C3\'s API.\n\nThe title can be set using the `.c3-title` class but that doesn\'t provide abstraction from C3\'s internals.\n\n`dtitle` gives you some control over side effects using a parameter to control how the graph is refreshed. An object with the new title and a `refresh` parameter is used to indicate whether all properties should be refreshed or only the chart title.  \n\nSetting `refresh` to false will only refresh the title and ignore changes to the data, colors and axis properties. A short example is below. See the drill down example to see how `dttile` is used and potential side effects.\n\nThe chart\'s initial title is set using the `title` parameter.  \n\n```handlebars\n<C3Chart @data={{this.graphData}} @title={{this.title}} @dtitle={{this.dtitle}} />\n\n<button {{on "click" this.changeTitle}}>Change Title</button>\n```\n\n```javascript\nimport Controller from "@ember/controller";\nimport { computed } from "@ember/object";\nimport { action } from "@ember/object";\n\nexport default class ApplicationController extends Controller {\n \n  title = { text: "Coffee Brewing" };\n\n  @computed\n  get graphData() {\n    return {\n      columns: [\n        ["Cold Brewed", 12],\n        ["Drip", 67],\n        ["French Press", 14],\n        ["Iced", 38],\n        ["Percolated", 64]\n      ],\n      type: "pie"\n    };\n  }\n\n  @action\n  changeTitle() {\n    this.set("dtitle", { text: "Making coffee!", refresh: false });\n  }\n}\n```\n\n### C3 Methods\nIf you assign a controller property to the c3chart property, you can use most of C3\'s api [methods](https://c3js.org/reference.html#api-focus).  Not all the methods have been tested.\n\n```handlebars\n{{!-- templates/application.hbs --}}\n<C3Chart @data={{this.baseData}} @c3chart={{this.chart}} />\n\n<button {{on "click" this.loadUS}}>US Cars</button>\n<button {{on "click" this.loadGerman}}>German Cars</button>\n<button {{on "click" this.resetData}}>Reset</button>\n```\n\n```javascript\n// controllers/application.js\nimport { action } from "@ember/object";\nimport Controller from "@ember/controller";\n\nexport default class ApplicationController extends Controller {\n  chart = null;\n\n  baseData = {\n    columns: [\n      ["US", 64],\n      ["German", 36]\n    ],\n    type: "donut"\n  };\n\n  modelsGerman = [\n    ["Mercedes", 12],\n    ["Volkswagon", 54],\n    ["BMW", 34]\n  ];\n\n  modelsUS = [\n    ["Ford", 35],\n    ["Chevy", 26],\n    ["Tesla", 2],\n    ["Buick", 10],\n    ["Dodge", 27]\n  ];\n\n  @action\n  resetData() {\n    this.chart.load(this.baseData);\n    this.chart.unload([\n      "Mercedes",\n      "Volkswagon",\n      "BMW",\n      "Ford",\n      "Chevy",\n      "Tesla",\n      "Buick",\n      "Dodge"\n    ]);\n  }\n\n  @action\n  loadUS() {\n    this.chart.load({ columns: this.modelsUS });\n    this.chart.unload("US", "German");\n  }\n\n  @action\n  loadGerman() {\n    this.chart.load({ columns: this.modelsGerman });\n    this.chart.unload("US", "German");\n  }\n}\n```\n\n### C3 Events\nC3 emits two types of events - [chart](https://c3js.org/reference.html#oninit) and [data](https://c3js.org/reference.html#data-onclick) events. Chart events properties are assigned a closure action. Data events **must** be assigned an action in the data object.\n\nThe following C3 chart events are supported by `ember-c3`.\n\n| Events      | Description                                 | Example                             |\n|-------------|---------------------------------------------|-------------------------------------|\n| oninit      | Triggered when chart is initialized         | @oninit={{action "init"}}           |\n| onrendered  | Triggered when chart is rendered or redrawn | @onrendered={{action "render"}}     |\n| onmouseover | Triggered when mouse enters the chart       | @onmouseover={{action "mouseover"}} |\n| onmouseout  | Triggered when mouse leaves the chart       | @onmouseout={{action "mouseout"}}   |\n| onresize    | Triggered when screen is resized            | @onresize={{action "resize"}}       |\n| onresized   | Triggered when resizing is completed        | @onresized={{action "resized"}}     |\n\n\nFor convenience, the chart object is passed to the trigger handler. The chart is not passed to _oninit_ because it hasn\'t been created yet. An example chart with data events is shown below. Note that `bind` is required for tying actions to data events. This example uses native classes.  See the dummy app for more examples.\n\n```handlebars\n{{!-- templates/application.hbs --}}\n<C3Chart\n  @data={{this.data}}\n  @oninit={{action this.setup}}\n/>\n```\n\n```javascript\n// controllers/application.js\nimport Controller from "@ember/controller";\nimport { computed } from "@ember/object";\nimport { bind } from "@ember/runloop";\n\nexport default class ApplicationController extends Controller {\n\n  @computed\n  get data() {\n    // iris data from R\n    return {\n      columns: [\n        ["data1", 30],\n        ["data2", 120],\n        ["data3", 10],\n        ["data4", 45],\n        ["data5", 90]\n      ],\n      type: "pie",\n      // bind is required for data events\n      onclick: bind(this, this.onClick)\n    };\n  }\n\n  // oninit chart event\n  setup() {\n    console.log("chart inited")\n  }\n\n  // data event - triggered when data point clicked\n  onClick(d, i) {\n    alert(`Data ${d.name} has a value of ${d.value}`)\n  }\n}\n```\n### Accessing D3\n\nYou can use the D3 library in your application by importing it where needed\n\n```javascript\nimport d3 from "d3";\n```\nSee the D3 [example](https://github.com/Glavin001/ember-c3/blob/master/tests/dummy/app/controllers/d3.js) in the dummy app.\n\n### Helpful Links\n\n- [Extending ember-c3 charts using base-component approach](https://medium.com/nimbo-x-development/extending-ember-c3-charts-using-base-component-approach-78df1d635050#.k8j8gnnqa)\n\n\nSee the [Contributing](CONTRIBUTING.md) guide for details.\n\n\nLicense\n------------------------------------------------------------------------------\n\nThis project is licensed under the [MIT License](LICENSE.md).\n'