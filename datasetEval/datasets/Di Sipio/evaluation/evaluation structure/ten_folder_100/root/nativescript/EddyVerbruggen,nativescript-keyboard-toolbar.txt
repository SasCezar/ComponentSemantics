b'# NativeScript Keyboard Toolbar\n\n[![Build Status][build-status]][build-url]\n[![NPM version][npm-image]][npm-url]\n[![Downloads][downloads-image]][npm-url]\n[![Twitter Follow][twitter-image]][twitter-url]\n\n[build-status]:https://travis-ci.org/EddyVerbruggen/nativescript-keyboard-toolbar.svg?branch=master\n[build-url]:https://travis-ci.org/EddyVerbruggen/nativescript-keyboard-toolbar\n[npm-image]:http://img.shields.io/npm/v/nativescript-keyboard-toolbar.svg\n[npm-url]:https://npmjs.org/package/nativescript-keyboard-toolbar\n[downloads-image]:http://img.shields.io/npm/dm/nativescript-keyboard-toolbar.svg\n[twitter-image]:https://img.shields.io/twitter/follow/eddyverbruggen.svg?style=social&label=Follow%20me\n[twitter-url]:https://twitter.com/eddyverbruggen\n\n<img src="https://github.com/EddyVerbruggen/nativescript-keyboard-toolbar/raw/master/media/keyboard-toolbar-demo.gif" height="550px" />\n\n_iOS and Android running the included [demo](/demo) - much better framerate [on YouTube](https://www.youtube.com/watch?v=JJOOXrcopSA)!_\n\n## What The Keyboard!?\nGlad you asked \xf0\x9f\x98\x85!\n\n- \xe2\x8c\xa8\xef\xb8\x8f Mobile keyboards are a compromise at best. Let\'s make them easier to work with by attaching a toolbar on top of it.\n- \xf0\x9f\xa5\x85 Design goal = declare any NativeScript layout and stick it on top of the soft keyboard.\n- \xf0\x9f\x8f\x92 Make the toolbar _stick_ to the keyboard, no matter its shape or form.\n- \xf0\x9f\x99\x85\xe2\x80\x8d\xe2\x99\x80\xef\xb8\x8f No third party dependencies; use only stuff from `tns-core-modules` (which your app already has).\n- \xe2\x99\xbe Allow multiple toolbar designs on one page.\n\n## Installation\n```bash\ntns plugin add nativescript-keyboard-toolbar\n```\n\n## General usage instructions\nThe plugin works by grabbing your declared toolbar layout and moving it off-screen.\n\nThen, whenever the related `TextField` or `TextView` received focus,\nthe plugin animates the toolbar to the top of the keyboard and keeps it there until the field loses focus.\n\nFor this to behave properly you\'ll need to grab any layout you currently have and wrap it in a `GridLayout`\nas show in the examples below. The `GridLayout` allows for stacking multiple child layout on top of each other\nwhen their `row` and `col` properties are equal (or omitted).\n\nSo if your layout structure is currently this:\n\n```xml\n<ActionBar/>\n<StackLayout/>\n``` \n\nChange it to this:\n\n```xml\n<ActionBar/>\n<GridLayout>\n    <StackLayout/>\n    <Toolbar/>\n</GridLayout>\n```\nNot too bad, right? That will make the `Toolbar` stack on top of the `StackLayout` you already had.\n\n> Note that the plugin could have done this for you, or take some other approach entirely, but many hours of tinkering has convinced me this is the best solution.\n\n## Usage with NativeScript Core\nMind the comments in the example below.\n\n```xml\n<Page xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:kt="nativescript-keyboard-toolbar">\n\n    <!-- This GridLayout wrapper is required; it wraps the visible layout and the Toolbar layout(s) -->\n    <GridLayout>\n\n        <StackLayout>\n            <Label text="Some text"/>\n            <!-- Add an \'id\' property that we can reference below -->\n            <TextField id="priceTextField" hint="Enter the price" keyboardType="number"/>\n        </StackLayout>\n\n        <!-- The \'forId\' and \'height\' properties are mandatory -->\n        <kt:Toolbar forId="priceTextField" height="44">\n            <GridLayout columns="*, *, *" class="toolbar">\n                <Label col="0" text="\xf0\x9f\x91\x8d" tap="{{ appendToTextView }}"/>\n                <Label col="1" text="\xf0\x9f\x91\x8e" tap="{{ appendToTextView }}"/>\n                <Label col="2" text="\xf0\x9f\x98\x84" tap="{{ appendToTextView }}"/>\n            </GridLayout>\n        </kt:Toolbar>\n\n    </GridLayout>\n</Page>\n```\n\n### Core demo app\nCheck the source in the [demo](/demo) folder, or run it on your own device:\n\n```bash\ngit clone https://github.com/EddyVerbruggen/nativescript-keyboard-toolbar\ncd nativescript-keyboard-toolbar/src\nnpm i\nnpm run demo.ios # or .android\n```\n\n## Usage with NativeScript-Angular\nRegister the plugin in a specific module, or globally in the app module: \n\n```typescript\nimport { registerElement } from "nativescript-angular";\nregisterElement("KeyboardToolbar", () => require("nativescript-keyboard-toolbar").Toolbar);\n```\n\nIn this example, we\'re adding a `TextField` to the `ActionBar`. Note that we still need to wrap the rest of the page in a `GridLayout`:\n\n```html\n<ActionBar>\n  <TextField #textField1 id="tf1"></TextField>\n</ActionBar>\n\n<!-- Our Toolbar wrapper - no need for \'columns\' / \'rows\' properties because we want the children to stack -->\n<GridLayout>\n\n  <!-- Add whatever visible layout you need here -->\n  <ListView [items]="items">\n    <ng-template let-item="item">\n      <Label [nsRouterLink]="[\'/item\', item.id]" [text]="item.name" class="list-group-item"></Label>\n    </ng-template>\n  </ListView>\n\n  <!-- Use \'KeyboardToolbar\' because that\'s what we registered in our module (see above).\n   The \'forId\' and \'height\' properties are mandatory -->\n  <KeyboardToolbar forId="tf1" height="44">\n    <GridLayout columns="*, *, *, auto" class="toolbar">\n      <Label col="0" text="\xf0\x9f\x91\x8d" (tap)="appendToTextField(textField1, \'\xf0\x9f\x91\x8d\')"></Label>\n      <Label col="1" text="\xf0\x9f\x91\x8e" (tap)="appendToTextField(textField1, \'\xf0\x9f\x91\x8e\')"></Label>\n      <Label col="2" text="\xf0\x9f\x98\x84" (tap)="appendToTextField(textField1, \'\xf0\x9f\x98\x84\')"></Label>\n      <Label col="3" text="Close\xef\xb8\x8f" (tap)="closeKeyboard(textField1)"></Label>\n    </GridLayout>\n  </KeyboardToolbar>\n</GridLayout>\n```\n\n### Angular demo app\nCheck the source in the [demo-ng](/demo-ng) folder, or run it on your own device:\n\n```bash\ngit clone https://github.com/EddyVerbruggen/nativescript-keyboard-toolbar\ncd nativescript-keyboard-toolbar/src\nnpm i\nnpm run demo-ng.ios # or .android\n```\n\n## Usage with NativeScript-Vue\nRegister the plugin in `app.js` (or depending on your app\'s setup: `app.ts`, or `main.js`, etc): \n\n```typescript\nimport Vue from "nativescript-vue";\nVue.registerElement(\'KeyboardToolbar\', () => require(\'nativescript-keyboard-toolbar\').Toolbar);\n```\n\n```vue\n<template>\n  <Page class="page">\n    <ActionBar class="action-bar">\n      <Label class="action-bar-title" text="Home"></Label>\n    </ActionBar>\n\n    <!-- Our Toolbar wrapper - no need for \'columns\' / \'rows\' properties because we want the children to stack -->\n    <GridLayout>\n\n      <StackLayout>\n        <TextView id="tv2" text="Say it with emoji!"/>\n      </StackLayout>\n\n      <!-- Use \'KeyboardToolbar\' because that\'s what we registered in our module (see above).\n         The \'forId\' and \'height\' properties are mandatory -->\n      <KeyboardToolbar forId="tv2" height="44">\n        <GridLayout columns="*, *, *" class="toolbar">\n          <Label col="0" text="\xf0\x9f\x91\x8d" @tap="appendToTextView2"/>\n          <Label col="1" text="\xf0\x9f\x91\x8e" @tap="appendToTextView2"/>\n          <Label col="2" text="\xf0\x9f\x98\x84" @tap="appendToTextView2"/>\n        </GridLayout>\n      </KeyboardToolbar>\n\n    </GridLayout>\n  </Page>\n</template>\n\n<script>\n  import { topmost } from "tns-core-modules/ui/frame";\n\n  export default {\n    methods: {\n      appendToTextView2(args) {\n        const textView = topmost().currentPage.getViewById("tv2");\n        textView.text += args.object.text;\n      }\n    }\n  }\n</script>\n```\n\n### Vue demo app\nCheck the source in the [demo-vue](/demo-vue) folder, or run it on your own device:\n\n```bash\ngit clone https://github.com/EddyVerbruggen/nativescript-keyboard-toolbar\ncd nativescript-keyboard-toolbar/src\nnpm i\nnpm run demo-vue.ios # or .android\n```\n\n## What about IQKeyboardManager?\nIf you have [IQKeyboardManager](https://github.com/tjvantoll/nativescript-IQKeyboardManager) installed for better\nkeyboard behavior on iOS, then this plugin will detect it and add the height of your custom toolbar to the scroll offset\nIQKeyboardManager applies. You can see this in action in the [NativeScript Core demo app](/demo).\n\nYou may want to suppress IQKeyboardManager\'s own toolbar in this case (to avoid a double toolbar), [as shown here](https://github.com/EddyVerbruggen/nativescript-keyboard-toolbar/blob/f81cfb2e5c84fda16e8e735bf34b1030a8b5eeb6/demo/app/main-view-model.ts#L32-L33).\n\n## Future work\n- Orientation-change support.\n- Dismiss keyboard on iOS when tapping outside the keyboard (configurable). Fot the time being you can add and configure IQKeyboardManager as mentioned above.\n- Auto-scroll the view if the keyboard overlaps the text field (on iOS you can already do that with [IQKeyboardManager](https://github.com/tjvantoll/nativescript-IQKeyboardManager)).\n- Modal support on Android (currently you can\'t use the toolbar in a modal because the toolbar is behind the modal)\n'