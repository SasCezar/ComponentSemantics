b'# Homebridge Plugin for Telegram Bots\n\nA platform that provides configurable [Telegram](https://telegram.org) Bots and integrates\nthem with HomeKit via [Homebridge](https://github.com/nfarina/homebridge).\n\n## Status\n\n[![HitCount](http://hits.dwyl.io/grover/homebridge-telegram.svg)](https://github.com/grover/homebridge-telegram)\n[![Build Status](https://travis-ci.org/grover/homebridge-telegram.png?branch=master)](https://travis-ci.org/grover/homebridge-telegram)\n[![Dependency Status](https://img.shields.io/david/grover/homebridge-telegram.svg?style=flat-square)](https://david-dm.org/grover/homebridge-telegram)\n[![devDependency Status](https://img.shields.io/david/dev/grover/homebridge-telegram.svg?style=flat-square)](https://david-dm.org/grover/homebridge-telegram#info=devDependencies)\n[![Node version](https://img.shields.io/node/v/homebridge-telegram.svg?style=flat)](http://nodejs.org/download/)\n[![NPM Version](https://badge.fury.io/js/homebridge-telegram.svg?style=flat)](https://npmjs.org/package/homebridge-telegram)\n\n## Why a Telegram Bot?\n\nThis plugin enables you to send Telegram messages upon certain HomeKit events. The plugin provides\na toggle switch for groups of notifications, which will send out one of the predefined notifications via Telegram to a configured chat. For example, you\ncould set up a rule to send out a message via Telegram when a window is opened. And with [homebridge-automation-switches](https://github.com/grover/homebridge-automation-switches) you could even repeat that process until the window is closed.\n\nYou can also add a little fun to it, by providing many different messages in a group, which the plugin selects\nrandomly.\n\nThe bots are non-interactive, e.g. they do not provide commands to trigger things and will\nnot listen for messages sent to them.\n\n## Changelog\n\nAll changes to homebridge-telegram are documented in the [changelog](CHANGELOG.md).\n\n## Installation instructions\n\nAfter [Homebridge](https://github.com/nfarina/homebridge) has been installed:\n\n ```sudo npm install -g homebridge-telegram```\n\n## Example config.json:\n\n ```\n{\n  "bridge": {\n      ...\n  },\n  "platforms": [\n    {\n      "platform": "Telegram",\n      "bots": [\n        {\n          "name": "Bot name as seen in HomeKit",\n          "token": "TELEGRAM BOT TOKEN",\n          "chat": "TELEGRAM CHAT ID",\n          "error": "Something broken. I\'m shutting down.",\n          "notifications": {\n            "Hello": {\n              "mode": "Markdown",\n              "randomize": true,\n              "messages": [\n                "*Hi!*",\n                "_Hello!_",\n                "Hey mate!"\n              ]\n            },\n            "Bye": {\n              "mode": "HTML",\n              "randomize": false,\n              "messages": [\n                "<b>Good bye!</b>",\n                "<i>I\'m sad to see you leave.</i>"\n              ]\n            }\n          }\n        }\n      ]\n    }\n  ]\n}\n```\n\n> Simple style configuration will still work and can be mixed with the advanced configuration modes:\n>\n> ```json\n> "Hello": [\n>   "Hi!",\n>   "Hello!",\n>   "Hey mate!"\n> ]\n> ```\n\nThe platform can provide any number of bots that have to be predefined in the homebridge config.json. Each bot supports the following attributes:\n\n| Attributes | Usage |\n|------------|-------|\n| name | A unique name for the bot. Will be used as the accessory name. |\n| token | The Telegram Bot API token provided when you registered the bot. |\n| chat | The chat ID used to send the notification to. |\n| error | The message to send if something fails. If you do not want an error message visible in Telegram, keep this undefined. |\n| notifications | An object providing notifications in named groups. |\n\nA switch is created for each notification group.\n\n### Configuring notification groups\n\nNotification groups have additional configuration options if the new style configuration is used:\n\n| Attributes | Usage |\n|------------|-------|\n| mode | Specify the format of the notifications. Do not specify this for plain text notifications. Use *Markdown* for markdown notifications and *HTML* for HTML notifications. |\n| randomize | If true, will select a message randomly. The default value is true. If you do not want random messages, select false. |\n| messages | An array of messages to use for the button. |\n\n\n## Creating a bot\n\nThe folks at Telegram created better [documentation](https://core.telegram.org/bots#6-botfather), than I could ever do.\n\nOnce you\'ve created the bot you\'ll need to find a chat ID that this plugin should send messages to. The easiest\nway is to message the bot and look for the JSON dumps in the homebridge log. This also supports group chats.\n\n## Formatting Options\n\nPlease read [the formatting options](https://core.telegram.org/bots/api#formatting-options) in the Telegram Bot API for\nthe supported HTML and Markdown formatting options.\n\n## Accessory Services\n\nEach bot will expose two services:\n\n* Accessory Information Service\n* Bot Service\n\n## BotService Characteristics\n\nThe exposed switch service supports the following characteristics:\n\n| Characteristic | UUID | Permissions | Type | Usage |\n|---|---|---|---|---|\n| Quiet | `9799244D-7E74-471F-B672-C41C262F7337` | READ, WRITE | BOOL | Stops the bot from sending messages, while this is enabled. |\n\nSee [HomeKitTypes.js](src/HomeKitTypes.js) for details.\n\n## Supported clients\n\nThis platform and the bots it drives have been verified to work with the following apps on iOS 11\n\n* Elgato Eve\n\n## Some asks for friendly gestures\n\nIf you use this and like it - please leave a note by staring this package here or on GitHub.\n\nIf you use it and have a\nproblem, file an issue at [GitHub](https://github.com/grover/homebridge-telegram/issues) - I\'ll try\nto help.\n\nIf you tried this, but don\'t like it: tell me about it in an issue too. I\'ll try my best\nto address these in my spare time.\n\nIf you fork this, go ahead - I\'ll accept pull requests for enhancements.\n\n## License\n\nMIT License\n\nCopyright (c) 2017 Michael Fr\xc3\xb6hlich\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n'