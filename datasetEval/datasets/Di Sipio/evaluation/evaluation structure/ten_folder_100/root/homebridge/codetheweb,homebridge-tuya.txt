b'**This plugin is deprecated so I can spend my time on core TuyAPI work. Please use [homebridge-tuya-web](https://github.com/basdelfos/homebridge-tuya-web) instead.**\n\n# homebridge-tuya\n\n\xf0\x9f\x8f\xa0 Offical Homebridge plugin for [TuyAPI](https://github.com/codetheweb/tuyapi).\n\n## Installation\n\n```\nnpm i homebridge-tuya -g\n```\n\n## Basic config.json\n\n```javascript\n{\n  "platform": "TuyaPlatform",\n  "name": "TuyaPlatform",\n  "devices": [\n    {\n      "name": "Tuya Outlet Device 1",\n      "id": "xxxxxxxxxxxxxxxxxxxx",\n      "key": "xxxxxxxxxxxxxxxx"\n    },\n    {\n      "name": "Tuya Dimmer Switch Device 2",\n      "id": "xxxxxxxxxxxxxxxxxxxx",\n      "key": "xxxxxxxxxxxxxxxx",\n      "type": "dimmer"\n    }\n  ]\n}\n```\n\nEach `device` object passed to the `devices` array has these properties:\n\n- `name`: the name that should appear in HomeKit.\n- `id`: the ID of the device. See [this guide](https://github.com/codetheweb/tuyapi/blob/master/docs/SETUP.md) for finding the `id` and `key`.\n- `key`: the key of the device. See above guide.\n- `ip`: IP of device. Usually not necessary, add it if you have issues.\n- `version`: the firmware version of the device, add it if you have issues.\n- `type`: the type of device. Currently supported device types:\n  - `generic`: default type. A device that has a single, boolean property (such as outlets, light switches, etc). Options (used in the `options` property):\n\t  - `dps`: property index to control (defaults to 1).\n  - `dimmer`: a device that has an on/off value and a brightness value, such as light switches with dimmers and lightbulbs. Options (used in the `options` property):\n\t  - `dpsOn`: property index to use for on/off commands (defaults to 1).\n\t  - `dpsBright`: property index to use for brightness control (defaults to 2).\n\t  - `minVal`: minimum brightness value (defaults to 11).\n\t  - `maxVal`: maximum brightness value (defaults to 244).\n  - `curtain`\n\t  - `dps`: property index to control (defaults to 1).\n\t  - `upValue`: value when curtains are up (defaults to 1).\n\t  - `downValue`: value when curtains are down (defaults to 2).\n\t  - `stopValue`: value when curtains are stopped somewhere between fully open and fully closed (defaults to 3).\n\n[Options for known devices](https://github.com/codetheweb/tuyapi/wiki/Device-Details).\n\n## Advanced\n\nFor devices with more than one switch (for example, powerstrips), a config would look like this:\n\n```javascript\n"devices": [\n  {\n    "name": "Power strip main",\n    "id": "power-strip-id",\n    "key": "power-strip-key",\n    "options": {      \n      "dps": 1\n    }\n  },\n  {\n    "name": "Power strip USB",\n    "id": "same-power-strip-id",\n    "key": "same-power-strip-key",\n    "options": {      \n      "dps": 2\n    }\n  }\n]\n```\n\nDimmer device example:\n\n```javascript\n"devices": [\n  {\n    "name": "Tuya Dimmer Switch Device",\n    "id": "xxxxxxxxxxxxxxxxxxxx",\n    "key": "xxxxxxxxxxxxxxxx",\n    "type": "dimmer",\n    "options": {           // Any or all of \'options\' can be omitted\n      "dpsOn": 2,          // Defaults to 1\n      "dpsBright": 3,      // Defaults to 2\n      "dpsMinBright": 101, // Defaults to 3. With the Tuya app you can set the minimal brightness, HomeKit can not change this value.\n      "minVal": 0,         // Note: this is not a dps setting. Defaults to 11\n      "maxVal": 100        // Note: this is not a dps setting. Defaults to 244\n    }\n  }\n]\n```\n\nFor devices with new Tuya protocol version 3.3, you will need to explicitly specify the version with each device, otherwise the devices will only be discovered but can not parse the received data for the device.\n\nProtocol version 3.3 device example:\n\n```javascript\n"devices": [\n  {\n    {\n      "name": "Tuya Outlet Device 1",\n      "id": "xxxxxxxxxxxxxxxxxxxx",\n      "key": "xxxxxxxxxxxxxxxx",\n      "version": "3.3"\n    },\n  }\n]\n```\n'