b'## fecon235 :: Notebooks for financial economics\n\n[![Join the chat at https://gitter.im/rsvp/fecon235](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/rsvp/fecon235?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n/ [CHANGELOG] / [BSD License and TOS][235li]\n\n**Spin-off Notice:** ***the modules and functions used by our research notebooks\nhave been refactored into another repository, [fecon236].***\nThe home for *our Jupyter notebooks will remain here at [fecon235]*\nin the `nb` directory.\n\n\n### What is this repository for?\n\n**fecon235** provides an interface for ***financial economics*** to the Python\necosystem, especially packages for mathematics, statistics, science,\nengineering, and data analysis.\nComplex packages such as *numpy, pandas, statsmodels, scipy, and matplotlib*\nare seamlessly integrated at a high-level with APIs of various data hosts for:\n\n- Essential commands which correctly handle annoying low-level pitfalls.\n\n- Retrieval of economic and financial data, both historical and the most current. \n\n- Data munging, for example, resampling and alignment of time-series data\n  from hosts using mutually incompatible formats.\n\n- Analysis using techniques from econometrics, time-series analysis,\n  and statistical machine learning.\n\n- Abstraction and software optimization of mathematical operators,\n  for example, linear algebra used in portfolio analysis.\n\n- Visualization of data using graphical packages. \n\n- *Reproducible research which is collaborative and openly accessible\n  at zero cost.*\n\nTo practically test theoretical ideas interactively,\nour code can employed with any Python IDE interactive development\nenvironment, IPython console, or with a Jupyter notebook.\nThe code has been tested against both python27 and python3 since 2014,\nand works across major platforms: Linux, Mac, and Windows.\n\n**Database:** the primary source is [FRED], the U.S. Federal Reserve\nEconomic Data bank which is accessed directly online using our interface. \nOther specialized data can be directly retrieved using our [Quandl] API \nmodule, for example, futures prices. Data for stocks, mutual funds, and \nETFs is retrieved from the best available sources using `pandas_datareader`.\nData is designed to be accessible *free* of charge,\nand *interoperable* in different time frequencies.\n\n\n### How does one get started?\n\n* Good introductory lectures for economists to Python and its ecosystem:\n  Quantitative Economics by Thomas [Sargent].\n\n* For the fecon235 and fecon236 installation FAQ, please\n  see https://git.io/econ which also covers external dependencies.\n\n* For the older pre-2016 notebooks, please use import style \n  discussed in https://git.io/fecon-intro \n\n* Docker container (optional): instantly run fully-configured programs and \n  interactive notebooks; start by: `docker pull rsvp/fecon235` # see our \n  [Docker] image for details.  \n\nSome basic commands like `get()` and `plot()`\nwill do a lot of the heavy lifting to get you started immediately. \nThe commands are very easy to customize, \nproducing sophisticated results quickly \nwithout tweaking the underlying numerical packages.\n\nThe *docs* directory should be gradually adding tutorials. \nThe source code, in the meantime, is thoroughly annotated.\n\n\n### Examples of code\n\nThe best way to see the code in action is to \nrun the notebooks in the `nb` directory\nwhich are described further below. \nNote that GitHub can render Jupyter notebooks directly in the browser, \nhowever, they will not be executable.\n\nHere is a rendering of a notebook at GitHub for \n*Housing economy, home prices and affordibility* https://git.io/housing \nIf you had executed that notebook locally, it would \nhave also retrieved the latest available data and \nrecomputed the results.\n\nHow is worker\'s wage correlated with GDP output? See https://git.io/gdpwage\nHow much Federal debt must each worker assume? And how fast is the\nUS government debt increasing? https://git.io/debtpop\n\nTo score the Federal Reserve\'s performance under its dual\nmandate for inflation and unemployment, see https://git.io/fed\n(where tangentially the Phillips curve is discredited by constructing\nheat map scatter plots). \nNotebook https://git.io/infl gives an in-depth analysis of inflation,\nincluding a combined forecast using three orthogonal methods.\n\nElevated default risk across bond markets is indicative of a\nweak economy. But how can a policy maker calibrate credit spreads\nto assess changes in interest rates? We consider mortgage and corporate\ncredit spreads to construct a *robust* Unified Credit Profile\n(a tutorial on MAD, Median Absolute Deviation, in\nrescaling non-Gaussian time-series), see https://git.io/creditprof\n\nPlease see https://git.io/fedfunds \nto forecast the Fed Funds rate using futures contracts on LIBOR.\n\nThe notebook https://git.io/cotr discerns how various asset classes \nare positioned in the market. In contrast, an overview of asset prices is \ngiven in https://git.io/georet using geometric mean returns.\n\nIn https://git.io/gold we make a conjecture that \nreal gold prices is a stationary time-series bound by real interest rates.\nIn https://git.io/xbt Bitcoin is statistically analyzed as a financial asset.\nWe examine the crude oil markets, specifically the Brent over WTI spread,\nand construct an optimal portfolio, in https://git.io/oil .\n\nSEC 13F filings can be easily parsed, see https://git.io/13F\nwhere we track asset managers Stanley Druckenmiller and John Paulson.\n\nIn https://git.io/equities we examine the separable components\nof total return for equities, especially due to enterprise earnings\nand market speculation, using S&P data assembled by Robert Shiller\nwhich goes back to the year 1871.\nIn https://git.io/gdpspx we examine the close relationship between the\nreal economy and the equities market, while demonstrating\nthe Holt-Winters time-series model for predictions.\n\nIn https://git.io/gmix we analytically and visually show how a Gaussian\nMixture model handles "fat tail" risk of leptokurtotic financial assets\nunder small-sample conditions.\nMarkowitz portfolios, designed in the arithmetic mean-variance framework\nfor a static period, are notoriously fragile when markets change.\nIn contrast, our Boltzmann portfolios are adaptive over multi-periods to\n*geometrically* maximize wealth using techniques from reinforcement learning.\nPart 1: https://git.io/boltz1 Part 2: https://git.io/boltz2\n\nBootstrapping has two benefits: small-sample statistics\nand simulation from controlled population.\nIn https://git.io/bootspx we simulate alternate histories\nfor leptokurtotic SPX equity returns:\nto visualize sample price paths, and for\nestimating probabilities of events such as investment loss.\n\n\n### Development and contacts ###\n\n* Guidelines: we welcome your [pull request] to improve our code. \n  Details are outlined in [Development].\n\n* Lead developer is Adriano [rsvp.github.com][admin].\n  Please join our chat with fellow users and developers at [Gitter].\n\nThis project is a derivative from the seminar series held at the\nUniversity of California at Berkeley, jointly sponsored by the\nDepartment of Economics and the Haas School of Business.\nWe are also grateful to [BIDS], Berkeley Institute for Data Science,\nand the [Mathematical Sciences Group][MathSci] for their technical support.\n\n\n![fecon235-wordclouds.jpg](https://git.io/fecon235words)\n\n\n### Partial contents of nb directory ###\n\n##### [gauss-mix-kurtosis.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/gauss-mix-kurtosis.ipynb) : Gaussian Mixture and Leptokurtotic Assets\n\nGaussian Mixture GM(n) can create distributions with leptokurtosis ("fat\ntails"). Our problem is the inverse: from observable statistics, deduce the\nmodel parameters analytically. We demonstrate how a GM(2) model can\nsynthesize Gaussian risk-equivalence for leptokurtotic financial assets.\nA numerical solution provides accurate probabilities which can be used to\nexperimentally understand how kurtosis itself is distributed under\nsmall-sample conditions. The non-Gaussian distributions are visualized through\nquantile-quantile probability plots. Shortcut: https://git.io/gmix\n\n##### [boots-eq-spx.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/boots-eq-spx.ipynb) : Bootstrap leptokurtotic SPX equity returns\n\nBootstrapping has two benefits: small-sample statistics\nand simulation from controlled population.\nWe simulate alternate histories: to visualize sample price paths,\nand for estimating probabilities of events such as investment loss.\nBootstrapping facilitates study of small-sample behaviour for which\nasymptotic statistical theory is unsuitable, or where closed-form\nmathematical analysis is intractable, for example, *geovolatility*\nwhich is the volatility of the geometric mean rate.\nShortcut: https://git.io/bootspx\n\n##### [prtf-boltzmann-1.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/prtf-boltzmann-1.ipynb) : Boltzmann portfolios\n\nWe develop an alternative to the Markowitz framework\ncalled Boltzmann portfolios which handle uncertainty from the \nstandpoint of cross-entropy and optimal sequential decisions.\nThe improved result is a faster online algorithm which is more robust.\nMarkowitz portfolios are designed in the arithmetic mean-variance framework\nfor a static period, and are fragile to changing market conditions.\nIn contrast, Boltzmann portfolios are adaptive over multi-periods to\ngeometrically maximize wealth using techniques from reinforcement learning.\nPart 1: https://git.io/boltz1 Part 2: https://git.io/boltz2\n\n##### [qdl-spx-earn-div.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/qdl-spx-earn-div.ipynb) : Separable components of total return for equities\n\nWe specify a model for equity returns by decomposition into enterprise and\nspeculative returns, plus dividend yield. That model is then tested using stock market\ndata going back to the year 1871 (well-known database assembled by Robert Shiller).\nAn understanding of their respective contributions helps us to form\nbetter informed expectations of total return for equities.\nWe demonstrate that the (arithmetic) percentage reasoning is prone is large errors,\nwhereas a logarithmic (geometric) version is exact.\nShortcut: https://git.io/equities or https://git.io/spx\n\n##### [qdl-libor-fed-funds.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/qdl-libor-fed-funds.ipynb) : Use pandas to analyze short-term rates\n\nWe examine the spread between two interest rates: LIBOR and Fed Funds. \nThe former has a much greater depth in the futures market in terms of \nvolume and maturity horizon, implying richer information content. \nModeling their relationship, we construct a synthetic forward Fed Funds \nrate, useful in gauging market sentiment regarding Fed policy. \nEstimate is given for the change in Fed Funds rate over the \nnext 12 months. Shortcut: https://git.io/fedfunds\n\n##### [qdl-xau-contango.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/qdl-xau-contango.ipynb) : Use pandas to analyze gold contango\n\nThe *London Bullion Market Association* ceased publishing daily data \non their *Gold Forward Offered Rate* (**GOFO**), as of 30 January 2015 -- \nso we develop an observable proxy called *tango* using gold futures \nand LIBOR. This supply/demand indicator is then compared against \nchange in spot prices. Observed strong correlations appear \nto be artificial. Shortcut: https://git.io/xau-contango\n\n##### [qdl-xbt-bitcoin.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/qdl-xbt-bitcoin.ipynb) : Statistical analysis of Bitcoin as financial asset\n\nWe first examine time-series data for price, mining, and capitalization of Bitcoin, \nthen optimize a robust model for the extremely volatile USD price series.\nTaking the viewpoint of a Chinese user we perform a comparative valuation in \nChinese yuan, and also cross-check with the perennial store of value: gold.\nThe astonishing volatility and geometric return makes Bitcoin a \nspeculative financial asset which may hinder it as a payment system.\nShortcut: https://git.io/xbt\n\n##### [qdl-COTR-positions.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/qdl-COTR-positions.ipynb) : Use pandas to read CFTC COTR\n\nCommitment of Traders Report (COTR) is useful to extract market \npositions in precious metals, US dollar, interest rates, and \nequities markets. We develop our own scale-free measures to \ngauge market sentiment across time which can \ndiverge from price directionality at interesting points.\nShortcut: https://git.io/cotr\n\n##### [SEC-13F-parse.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/SEC-13F-parse.ipynb) : Use pandas to read 13F filings from SEC\n\nSort percentage allocation to long equities. \nCaveats are noted for portfolio management. \nModule yi_secform easily sums up 13F filings by one function.\nFor illustration, we follow asset managers with significant positions in GLD,\na gold ETF; see Stanley Druckenmiller\'s sudden accumulation,\nand John Paulson\'s dramatic liquidation.\nShortcut: https://git.io/13F\n\n##### [fred-credit-spreads.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-credit-spreads.ipynb) : Robust profiles of credit spreads\n\nServes as a tutorial on MAD, Median Absolute Deviation,\nfor robustly rescaling non-Gaussian time-series.\nWe consider mortgage and corporate credit spreads to construct a\nrobust Unified Credit Profile to calibrate credit default risk in\nthe context of monetary policy. Shortcut: https://git.io/creditprof\n\n##### [fred-debt-pop.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-debt-pop.ipynb) : Growth of Federal debt, its burden on the US population  \n\nWe examine US government debt in real terms, and the current Federal debt per capita. \nShortcut: https://git.io/debtpop\n\n##### [fred-employ-nfp.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-employ-nfp.ipynb) : US employment data, Nonfarm Payroll\n\nWe focus on forecasting the monthly change in NFP using a variety of optics:\nbaseline expectation since 1939, Holt-Winters method, visual selection of local range,\nregression against economic activity (SPX) -- but the\nstandard errors are inherently very large due to survey measurement error.\n\n##### [fred-eur-fx.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-eur-fx.ipynb) : Euro currency qua Foreign Exchange  \n\nWe examine euro FX data from the Fed Reserve FRED database. Our synthetic\ntime-series, which takes us far back as 1971, give additional perspective to\nobserve the cross-rates against U.S. dollar and Japanese yen.  \n\n##### [fred-eurozone.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-eurozone.ipynb) : Eurozone economics  \n\nWe examine the usual suspects: unemployment, inflation, real interest rate,\nforeign exchange rate, comparative GDP. Appendix 1 concisely explains the\n*euro crisis* in a video.  \n\n##### [fred-gdp-spx.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-gdp-spx.ipynb) : US real GDP vs. SPX: Holt-Winters time series forecasting  \n\nWe examine the US gross domestic product\'s relationship to the US equity\nmarket (S&P 500), in real terms. Forecasts for both are demonstrated \nusing the **Holt-Winters time-series model**. We derive the most likely range \nfor real GDP growth, and identify extreme equity valuations aside from \ninflationary pressures. Shortcut: https://git.io/gdpspx\n\n##### [fred-gdp-wage.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-gdp-wage.ipynb) : U.S. GDP vs. Wage Income \n\nHow is wage correlated with GDP output?  In answering this question,\nwe derive a model for GDP growth based on observations from wage growth. \nShortcut: https://git.io/gdpwage\n\n##### [fred-georeturns.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-georeturns.ipynb) : Comparative geometric mean returns\n\nWe examine economic and financial time series where Holt-Winters is used to\nforecast one-year ahead. Daily data for bonds, equity, and gold is then\nanalyzed. The focus is on geometric mean returns because they optimally\nexpress mean-variance under logarithmic utility. Shortcut: https://git.io/georet\n\n##### [fred-housing.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-housing.ipynb) : Housing economy, home prices and affordibility  \n\nAlan Greenspan in 2014 pointed out that there was never a recovery from recession\nwithout improvements in housing construction. Here we examine some relevant\ndata, including the Case-Shiller series, and derive an insightful measure of\nthe housing economy, *hscore*, which takes affordibility into account.\nShortcut: https://git.io/housing\n\n##### [fred-inflation.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-inflation.ipynb) : Inflation data from FRED using pandas\n\nWe examine inflation data: CPI and PCE, including the core versions, along\nwith the 10-year BEI rate (break-even inflation) from the bond market.\nA unified inflation statistic *m4infl* is introduced,\nwhich leads to the estimation of the geometric mean rate.\nA robust optimized Holt-Winters model is used for forecasting.\nShortcut: https://git.io/infl\n\n##### [fred-infl-unem-fed.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-infl-unem-fed.ipynb) : Score for the Fed\'s dual mandate\n\nWe examine unemployment and inflation data to construct a time-series which\ngives a numerical score to the Fed\'s performance on its dual mandate. \nThe key is to find comparable units to measure performance and a suitable\nscalar measure to show deviation from the dual mandate. The visualization\nincludes sequential scatter plots using color heat map, which can be \nextended to studies of the Phillips curve. Shortcut: https://git.io/phillips\n\n##### [fred-infl-velocity.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-infl-velocity.ipynb) : Inflation, money velocity, and interest rates  \n\nWe examine and attempt to replicate the results of two interesting articles by\nYi Wen and Maria Arias -- along the way, we take a detour and explore the\nconnection between money velocity and bond rates. This will tie together their\nrelationship with GDP and the money supply in a fitted equation.  \n\n##### [fred-oil-brent-wti.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-oil-brent-wti.ipynb) : Oil: Brent vs. West Texas Intermediate (WTI)\n\nWe examine the history of crude oil prices, and their spreads.\nA Boltzmann portfolio is computed for *optimal* financial positions.\nDeflated prices give additional insight, along with some of the statistical\ntools useful in financial economics.\nAlthough WTI is more desirable than Brent from a petrochemical perspective,\nthat preference is reversed when the metrics are financial.\nShortcut: https://git.io/oil\n\n##### [fred-usd-RTB-xau.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-usd-RTB-xau.ipynb) : Real trade-weighted indexes for USD, gold, and SPX  \n\nWe examine the value of USD against a basket of 26 foreign currencies using\nreal trade numbers. Trade statistics are released annually, however, the Fed\nuses international inflation data to adjust the weights monthly.  \n\n##### [fred-wage-capital.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-wage-capital.ipynb) : Real capital equivalence to wage-income \n\nWe determine how much real capital has been necessary for risk-free interest\nto match annual wage.  \n\n##### [fred-xau-spx.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-xau-spx.ipynb) : Gold vs. SP500 returns, XAU vs. SPX  \n\nLong-term comparison of two asset classes: we boxplot their return\ndistribution and also compute geometric mean returns. Correlation between the\ntwo is shown to be nil. We then look at the history of projected returns using\nHolt-Winters method, which also gives the latest forecasts. To conclude, we\nclosely examine the relative value of the two assets in terms of gold troy\nounces per equity share. Analytically short equities vs. long gold is\nfavorable for an investor with log utility, but hardly profitable over the\nlong haul.   \n\n##### [fred-xau-tips.ipynb](https://github.com/rsvp/fecon235/blob/master/nb/fred-xau-tips.ipynb) : Gold and Treasury TIPS, their daily relationship  \n\nUsing monthly data we previously found that there is strong correlation \nbetween gold and real rates, so we investigate this relationship on a daily frequency. \nWe then use this correlation to help make forecasts using the \nHolt-Winters time-series method. \nLastly, we show the history of gold prices in real terms which leads to our \nconjecture that real gold is a stationary time-series bound by real interest rates. \nShortcut: https://git.io/gold\n\n---\n\n[BSD License and TOS][235li] / This page, last update : 2018-12-03\n\n[admin]:        https://rsvp.github.com "Adriano rsvp.github.com"\n[Anaconda]:     https://www.anaconda.com/download "Anaconda Python distribution"\n[Development]:  https://github.com/MathSci/fecon236/blob/develop/.github/CONTRIBUTING.md "Development"\n[Docker]:       https://hub.docker.com/r/rsvp/fecon235 "Docker image rsvp/fecon235"\n[FRED]:         https://fred.stlouisfed.org "Federal Reserve Economic Data"\n[Gitter]:       https://gitter.im/rsvp/fecon235 "Gitter fecon235"\n[pull request]: https://help.github.com/articles/using-pull-requests/ "Pull request"\n[Quandl]:       https://www.quandl.com  "Quandl, financial and economic data"\n[Sargent]:      https://lectures.quantecon.org/py "Thomas Sargent, Quantitative Economics"\n[wiki]:         https://github.com/rsvp/fecon235/wiki  "Wiki for fecon235"\n[rsvp]: https://rsvp.github.com "Adriano rsvp.github.com"\n[MathSci]: https://github.com/MathSci "Mathematical Sciences Group"\n[BIDS]: https://bids.berkeley.edu "Berkeley Institute for Data Science"\n[235is9]: https://github.com/rsvp/fecon235/issues/9 "fecon235 issue 9"\n[fecon235]: https://github.com/rsvp/fecon235 "fecon235 repository"\n[CHANGELOG]: https://git.io/235log "fecon235 Change Log"\n[235li]: https://git.io/235li "fecon235 BSD License and TOS"\n[fecon236]: https://github.com/MathSci/fecon236 "fecon236 repository"\n[236li]: https://git.io/236li "fecon236 BSD License and TOS"\n[236is]: https://git.io/236is "fecon236 issues"\n[Travis]: https://travis-ci.org/MathSci/fecon236 "fecon236 at Travis CI"\n[PyPI]: https://pypi.org/project/fecon236 "fecon236 at PyPI"\n'