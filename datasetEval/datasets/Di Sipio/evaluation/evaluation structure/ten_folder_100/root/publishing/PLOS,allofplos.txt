b'.. image:: https://api.travis-ci.org/PLOS/allofplos.svg?branch=master\n   :target: https://travis-ci.org/PLOS/allofplos\n   :alt: Build Status\n\nAll of Plos (allofplos)\n=======================\n\nCopyright (c) 2017, Public Library of Science. MIT License, see\nLICENSE.txt for more information.\n\nWhy allofplos?\n--------------\n\nThis is for downloading/updating/maintaining a repository of all PLOS\nXML article files. This can be used to have a copy of the PLOS text\ncorpus for further analysis. Use this program to download all PLOS XML\narticle files instead of doing web scraping.\n\n**NOTE**: This software is not stable, we consider it beta state and will\nbe in this stage until version 1.0. This means that programming interface\nmay change and after a new version a full corpus download may be required.\n\nInstallation instructions\n-------------------------\n\nThis program requires Python 3.4+.\n\nMake a virtual environment:\n\n``$ virtualenv allofplos``\n\nUsing pip:\n\n``(allofplos)$ pip install allofplos``\n\nThis should install *allofplos* and requirements. At this stage you are ready to go.\n\nIf you want to manually install from source (for example for development purposes), first clone the project repository:\n\n``(allofplos)$ git clone git@github.com:PLOS/allofplos.git``\n\nInstall Python dependencies inside the newly created virtual environment:\n\n``(allofplos)$ pip install -r requirements.txt``\n\nHow to run the program\n----------------------\n\nExecute the following command.\n\n``(allofplos)$ python -m allofplos.update``\n\nThe first time it runs it will download a >4.4 Gb zip file\n(**allofplos_xml.zip**) with all the XML files inside.\n**Note**: Make sure that you have enough space in your device for the\nzip file and for its content before running this command (at least 30Gb).\nAfter this file is downloaded, it will extract its contents into the\nallofplos\\_xml directory inside your installation of *allofplos*.\n\nIf you want to see the directory on your file system where this is installed run\n\n``python -c "from allofplos import get_corpus_dir; print(get_corpus_dir())"``\n\nIf you ever downloaded the corpus before, it will make an incremental\nupdate to the existing corpus. The script:\n\n-  checks for and then downloads to a temporary folder individual new articles that have been published\n-  of those new articles, checks whether they are corrections (and\n   whether the linked corrected article has been updated)\n-  checks whether there are VORs (Versions of Record) for uncorrected\n   proofs in the main articles directory and downloads those\n-  checks whether the newly downloaded articles are uncorrected proofs\n   or not after all of these checks, it moves the new articles into the\n   main articles folder.\n\nHere\xe2\x80\x99s what the print statements might look like on a typical run:\n\n::\n\n    147 new articles to download.\n    147 new articles downloaded.\n    3 amended articles found.\n    0 amended articles downloaded with new xml.\n    Creating new text list of uncorrected proofs from scratch.\n    No new VOR articles indexed in Solr.\n    17 VOR articles directly downloaded.\n    17 uncorrected proofs updated to version of record. 44 uncorrected proofs remaining in uncorrected proof list.\n    9 uncorrected proofs found. 53 total in list.\n    Corpus started with 219792 articles.\n    Moving new and updated files...\n    164 files moved. Corpus now has 219939 articles.\n\nHow to run the tests\n--------------------\n\nTo run the tests, you will need to install *allofplos* with its testing\ndependencies. These testing dependencies include ``pytest``, which we will use\nto run the tests.\n\nTo get all of the *allofplos* testing dependencies run:\n\n``(allofplos)$ pip install -U allofplos[test]``\n\nThen when you run:\n\n``(allofplos)$ pytest --pyargs allofplos``\n\nIt should return something like this:\n\n.. code::\n\n  collected 20 items\n\n  allofplos/tests/test_corpus.py ............                       [ 60%]\n  allofplos/tests/test_unittests.py ........                        [100%]\n\n  ==================== 20 passed in 0.36 seconds =========================\n\n\nCommunity guidelines\n--------------------\n\nIf you wish to contribute to this project please open a ticket in the\nGitHub repo at https://github.com/PLOS/allofplos/issues. For support\nrequests write to mining@plos.org\n'