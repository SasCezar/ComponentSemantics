b'# Yii2-notification-wrapper\n[![Latest Stable Version](https://poser.pugx.org/loveorigami/yii2-notification-wrapper/v/stable)](https://packagist.org/packages/loveorigami/yii2-notification-wrapper) \n[![Total Downloads](https://poser.pugx.org/loveorigami/yii2-notification-wrapper/downloads)](https://packagist.org/packages/loveorigami/yii2-notification-wrapper)\n[![Monthly Downloads](https://poser.pugx.org/loveorigami/yii2-notification-wrapper/d/monthly)](https://packagist.org/packages/loveorigami/yii2-notification-wrapper)\n[![Daily Downloads](https://poser.pugx.org/loveorigami/yii2-notification-wrapper/d/daily)](https://packagist.org/packages/loveorigami/yii2-notification-wrapper)\n[![License](https://poser.pugx.org/loveorigami/yii2-notification-wrapper/license)](https://packagist.org/packages/loveorigami/yii2-notification-wrapper)\n\nYii2-notification-wrapper module renders a message from session flash (with ajax support). All flash messages are displayed in the sequence they were assigned using setFlash.\n\n!["Demo"](docs/img/noty-demo.jpg)\n\nYou can set message as following:\n\n ```php\npublic function actionIndex(){\n    ...\n     Yii::$app->session->setFlash(\'error\',   \'noty error\');\n     Yii::$app->session->setFlash(\'info\',    \'noty info\');\n     Yii::$app->session->setFlash(\'success\', \'noty success\');\n     Yii::$app->session->setFlash(\'warning\', \'noty warning\');\n    ...\n     return $this->render(\'index\');\n }\n\n // or in ajax action\n\n public function actionAjax(){\n     ...\n     Yii::$app->session->setFlash(\'error\',   \'ajax error\');\n     Yii::$app->session->setFlash(\'info\',    \'ajax info\');\n     Yii::$app->session->setFlash(\'success\', \'ajax success\');\n     Yii::$app->session->setFlash(\'warning\', \'ajax warning\');\n     ...\n     $data = \'Some data to be returned in response to ajax request\';\n     Yii::$app->response->format = \\yii\\web\\Response::FORMAT_JSON;\n     return $data;\n  }\n ```\n\n## Installation\n\nThe preferred way to install this extension is through [composer](http://getcomposer.org/download/).\n\nTo install with bower package for one of supported layers, either run\n\n```bash\n$ php composer.phar require loveorigami/yii2-notification-wrapper "*"\n# if you want use it\n$ php composer.phar require bower-asset/noty "^2.3"\n$ php composer.phar require bower-asset/jquery-growl "^1.3" \n```\n\nor add\n\n```bash\n"loveorigami/yii2-notification-wrapper": "*",\n"bower-asset/noty": "^2.3",\n"bower-asset/jquery-growl": "^1.3"\n```\n\nto the ```require``` section of your `composer.json` file.\n\n\n## Configure application\n\nLet\'s start with defining module in our config file (`@common/config/main.php`):\n\n```php\n\'modules\' => [\n    \'noty\' => [\n        \'class\' => \'lo\\modules\\noty\\Module\',\n    ],\n],\n```\nThat\'s all, now you have module installed and configured.\n\n## Usage\n\nThis package comes with a Wrapper widget that can be used to regularly poll the server for new notifications and trigger them visually using either Noty (or Toastr, or Growl etc.).\n\nThis widget should be used in your main layout file as follows:\n\n```php\nuse lo\\modules\\noty\\Wrapper;\n\n// for Bootstrap Alert\necho Wrapper::widget();\n\n// or for Growl\necho Wrapper::widget([\n    \'layerClass\' => \'lo\\modules\\noty\\layers\\Growl\',\n]);\n\n// or for Noty\necho Wrapper::widget([\n    \'layerClass\' => \'lo\\modules\\noty\\layers\\Noty\',\n]);\n```\n\n\n# Advanced usage\n\nEvery layer may be customizable from parameter ```options``` in the widget.\nFor more information - read documentation.\n\n```php\nuse lo\\modules\\noty\\Wrapper;\n\necho Wrapper::widget([\n    \'layerClass\' => \'lo\\modules\\noty\\layers\\Noty\',\n    \'layerOptions\'=>[\n        // for every layer (by default)\n        \'layerId\' => \'noty-layer\',\n        \'customTitleDelimiter\' => \'|\',\n        \'overrideSystemConfirm\' => true,\n        \'showTitle\' => true,\n\n        // for custom layer\n        \'registerAnimateCss\' => true,\n        \'registerButtonsCss\' => true\n    ],\n\n    // clientOptions\n    \'options\' => [\n        \'dismissQueue\' => true,\n        \'layout\' => \'topRight\',\n        \'timeout\' => 3000,\n        \'theme\' => \'relax\',\n\n        // and more for this library...\n    ],\n]);\n\n```\n\nSome libraries can override System Confirm for links as:\n\n```html\n<a href="https://github.com" data-confirm="Are you sure?">Go!</a>\n```\n\n## Custom title\n\nIf you want change notification title, you can use ```customTitleDelimiter``` in our messages\n\n```php\n    echo  Wrapper::widget([\n        \'layerClass\' => \'...\',\n        \'layerOptions\' => [\n            \'customTitleDelimiter\' = \'|\', // by default\n        ],\n    ]);\n```\n\nand set message in action as\n\n```php\npublic function actionIndex(){\n    ...\n     Yii::$app->session->setFlash(\'success\', \'CUSTOM TITLE | noty success\');\n    ...\n }\n```\n\n## Layer Id \n\nIf you want paste notification message in custom div, you can use ```layerId```.\nFor example:\n\n\n```php\n// In layout:\n    $layerParams = [\n        \'layerClass\' => \'...\',\n        \'layerOptions\' => [\n            ...\n        ],\n    ];\n    \n    if (isset($this->params[\'layerParams\']){\n        $layerParams = \\yii\\helpers\\ArrayHelper::merge($layerParams, $this->params[\'layerParams\']);\n    }\n    echo  Wrapper::widget($layerParams);\n    \n    \n// In view:\n    $this->params[\'layerParams\'] = [\n        \'layerClass\' => \'lo\\modules\\noty\\layers\\Alert\',\n        \'layerOptions\' => [\n            \'layerId\' => \'my-noty-id\',\n        ],\n    ];\n \n    echo \'<div id="my-noty-id"></div>\'; // and notification will be placed here\n```\n\n## Disable showNoty after ajax calls\n* In Ajax script\n```js \n    $.ajax({\n        method: \'GET\',\n        dataType: \'json\',\n        url: someresouceurl,\n        showNoty: false, // add this for disable notification\n        success: function(data) {\n        }\n    });\n```\n\n* In Pjax\n```php\n    Pjax::begin([\n        \'clientOptions\' => [\n            \'showNoty\' => false\n        ]\n    ]); \n    ... pjax container ...\n    Pjax::end(); \n```\n\n## Noty Exceptions\n\nFor example:\n```php\nuse lo\\modules\\noty\\exceptions\\NotyFlashException;\nuse lo\\modules\\noty\\exceptions\\NotyErrorException;\n\npublic function actionUpdate($id)\n{\n    $model = $this->findModel($id);\n\n    try {\n        if ($model->load(Yii::$app->request->post()) && $model->save()) {\n            return $this->redirect([\'view\', \'id\' => $model->id]);\n        } else {\n            return $this->render(\'update\', [\n                \'model\' => $model,\n            ]);\n        }\n    } catch (NotyFlashException $e) {\n        $e->catchFlash();\n    }\n}\n    \nprotected function findModel($id)\n{\n    if (($model = Post::findOne($id)) !== null) {\n        return $model;\n    } else {\n        throw new NotyErrorException(\'The requested page does not exist.\');\n    }\n}\n```\n\n## Supported layers\n\nCurrently supported layers are:\n\n| Library (Layer)      | Bower                       | Confirm | Project homepage                                     | Docs                              |\n| -------------------- | --------------------------- | ------- | ---------------------------------------------------- | --------------------------------- |\n| Bootstrap Alert      | -                           |    -    | http://getbootstrap.com/components/#alerts           | [read](docs/Alert.md)             |\n| Bootstrap Notify     | remarkable-bootstrap-notify |    -    | https://github.com/mouse0270/bootstrap-notify        | [read](docs/BootstrapNotify.md)   |\n| Growl                | jquery-growl                |    -    | https://github.com/ksylvest/jquery-growl             | [read](docs/Growl.md)             |\n| iGrowl               | igrowl                      |    -    | https://github.com/catc/iGrowl                       | [read](docs/Igrowl.md)            |\n| jQuery Notify        | jquery.notify               |    -    | https://github.com/CreativeDream/jquery.notify       | [read](docs/JqueryNotify.md)      |\n| jQuery Notify Bar    | jqnotifybar                 |    -    | https://github.com/dknight/jQuery-Notify-bar         | [read](docs/JqueryNotifyBar.md)   |\n| jQuery Toaster       | jquery.toaster              |    -    | https://github.com/scottoffen/jquery.toaster         | [read](docs/JqueryToaster.md)     |\n| jQuery Toast Plugin  | jquery-toast-plugin         |    -    | https://github.com/kamranahmedse/jquery-toast-plugin | [read](docs/JqueryToastPlugin.md) |\n| Lobibox              | lobibox                     |    +    | https://github.com/arboshiki/lobibox                 | [read](docs/Lobibox.md)           |\n| Notie                | notie                       |    +    | https://github.com/jaredreich/notie                  | [read](docs/Notie.md)             |\n| Notific8             | notific8                    |    -    | https://github.com/ralivue/notific8                  | [read](docs/Notific8.md)          |\n| NotifIt              | notifit                     |    +    | https://github.com/naoxink/notifIt                   | [read](docs/NotifIt.md)           |\n| Notify.js            | notifyjs                    |    -    | https://github.com/notifyjs/notifyjs                 | [read](docs/Notifyjs.md)          |\n| Noty                 | noty                        |    +    | https://github.com/needim/noty                       | [read](docs/Noty.md)              |\n| PNotify              | pnotify                     |    +    | https://github.com/sciactive/pnotify                 | [read](docs/PNotify.md)           |\n| Sweetalert           | sweetalert                  |    +    | https://github.com/t4t5/sweetalert                   | [read](docs/Sweetalert.md)        |\n| Toastr               | toastr                      |    -    | https://github.com/CodeSeven/toastr                  | [read](docs/Toastr.md)            |\n\n\n## Full installation\n\nAdd\n\n```bash\n"loveorigami/yii2-notification-wrapper": "*",\n"bower-asset/bootstrap-sweetalert": "^1.0",\n"bower-asset/igrowl": "*",\n"bower-asset/jqnotifybar": "^1.5",\n"bower-asset/jquery-growl": "^1.3",\n"bower-asset/jquery.notify": "^1.0",\n"bower-asset/jquery-toast-plugin": "*",\n"bower-asset/jquery.toaster": "*",\n"bower-asset/lobibox": "*",\n"bower-asset/notie": "^3.2",\n"bower-asset/notifit": "^1.1",\n"bower-asset/notific8": "^3.5",\n"bower-asset/notifyjs": "^0.4",\n"bower-asset/pnotify": "^3.0",\n"bower-asset/noty": "^2.3",\n"bower-asset/remarkable-bootstrap-notify": "^3.1",\n"bower-asset/sweetalert": "^1.1",\n"bower-asset/toastr": "^2.1"\n```\n\nto the ```require``` section of your `composer.json` file.\n\n## License\n\nYii2-notification-wrapper is released under the MIT License. See the bundled [LICENSE.md](LICENSE.md)\nfor details.\n'