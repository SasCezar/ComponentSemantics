b'# ssm-BookAppointment<br>\n\xe4\xbc\x98\xe9\x9b\x85\xe6\x95\xb4\xe5\x90\x88SSM\xe6\xa1\x86\xe6\x9e\xb6\xef\xbc\x9aSpringMVC + Spring + MyBatis\xef\xbc\x88\xe7\x94\xa8\xe6\x88\xb7\xe7\x99\xbb\xe9\x99\x86\xe5\xbc\x8f\xe5\x9b\xbe\xe4\xb9\xa6\xe9\xa2\x84\xe7\xba\xa6\xe7\xb3\xbb\xe7\xbb\x9f\xef\xbc\x89<br>\n\xe5\xb0\x8f\xe4\xbc\x99\xe4\xbc\xb4\xe4\xbb\xac\xe5\xbc\x80\xe8\xbd\xa6\xe4\xba\x86\xef\xbc\x81<br>\n \xe8\xaf\x9d\xe4\xb8\x8d\xe5\xa4\x9a\xe8\xaf\xb4\xe5\x85\x88\xe8\xae\xa9\xe6\x88\x91\xe4\xbb\xac\xe7\x9c\x8b\xe7\x9c\x8b\xe6\xad\xa4\xe9\xa1\xb9\xe7\x9b\xae\xe8\xbf\x90\xe8\xa1\x8c\xe8\xb5\xb7\xe6\x9d\xa5\xe7\x9a\x84\xe6\x95\x88\xe6\x9e\x9c\xef\xbc\x8c\xe6\x96\xb9\xe4\xbe\xbf\xe5\xa4\xa7\xe5\xae\xb6\xe6\x9c\x89\xe4\xb8\xaa\xe7\x9b\xb4\xe8\xa7\x82\xe4\xba\x86\xe8\xa7\xa3\xef\xbc\x8c\xe5\xa5\xbd\xe5\x9c\xa8\xe4\xba\x8b\xe5\x85\x88\xe4\xbc\xb0\xe8\xae\xa1\xe8\xa6\x81\xe7\x94\xa8\xe5\x88\xb0\xe9\x82\xa3\xe4\xba\x9b\xe6\x8a\x80\xe6\x9c\xaf\xef\xbc\x8c\xe6\x96\xb9\xe4\xbe\xbf\xe5\xa4\xa7\xe5\xae\xb6\xe6\x9c\x89\xe9\x92\x88\xe5\xaf\xb9\xe6\x80\xa7\xe7\x9a\x84\xe5\xad\xa6\xe4\xb9\xa0\xe3\x80\x82<br>\n\xe7\x9c\x8b\xe5\x9b\xbe\xef\xbc\x81<br>\n\xe8\xbf\x99\xe6\x98\xaf\xe5\x9b\xbe\xe4\xb9\xa6\xe7\xae\xa1\xe7\x90\x86\xe7\xb3\xbb\xe7\xbb\x9f\xe7\x9a\x84\xe9\xa6\x96\xe9\xa1\xb5\xef\xbc\x8c\xe4\xb8\x8d\xe7\x94\xa8\xe7\x99\xbb\xe9\x99\x86\xe5\x8d\xb3\xe5\x8f\xaf\xe6\x9f\xa5\xe7\x9c\x8b\xe3\x80\x81\xe6\x90\x9c\xe7\xb4\xa2\xe7\xb3\xbb\xe7\xbb\x9f\xe6\x9c\x89\xe5\xb7\xb2\xe6\x9c\x89\xe5\x9b\xbe\xe4\xb9\xa6\xe3\x80\x82<br>\n![image](https://github.com/nize1989/pic/blob/master/raw/1.png)\n\xe6\x90\x9c\xe7\xb4\xa2\xe6\x83\xb3\xe8\xa6\x81\xe9\xa2\x84\xe5\xae\x9a\xe7\x9a\x84\xe4\xb9\xa6\xef\xbc\x9a<br>\n![image](https://github.com/nize1989/pic/blob/master/raw/2.png)\n\xe7\x82\xb9\xe5\x87\xbb\xe8\xaf\xa6\xe6\x83\x85\xef\xbc\x8c\xe8\xbf\x9b\xe5\x85\xa5\xe9\xa2\x84\xe5\xae\x9a\xe9\xa1\xb5\xe9\x9d\xa2\xef\xbc\x8c\xe5\xa6\x82\xe6\x9e\x9c\xe6\xb2\xa1\xe6\x9c\x89\xe7\x99\xbb\xe9\x99\x86\xe7\x9a\x84\xe8\xaf\x9d\xe4\xbc\x9a\xe5\xbc\xb9\xe5\x87\xba\xe7\x99\xbb\xe9\x99\x86\xe5\xb1\x82\xef\xbc\x8c\xe6\x8f\x90\xe7\xa4\xba\xe8\xbe\x93\xe5\x85\xa5\xe5\xad\xa6\xe5\x8f\xb7\xe5\xaf\x86\xe7\xa0\x81\xef\xbc\x8c\xe5\xa6\x82\xe6\x9e\x9c\xe7\x94\xa8\xe6\x88\xb7\xe5\xb7\xb2\xe7\xbb\x8f\xe5\x9c\xa8\xe4\xb9\x8b\xe5\x89\x8d\xe6\x9f\xa5\xe7\x9c\x8b\xe6\x9f\x90\xe6\x9c\xac\xe4\xb9\xa6\xe7\x9a\x84\xe8\xaf\xa6\xe7\xbb\x86\xe6\x97\xb6\xe5\xb7\xb2\xe7\xbb\x8f\xe7\x99\xbb\xe9\x99\x86\xef\xbc\x8c\xe5\x88\x99\xe4\xb8\x8d\xe4\xbc\x9a\xe8\xa6\x81\xe6\xb1\x82\xe5\x86\x8d\xe7\x99\xbb\xe9\x99\x86\xef\xbc\x8c\xe8\xbf\x99\xe9\x87\x8c\xe7\x9a\x84\xe7\x94\xa8\xe6\x88\xb7\xe5\x90\x8d\xe5\xaf\x86\xe7\xa0\x81\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe9\xaa\x8c\xe8\xaf\x81\xe6\x88\x90\xe5\x8a\x9f\xe5\x90\x8e\xe4\xbf\x9d\xe5\xad\x98\xe5\x9c\xa8cookie\xe4\xb8\xad\xef\xbc\x8c\xe4\xb8\x94\xe7\x94\x9f\xe5\x91\xbd\xe5\x91\xa8\xe6\x9c\x9f\xe9\xbb\x98\xe8\xae\xa4\xe4\xb8\x8esession\xe7\x9b\xb8\xe5\x90\x8c\xef\xbc\x8c\xe5\x8d\xb3\xe5\x85\xb3\xe9\x97\xad\xe8\xb7\xaf\xe5\xbe\x84\xe7\xaa\x97\xe5\x8f\xa3\xe5\x90\x8e\xe5\xb0\xb1\xe5\xa4\xb1\xe6\x95\x88\xe3\x80\x82<br>\n![image](https://github.com/nize1989/pic/blob/master/raw/3.png)\n\xe8\xbf\x99\xe6\x98\xaf\xe4\xbb\x80\xe4\xb9\x88\xe9\x83\xbd\xe4\xb8\x8d\xe8\xbe\x93\xe5\x85\xa5\xe5\x92\x8c\xe8\xbe\x93\xe5\x85\xa5\xe6\xa0\xbc\xe5\xbc\x8f\xe4\xb8\x8d\xe5\xaf\xb9\xe6\x97\xb6\xef\xbc\x8c\xe7\x82\xb9\xe5\x87\xbbsubmit\xe7\x9a\x84\xe6\x8f\x90\xe7\xa4\xba\xef\xbc\x9a<br>\n![image](https://github.com/nize1989/pic/blob/master/raw/4.png)\n![image](https://github.com/nize1989/pic/blob/master/raw/5.png)\n![image](https://github.com/nize1989/pic/blob/master/raw/6.png)\n\xe7\x99\xbb\xe9\x99\x86\xe5\x90\x8e\xe8\xbf\x9b\xe5\x85\xa5\xe9\xa2\x84\xe7\xba\xa6\xe7\x95\x8c\xe9\x9d\xa2\xef\xbc\x8c\xe7\x82\xb9\xe5\x87\xbb\xe9\xa2\x84\xe7\xba\xa6\xe5\x90\x8e\xe7\x9a\x84\xe7\x95\x8c\xe9\x9d\xa2\xef\xbc\x9a<br>\n![image](https://github.com/nize1989/pic/blob/master/raw/7.png)\n\xe5\xa6\x82\xe6\x9e\x9c\xe5\xb7\xb2\xe7\xbb\x8f\xe5\xaf\xb9\xe5\xbd\x93\xe5\x89\x8d\xe4\xb9\xa6\xe9\xa2\x84\xe7\xba\xa6\xe8\xbf\x87\xef\xbc\x8c\xe7\x82\xb9\xe5\x87\xbb\xe9\xa2\x84\xe7\xba\xa6\xe4\xbc\x9a\xe6\x8f\x90\xe7\xa4\xba\xe9\x87\x8d\xe5\xa4\x8d\xe9\xa2\x84\xe7\xba\xa6\xef\xbc\x8c\xe5\xa6\x82\xe6\x9e\x9c\xe6\xb2\xa1\xe6\x9c\x89\xe5\xba\x93\xe5\xad\x98\xef\xbc\x8c\xe7\x82\xb9\xe5\x87\xbb\xe9\xa2\x84\xe7\xba\xa6\xe4\xbc\x9a\xe6\x8f\x90\xe7\xa4\xba\xe6\xb2\xa1\xe6\x9c\x89\xe5\xba\x93\xe5\xad\x98\xe3\x80\x82<br>\n![image](https://github.com/nize1989/pic/blob/master/raw/8.png)\n\xe9\xa2\x84\xe7\xba\xa6\xe5\x90\x8e\xe7\x82\xb9\xe5\x87\xbb\xef\xbc\x9a\xe6\x9f\xa5\xe7\x9c\x8b\xe6\x88\x91\xe7\x9a\x84\xe5\xb7\xb2\xe9\xa2\x84\xe7\xba\xa6\xe4\xb9\xa6\xe7\xb1\x8d\xef\xbc\x8c\xe4\xbc\x9a\xe6\x98\xbe\xe7\xa4\xba\xe4\xb9\x8b\xe5\x89\x8d\xe6\x89\x80\xe6\x9c\x89\xe9\xa2\x84\xe7\xba\xa6\xe7\x9a\x84\xe4\xbf\xa1\xe6\x81\xaf\xef\xbc\x9a<br>\n![image](https://github.com/nize1989/pic/blob/master/raw/9.png)\n## 1\xe3\x80\x81\xe5\x88\xa9\xe7\x94\xa8maven\xe5\x88\x9b\xe5\xbb\xba\xe6\x96\x87\xe4\xbb\xb6\xe8\xb7\xaf\xe5\xbe\x84\xef\xbc\x9a<br>\n\xe5\x88\xa9\xe7\x94\xa8\xe5\x91\xbd\xe4\xbb\xa4\xe8\xa1\x8c\xe5\xb7\xa5\xe5\x85\xb7\xe8\xbe\x93\xe5\x85\xa5\xef\xbc\x9amvn archetype:generate -DgroupId=cn.nize  -DarchetypeArtifactId=\nmaven-archetype-webapp  -DarchetypeCatalog=internal<br>\n## 2\xe3\x80\x81\xe5\x88\x9b\xe5\xbb\xba\xe9\xa1\xb9\xe7\x9b\xae\xe5\x8c\x85\xef\xbc\x9a <br>\n![image](https://github.com/nize1989/pic/blob/master/raw/11.png)\n## 3\xe3\x80\x81\xe5\x86\x8d\xe7\x84\xb6\xe5\x90\x8e\xe5\xb0\xb1\xe6\x98\xaf\xe5\x9c\xa8pom.xml\xe9\x87\x8c\xe9\x9d\xa2\xe6\xb3\xa8\xe5\x85\xa5\xe4\xbe\x9d\xe8\xb5\x96\xef\xbc\x8cmaven\xe4\xbc\x9a\xe8\x87\xaa\xe5\x8a\xa8\xe5\x9c\xa8\xe7\xbd\x91\xe7\xab\x99\xe4\xb8\x8a\xe4\xb8\x8b\xe8\xbd\xbd\xe3\x80\x82\xe5\x85\xb3\xe4\xba\x8emaven\xe5\xa4\xa7\xe5\xae\xb6\xe5\x8f\xaf\xe4\xbb\xa5\xe7\x9c\x8b\xe7\x9c\x8b\xe6\x85\x95\xe8\xaf\xbe\xe7\xbd\x91\xe4\xb8\x8a\xe7\x9a\x84\xe6\x95\x99\xe5\xad\xa6\xe8\xa7\x86\xe9\xa2\x91\xe3\x80\x82 \npom.xml\n```java\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>cn.nize</groupId>\n  <artifactId>ssm-BookAppointment</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  <name>ssm-BookAppointment Maven Webapp</name>\n  <url>http://maven.apache.org</url>\n  \n\t<dependencies>\n\t\t<!-- \xe5\x8d\x95\xe5\x85\x83\xe6\xb5\x8b\xe8\xaf\x95 -->\n\t\t<dependency>\n\t\t\t<groupId>junit</groupId>\n\t\t\t<artifactId>junit</artifactId>\n\t\t\t<version>4.11</version>\n\t\t</dependency>\n\n\t\t<!-- 1.\xe6\x97\xa5\xe5\xbf\x97 -->\n\t\t<!-- \xe5\xae\x9e\xe7\x8e\xb0slf4j\xe6\x8e\xa5\xe5\x8f\xa3\xe5\xb9\xb6\xe6\x95\xb4\xe5\x90\x88 -->\n\t\t<dependency>\n\t\t\t<groupId>ch.qos.logback</groupId>\n\t\t\t<artifactId>logback-classic</artifactId>\n\t\t\t<version>1.1.1</version>\n\t\t</dependency>\n\n\t\t<!-- 2.\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93 -->\n\t\t<dependency>\n\t\t\t<groupId>mysql</groupId>\n\t\t\t<artifactId>mysql-connector-java</artifactId>\n\t\t\t<version>5.1.35</version>\n\t\t\t<!--  <scope>runtime</scope> -->\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>c3p0</groupId>\n\t\t\t<artifactId>c3p0</artifactId>\n\t\t\t<version>0.9.1.2</version>\n\t\t</dependency>\n\n\t\t<!-- DAO: MyBatis -->\n\t\t<dependency>\n\t\t\t<groupId>org.mybatis</groupId>\n\t\t\t<artifactId>mybatis</artifactId>\n\t\t\t<version>3.3.0</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.mybatis</groupId>\n\t\t\t<artifactId>mybatis-spring</artifactId>\n\t\t\t<version>1.2.3</version>\n\t\t</dependency>\n\n\t\t<!-- 3.Servlet web -->\n\t\t<dependency>\n\t\t\t<groupId>taglibs</groupId>\n\t\t\t<artifactId>standard</artifactId>\n\t\t\t<version>1.1.2</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>jstl</groupId>\n\t\t\t<artifactId>jstl</artifactId>\n\t\t\t<version>1.2</version>\n\t\t</dependency>\n\t\t<dependency>\n    \t\t<groupId>com.fasterxml.jackson.core</groupId>\n    \t\t<artifactId>jackson-databind</artifactId>\n    \t\t<version>2.5.0</version>\n\t\t</dependency>\n\t\t<dependency>\n    \t\t<groupId>com.fasterxml.jackson.core</groupId>\n    \t\t<artifactId>jackson-core</artifactId>\n    \t\t<version>2.5.0</version>\n\t\t</dependency>\n\t\t<dependency>\n    \t\t<groupId>com.fasterxml.jackson.core</groupId>\n    \t\t<artifactId>jackson-annotations</artifactId>\n    \t\t<version>2.5.0</version>\n\t\t</dependency>\n\t<!-- \t<dependency>\n\t\t\t<groupId>com.fasterxml.jackson.core</groupId>\n\t\t\t<artifactId>jackson-databind</artifactId>\n\t\t\t<version>2.5.4</version>\n\t\t</dependency> -->\n\t\t<dependency>\n\t\t\t<groupId>javax.servlet</groupId>\n\t\t\t<artifactId>javax.servlet-api</artifactId>\n\t\t\t<version>3.1.0</version>\n\t\t</dependency>\n\n\t\t<!-- 4.Spring -->\n\t\t<!-- 1)Spring\xe6\xa0\xb8\xe5\xbf\x83 -->\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-core</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-beans</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-context</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\t\t<!-- 2)Spring DAO\xe5\xb1\x82 -->\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-jdbc</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-tx</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\t\t<!-- 3)Spring web -->\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-web</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-webmvc</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\t\t<!-- 4)Spring test -->\n\t\t<dependency>\n\t\t\t<groupId>org.springframework</groupId>\n\t\t\t<artifactId>spring-test</artifactId>\n\t\t\t<version>4.1.7.RELEASE</version>\n\t\t</dependency>\n\n\t\t<!-- redis\xe5\xae\xa2\xe6\x88\xb7\xe7\xab\xaf:Jedis -->\n\t\t<dependency>\n\t\t\t<groupId>redis.clients</groupId>\n\t\t\t<artifactId>jedis</artifactId>\n\t\t\t<version>2.7.3</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>com.dyuproject.protostuff</groupId>\n\t\t\t<artifactId>protostuff-core</artifactId>\n\t\t\t<version>1.0.8</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>com.dyuproject.protostuff</groupId>\n\t\t\t<artifactId>protostuff-runtime</artifactId>\n\t\t\t<version>1.0.8</version>\n\t\t</dependency>\n\n\t\t<!-- Map\xe5\xb7\xa5\xe5\x85\xb7\xe7\xb1\xbb -->\n\t\t<dependency>\n\t\t\t<groupId>commons-collections</groupId>\n\t\t\t<artifactId>commons-collections</artifactId>\n\t\t\t<version>3.2</version>\n\t\t</dependency>\n\t</dependencies>\n \n  <build>\n    <finalName>ssm-BookAppointment</finalName>\n  </build>\n</project>\n```\n## 4\xe3\x80\x81\xe5\x81\x9a\xe5\xa5\xbd\xe4\xb9\x8b\xe5\x89\x8d\xe7\x9a\x84\xe5\x87\x86\xe5\xa4\x87\xe5\xb7\xa5\xe4\xbd\x9c\xe5\x90\x8e\xef\xbc\x8c\xe9\x80\xbb\xe8\xbe\x91\xe7\x90\x86\xe9\xa1\xba\xef\xbc\x8c\xe7\x8e\xb0\xe5\x9c\xa8\xe5\xb0\xb1\xe8\xa6\x81\xe5\xbc\x80\xe5\xa7\x8b\xe7\xbc\x96\xe7\xa0\x81\xe5\x95\xa6\xef\xbc\x8c\xe9\xa6\x96\xe5\x85\x88\xe6\x88\x91\xe4\xbb\xac\xe5\x88\x9b\xe5\xbb\xba\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xef\xbc\x81<br> \n\xe6\xa0\xb9\xe6\x8d\xae\xe6\x88\x91\xe4\xbb\xac\xe7\x9a\x84\xe5\xae\x9e\xe9\x99\x85\xe6\x83\x85\xe5\x86\xb5\xef\xbc\x8c\xe5\x9c\xa8\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xb8\xad\xe5\x88\x9b\xe5\xbb\xba\xe8\xa1\xa8\xef\xbc\x9a<br>\nschema.sql\n```java\n-- \xe5\x88\x9b\xe5\xbb\xba\xe5\x9b\xbe\xe4\xb9\xa6\xe8\xa1\xa8\nCREATE TABLE `book` ( \n  `book_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT \'\xe5\x9b\xbe\xe4\xb9\xa6ID\',\n  `name` varchar(100) NOT NULL COMMENT \'\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x90\x8d\xe7\xa7\xb0\',\n  `introd` varchar(1000) NOT NULL COMMENT \'\xe7\xae\x80\xe4\xbb\x8b\',\n  `number` int(11) NOT NULL COMMENT \'\xe9\xa6\x86\xe8\x97\x8f\xe6\x95\xb0\xe9\x87\x8f\',\n  PRIMARY KEY (`book_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1000 DEFAULT CHARSET=utf8 COMMENT=\'\xe5\x9b\xbe\xe4\xb9\xa6\xe8\xa1\xa8\';\n\n-- \xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\xe5\x9b\xbe\xe4\xb9\xa6\xe6\x95\xb0\xe6\x8d\xae\nINSERT INTO `book` (`book_id`, `name`, `introd`,`number`)\nVALUES\n\t(1000, \'Java\xe7\xa8\x8b\xe5\xba\x8f\xe8\xae\xbe\xe8\xae\xa1\', \'Java\xe7\xa8\x8b\xe5\xba\x8f\xe8\xae\xbe\xe8\xae\xa1\xe6\x98\xaf\xe4\xb8\x80\xe9\x97\xa8balbal\',10),\n\t(1001, \'\xe6\x95\xb0\xe6\x8d\xae\xe7\xbb\x93\xe6\x9e\x84\',\'\xe6\x95\xb0\xe6\x8d\xae\xe7\xbb\x93\xe6\x9e\x84\xe6\x98\xaf\xe8\xae\xa1\xe7\xae\x97\xe6\x9c\xba\xe5\xad\x98\xe5\x82\xa8\xe3\x80\x81\xe7\xbb\x84\xe7\xbb\x87\xe6\x95\xb0\xe6\x8d\xae\xe7\x9a\x84\xe6\x96\xb9\xe5\xbc\x8f\xe3\x80\x82\xe6\x95\xb0\xe6\x8d\xae\xe7\xbb\x93\xe6\x9e\x84\xe6\x98\xaf\xe6\x8c\x87\xe7\x9b\xb8\xe4\xba\x92\xe4\xb9\x8b\xe9\x97\xb4\xe5\xad\x98\xe5\x9c\xa8\xe4\xb8\x80\xe7\xa7\x8d\xe6\x88\x96\xe5\xa4\x9a\xe7\xa7\x8d\xe7\x89\xb9\xe5\xae\x9a\xe5\x85\xb3\xe7\xb3\xbb\xe7\x9a\x84\xe6\x95\xb0\xe6\x8d\xae\xe5\x85\x83\xe7\xb4\xa0\xe7\x9a\x84\xe9\x9b\x86\xe5\x90\x88\xe3\x80\x82\', 10),\n\t(1002, \'\xe8\xae\xbe\xe8\xae\xa1\xe6\xa8\xa1\xe5\xbc\x8f\',\'\xe8\xae\xbe\xe8\xae\xa1\xe6\xa8\xa1\xe5\xbc\x8f\xef\xbc\x88Design Pattern\xef\xbc\x89\xe6\x98\xaf\xe4\xb8\x80\xe5\xa5\x97\xe8\xa2\xab\xe5\x8f\x8d\xe5\xa4\x8d\xe4\xbd\xbf\xe7\x94\xa8\xe3\x80\x81\xe5\xa4\x9a\xe6\x95\xb0\xe4\xba\xba\xe7\x9f\xa5\xe6\x99\x93\xe7\x9a\x84\xe3\x80\x81\xe7\xbb\x8f\xe8\xbf\x87\xe5\x88\x86\xe7\xb1\xbb\xe7\x9a\x84\xe3\x80\x81\xe4\xbb\xa3\xe7\xa0\x81\xe8\xae\xbe\xe8\xae\xa1\xe7\xbb\x8f\xe9\xaa\x8c\xe7\x9a\x84\xe6\x80\xbb\xe7\xbb\x93\xe3\x80\x82\',10),\n\t(1003, \'\xe7\xbc\x96\xe8\xaf\x91\xe5\x8e\x9f\xe7\x90\x86\',\'\xe7\xbc\x96\xe8\xaf\x91\xe5\x8e\x9f\xe7\x90\x86\xe6\x98\xaf\xe8\xae\xa1\xe7\xae\x97\xe6\x9c\xba\xe4\xb8\x93\xe4\xb8\x9a\xe7\x9a\x84\xe4\xb8\x80\xe9\x97\xa8\xe9\x87\x8d\xe8\xa6\x81\xe4\xb8\x93\xe4\xb8\x9a\xe8\xaf\xbe\xef\xbc\x8c\xe6\x97\xa8\xe5\x9c\xa8\xe4\xbb\x8b\xe7\xbb\x8d\xe7\xbc\x96\xe8\xaf\x91\xe7\xa8\x8b\xe5\xba\x8f\xe6\x9e\x84\xe9\x80\xa0\xe7\x9a\x84\xe4\xb8\x80\xe8\x88\xac\xe5\x8e\x9f\xe7\x90\x86\xe5\x92\x8c\xe5\x9f\xba\xe6\x9c\xac\xe6\x96\xb9\xe6\xb3\x95\xe3\x80\x82\',10),\n\t(1004,\'\xe5\xa4\xa7\xe5\xad\xa6\xe8\xaf\xad\xe6\x96\x87\',\'\xe5\x9f\xba\xe4\xba\x8e\xe9\x95\xbf\xe6\x9c\x9f\xe7\x9a\x84\xe6\x95\x99\xe5\xad\xa6\xe5\xae\x9e\xe8\xb7\xb5\xe5\x92\x8c\xe5\xad\xa6\xe7\xa7\x91\xe6\x80\x9d\xe8\x80\x83\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe7\xbc\x96\xe5\x86\x99\xe4\xba\x86\xe8\xbf\x99\xe6\x9c\xac\xe3\x80\x8a\xe5\xa4\xa7\xe5\xad\xa6\xe8\xaf\xad\xe6\x96\x87\xe3\x80\x8b\xe6\x95\x99\xe6\x9d\x90balbal\',10),\n\t(1005,\'\xe8\xae\xa1\xe7\xae\x97\xe6\x96\xb9\xe6\xb3\x95\',\'\xe8\xae\xa1\xe7\xae\x97\xe6\x96\xb9\xe6\xb3\x95\xe5\x8f\x88\xe7\xa7\xb0\xe2\x80\x9c\xe6\x95\xb0\xe5\x80\xbc\xe5\x88\x86\xe6\x9e\x90\xe2\x80\x9d\xe3\x80\x82\xe6\x98\xaf\xe4\xb8\xba\xe5\x90\x84\xe7\xa7\x8d\xe6\x95\xb0\xe5\xad\xa6\xe9\x97\xae\xe9\xa2\x98\xe7\x9a\x84\xe6\x95\xb0\xe5\x80\xbc\xe8\xa7\xa3\xe7\xad\x94\xe7\xa0\x94\xe7\xa9\xb6\xe6\x8f\x90\xe4\xbe\x9b\xe6\x9c\x80\xe6\x9c\x89\xe6\x95\x88\xe7\x9a\x84\xe7\xae\x97\xe6\xb3\x95\xe3\x80\x82\',10),\n\t(1006,\'\xe9\xab\x98\xe7\xad\x89\xe6\x95\xb0\xe5\xad\xa6\',\'\xe5\xb9\xbf\xe4\xb9\x89\xe5\x9c\xb0\xe8\xaf\xb4\xef\xbc\x8c\xe5\x88\x9d\xe7\xad\x89\xe6\x95\xb0\xe5\xad\xa6\xe4\xb9\x8b\xe5\xa4\x96\xe7\x9a\x84\xe6\x95\xb0\xe5\xad\xa6\xe9\x83\xbd\xe6\x98\xaf\xe9\xab\x98\xe7\xad\x89\xe6\x95\xb0\xe5\xad\xa6\xef\xbc\x8c\xe4\xb9\x9f\xe6\x9c\x89\xe5\xb0\x86\xe4\xb8\xad\xe5\xad\xa6\xe8\xbe\x83\xe6\xb7\xb1\xe5\x85\xa5\xe7\x9a\x84\xe4\xbb\xa3\xe6\x95\xb0\xe3\x80\x81\xe5\x87\xa0\xe4\xbd\x95\xe4\xbb\xa5\xe5\x8f\x8a\xe7\xae\x80\xe5\x8d\x95\xe7\x9a\x84\xe9\x9b\x86\xe5\x90\x88\xe8\xae\xba\xe5\x88\x9d\xe6\xad\xa5balbal\',10);\n\n-- \xe5\x88\x9b\xe5\xbb\xba\xe9\xa2\x84\xe7\xba\xa6\xe5\x9b\xbe\xe4\xb9\xa6\xe8\xa1\xa8\nCREATE TABLE `appointment` (\n  `book_id` bigint(20) NOT NULL COMMENT \'\xe5\x9b\xbe\xe4\xb9\xa6ID\',\n  `student_id` bigint(20) NOT NULL COMMENT \'\xe5\xad\xa6\xe5\x8f\xb7\',\n  `appoint_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT \'\xe9\xa2\x84\xe7\xba\xa6\xe6\x97\xb6\xe9\x97\xb4\' ,\n  PRIMARY KEY (`book_id`, `student_id`),\n  INDEX `idx_appoint_time` (`appoint_time`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=\'\xe9\xa2\x84\xe7\xba\xa6\xe5\x9b\xbe\xe4\xb9\xa6\xe8\xa1\xa8\';\n-- \xe5\x88\x9b\xe5\xbb\xba\xe5\xad\xa6\xe7\x94\x9f\xe6\x95\xb0\xe6\x8d\xae\xe8\xa1\xa8\nCREATE TABLE `student`(\n\t`student_id` bigint(20) NOT NULL COMMENT \'\xe5\xad\xa6\xe7\x94\x9fID\',\n\t`password`  bigint(20) NOT NULL COMMENT \'\xe5\xaf\x86\xe7\xa0\x81\',\n\tPRIMARY KEY(`student_id`)\n)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=\'\xe5\xad\xa6\xe7\x94\x9f\xe7\xbb\x9f\xe8\xae\xa1\xe8\xa1\xa8\';\t\n-- \xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\xe5\xad\xa6\xe7\x94\x9f\xe6\x95\xb0\xe6\x8d\xae\nINSERT INTO `student`(`student_id`,`password`) \nVALUES\n\t(3211200801,346543),\n\t(3211200802,754323),\n\t(3211200803,674554),\n\t(3211200804,542344),\n\t(3211200805,298383),\n\t(3211200806,873973),\n\t(3211200807,193737),\n\t(3211200808,873092);\n\t\n```\n## 5 \xe6\xa0\xb9\xe6\x8d\xae\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe5\xaf\xb9\xe8\xb1\xa1\xe5\x88\x9b\xe5\xbb\xba\xe5\xae\x9e\xe4\xbd\x93\xe7\xb1\xbb\xe3\x80\x82<br>\n\xe7\xac\xac\xe4\xb8\x80\xe4\xb8\xaa\xe5\xbc\x80\xe5\xa7\x8b\xe5\xa1\xab\xe5\x85\x85\xe7\x9a\x84\xe7\xb1\xbb\xe5\xbd\x93\xe7\x84\xb6\xe6\x98\xafentiy\xe5\x8c\x85\xef\xbc\x8c\xe4\xbb\x96\xe6\x98\xaf\xe6\x89\xbf\xe6\x8e\xa5\xe6\x88\x91\xe4\xbb\xac\xe4\xbb\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe9\x87\x8c\xe5\x8e\xbb\xe9\x99\xa4\xe6\x95\xb0\xe6\x8d\xae\xe7\x9a\x84\xe7\xb1\xbb\xef\xbc\x8c\xe6\x88\x96\xe8\x80\x85\xe6\x8a\x8a\xe8\xaf\xa5\xe7\xb1\xbb\xe5\xad\x98\xe5\x85\xa5\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xef\xbc\x8c\xe5\x9c\xa8\xe8\xbf\x99\xe9\x87\x8c\xe6\x88\x91\xe4\xbb\xac\xe5\x88\x9b\xe5\xbb\xba\xe4\xb8\xa4\xe4\xb8\xaa\xe7\xb1\xbb\xef\xbc\x8c\xe4\xb8\x80\xe4\xb8\xaa\xe6\x98\xafBook\xe5\x8c\x85\xef\xbc\x88\xe4\xbb\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe5\x8f\x96\xe5\x87\xba\xe4\xb9\xa6\xe5\x90\x8e\xe6\x94\xbe\xe5\x85\xa5\xe8\xaf\xa5\xe5\x8c\x85\xef\xbc\x89\xef\xbc\x8c\xe4\xb8\x80\xe4\xb8\xaa\xe6\x98\xafAppointment\xef\xbc\x88\xe5\xad\x98\xe6\x94\xbe\xe4\xbb\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe5\x8f\x96\xe5\x87\xba\xe7\x9a\x84\xe9\xa2\x84\xe7\xba\xa6\xe4\xb9\xa6\xe7\xb1\x8d\xe4\xbf\xa1\xe6\x81\xaf\xef\xbc\x89\xe3\x80\x82<br>\nBook.java\n```java\npackage com.imooc.appoint.entiy;\n\npublic class Book {\n\t\n\tprivate long bookId;//\xe5\x9b\xbe\xe4\xb9\xa6ID\n\tprivate String name;//\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x90\x8d\xe7\xa7\xb0\n\tprivate int number;//\xe9\xa6\x86\xe8\x97\x8f\xe6\x95\xb0\xe9\x87\x8f \n\tprivate String introd;\n\tpublic Book() {  //\xe4\xb8\xba\xe4\xbb\x80\xe4\xb9\x88\xe8\xa6\x81\xe6\x9c\x89\xe4\xb8\xaa\xe6\x97\xa0\xe5\x8f\x82\xe6\x9e\x84\xe9\x80\xa0\xe5\x99\xa8\n\t}\n\tpublic Book(long bookId, String name, int number) { \n\t\tthis.bookId = bookId;\n\t\tthis.name = name;\n\t\tthis.number = number;\n\t}\n\tpublic long getBookId() {\n\t\treturn bookId;\n\t}\n\tpublic void setBookId(long bookId) {\n\t\tthis.bookId = bookId;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\tpublic int getNumber() {\n\t\treturn number;\n\t}\n\tpublic void setNumber(int number) {\n\t\tthis.number = number;\n\t}\n\tpublic String getIntrod() {\n\t\treturn introd;\n\t}\n\tpublic void setIntrod(String introd) {\n\t\tthis.introd = introd;\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\treturn "Book [bookId=" + bookId + ", name=" + name + ", number=" + number + ", introd=" + introd + "]";\n\t}\n}\n```\nAppointment.java\n```java\npackage com.imooc.appoint.entiy;\n\nimport java.util.Date; \n\npublic class Appointment {\n\tprivate long bookId;\n\tprivate long studentId;\n\tprivate Date appointTime;\n\t// \xe5\xa4\x9a\xe5\xaf\xb9\xe4\xb8\x80\xe7\x9a\x84\xe5\xa4\x8d\xe5\x90\x88\xe5\xb1\x9e\xe6\x80\xa7\n\tprivate Book book;// \xe5\x9b\xbe\xe4\xb9\xa6\xe5\xae\x9e\xe4\xbd\x93\n\tpublic Appointment(){\n\t}\n\tpublic Appointment(long bookId, long studentId, Date appointTime) { \n\t\tthis.bookId = bookId;\n\t\tthis.studentId = studentId;\n\t\tthis.appointTime = appointTime;\n\t}\n\tpublic long getBookId() {\n\t\treturn bookId;\n\t}\n\tpublic void setBookId(long bookId) {\n\t\tthis.bookId = bookId;\n\t}\n\tpublic long getStudentId() {\n\t\treturn studentId;\n\t}\n\tpublic void setStudentId(long studentId) {\n\t\tthis.studentId = studentId;\n\t}\n\tpublic Date getAppointTime() {\n\t\treturn appointTime;\n\t}\n\tpublic void setAppointTime(Date appointTime) {\n\t\tthis.appointTime = appointTime;\n\t}\n\tpublic Book getBook() {\n\t\treturn book;\n\t}\n\tpublic void setBook(Book book) {\n\t\tthis.book = book;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\treturn "Appointment [bookId=" + bookId + ", studentId=" + studentId + ", appointTime=" + appointTime + ", book="\n\t\t\t\t+ book + "]";\n\t}\n}\n```\n\xe5\x9b\xa0\xe4\xb8\xba\xe6\x88\x91\xe4\xbb\xac\xe8\xbf\x98\xe6\x89\x93\xe7\xae\x97\xe5\x81\x9a\xe4\xb8\x80\xe4\xb8\xaa\xe5\xad\xa6\xe7\x94\x9fID\xe3\x80\x81\xe5\xaf\x86\xe7\xa0\x81\xe9\xaa\x8c\xe8\xaf\x81\xef\xbc\x8c\xe6\x89\x80\xe4\xbb\xa5\xe4\xb9\x9f\xe5\xbe\x97\xe6\x9c\x89\xe5\xad\xa6\xe7\x94\x9f\xe7\xb1\xbb.<br>\nStudent.java\n```java\npackage com.imooc.appoint.entiy;\n\npublic class Student {  \n\tprivate Long studentId;\n\tprivate Long password;\n\t\n\tpublic Student(){\n\t\t\n\t}\n\tpublic Student(Long studentId,Long password){\n\t\tthis.studentId=studentId;\n\t\tthis.password=password;\n\t}\n\tpublic Long getStudentId() {\n\t\treturn studentId;\n\t}\n\tpublic void setStudentId(Long studentId) {\n\t\tthis.studentId = studentId;\n\t}\n\tpublic Long getPassword() {\n\t\treturn password;\n\t}\n\tpublic void setPassword(Long password) {\n\t\tthis.password = password;\n\t}\n\t\n\t@Override\n\tpublic String toString() {\n\t\treturn "Student [studentId=" + studentId + ", password=" + password + "]";\n\t}\n}\n\n```\n## 6\xe5\x88\x9b\xe5\xbb\xbaDAO\xe4\xb8\xad\xe7\x9a\x84\xe7\xb1\xbb<br>\nDAO\xe5\x8c\x85\xe4\xb8\xad\xe7\x9a\x84\xe7\xb1\xbb\xe4\xb8\xbb\xe8\xa6\x81\xe5\x8a\x9f\xe8\x83\xbd\xe6\x98\xaf\xe5\xae\x9e\xe7\x8e\xb0\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xba\xa4\xe4\xba\x92\xef\xbc\x8c\xe6\x89\x80\xe4\xbb\xa5\xe6\x88\x91\xe4\xbb\xac\xe9\x9c\x80\xe8\xa6\x81\xe5\xa4\xa7\xe7\x9a\x84\xe9\x80\xbb\xe8\xbe\x91\xe6\x98\xaf\xef\xbc\x9a1\xe3\x80\x81\xe5\xad\xa6\xe7\x94\x9f\xe7\xb1\xbb\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xba\xa4\xe4\xba\x92\xef\xbc\x9b2\xe3\x80\x81\xe9\xa2\x84\xe7\xba\xa6\xe6\x98\xaf\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xba\xa4\xe4\xba\x92\xef\xbc\x9b3\xe3\x80\x81\xe6\x9f\xa5\xe8\xaf\xa2\xe4\xb9\xa6\xe6\x97\xb6\xe4\xb8\x8e\xe6\x97\xb6\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xba\xa4\xe4\xba\x92\xe3\x80\x82\xe8\xbf\x99\xe9\x87\x8c\xe5\xa4\xa7\xe8\x87\xb4\xe5\x88\x86\xe4\xb8\xba\xe5\x87\xa0\xe7\xb1\xbb\xef\xbc\x8c\xe7\xad\x89\xe5\x85\xb7\xe4\xbd\x93\xe5\x86\x99\xe6\x8e\xa5\xe5\x8f\xa3\xe6\x97\xb6\xe5\x86\x8d\xe5\x8e\xbb\xe7\xbb\x86\xe5\x86\x99\xe3\x80\x82\xe8\xbf\x98\xe6\x9c\x89\xe5\xb0\xb1\xe6\x98\xaf\xe6\xb3\xa8\xe6\x84\x8f\xef\xbc\x8cDAO\xe5\x8f\xaa\xe6\x98\xaf\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xba\xa4\xe4\xba\x92\xef\xbc\x8c\xe4\xb8\x8d\xe8\x83\xbd\xe5\x86\x99\xe4\xba\xa4\xe4\xba\x92\xe7\xbb\x84\xe6\x88\x90\xe7\x9a\x84\xe9\x80\xbb\xe8\xbe\x91\xef\xbc\x8c\xe8\xbf\x99\xe4\xb8\xaa\xe6\x94\xbe\xe5\x9c\xa8service\xe9\x87\x8c\xe9\x9d\xa2\xe3\x80\x82\xe6\x88\x91\xe4\xbb\xac\xe5\xba\x94\xe8\xaf\xa5\xe7\xab\x99\xe5\x9c\xa8\xe7\x94\xa8\xe6\x88\xb7\xe7\x9a\x84\xe8\xa7\x92\xe5\xba\xa6\xe8\xae\xbe\xe8\xae\xa1DAO\xe6\x8e\xa5\xe5\x8f\xa3\xef\xbc\x8c\xe8\x87\xb3\xe4\xba\x8e\xe5\x85\xb7\xe4\xbd\x93\xe6\x80\x8e\xe4\xb9\x88\xe7\x94\xa8\xef\xbc\x8c\xe5\x90\x8e\xe9\x9d\xa2\xe5\x86\x8d\xe5\x86\x99\xe3\x80\x82<br>\nBookDao.java\n```java\npackage com.imooc.appoint.dao;\n\nimport java.util.List;\n\nimport org.apache.ibatis.annotations.Param;\n\nimport com.imooc.appoint.entiy.Book;\n\npublic interface BookDao {\n\t/*\n\t * \xe6\xa0\xb9\xe6\x8d\xaeid\xe6\x9f\xa5\xe8\xaf\xa2\xe4\xb9\xa6\n\t * \n\t */\n\tBook queryById(long id);\n\tList<Book> querySome(String name);\n\tList<Book> queryAll(@Param("offset") int offset,@Param("limit") int limit);\n\t\n\t/*\xe5\x87\x8f\xe5\xb0\x91\xe7\xae\xa1\xe5\xad\x98\xe6\x95\xb0\xe9\x87\x8f\n\t * \xe7\x94\xa8\xe8\xbf\x94\xe5\x9b\x9e\xe5\x80\xbc\xe5\x8f\xaf\xe5\x88\xa4\xe6\x96\xad\xe5\xbd\x93\xe5\x89\x8d\xe5\xba\x93\xe5\xad\x98\xe6\x98\xaf\xe5\x90\xa6\xe8\xbf\x98\xe6\x9c\x89\xe4\xb9\xa6\n\t */\n\t int reduceNumber(long bookId);\n}\n\n\n```\nAppointmentDao.java\n```java\npackage com.imooc.appoint.dao;\n\nimport java.util.List;\n\nimport org.apache.ibatis.annotations.Param;\n\nimport com.imooc.appoint.entiy.Appointment; \n\npublic interface AppointmentDao {\n\t//\xe9\x80\x9a\xe8\xbf\x87\xe5\x9b\xbe\xe4\xb9\xa6ID\xe5\x92\x8c\xe5\xad\xa6\xe7\x94\x9fID\xe9\xa2\x84\xe7\xba\xa6\xe4\xb9\xa6\xe7\xb1\x8d\xef\xbc\x8c\xe5\xb9\xb6\xe6\x8f\x92\xe5\x85\xa5\n\tint insertAppointment(@Param("bookId") long bookId, @Param("studentId") long studentId);\n\t \n\t//\xe9\x80\x9a\xe8\xbf\x87\xe4\xb8\x80\xe4\xb8\xaa\xe5\xad\xa6\xe7\x94\x9fID\xe6\x9f\xa5\xe8\xaf\xa2\xe5\xb7\xb2\xe7\xbb\x8f\xe9\xa2\x84\xe7\xba\xa6\xe4\xba\x86\xe5\x93\xaa\xe4\xba\x9b\xe4\xb9\xa6\xe3\x80\x82\n\tList<Appointment> quaryAndReturn(long studentId);\n \n}\n\n```\nStudentDao.java\n```java\npackage com.imooc.appoint.dao;\n\nimport org.apache.ibatis.annotations.Param;\n\nimport com.imooc.appoint.entiy.Student;\n\npublic interface StudentDao {\n\t/**\n\t * \xe5\x90\x91\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe9\xaa\x8c\xe8\xaf\x81\xe8\xbe\x93\xe5\x85\xa5\xe7\x9a\x84\xe5\xaf\x86\xe7\xa0\x81\xe6\x98\xaf\xe5\x90\xa6\xe6\xad\xa3\xe7\xa1\xae\n\t */\n\tStudent quaryStudent(@Param("studentId") long studentId, @Param("password") long password);\n}\n\n```\n## 7\xe6\x88\x91\xe4\xbb\xac\xe6\x9a\x82\xe6\x97\xb6\xe5\x85\x88\xe4\xb8\x8d\xe7\xae\xa1\xe4\xbb\xa5\xe4\xb8\x8a\xe6\x8e\xa5\xe5\x8f\xa3\xe5\xae\x9e\xe7\x8e\xb0\xef\xbc\x8c\xe5\x85\x88\xe4\xb8\xbaDAO\xe9\x85\x8d\xe7\xbd\xae\xe5\x85\xa5\xe6\xa1\x86\xe6\x9e\xb6\xef\xbc\x8c\xe5\xae\x9e\xe7\x8e\xb0spring\xe4\xb8\x8emybatis\xe7\x9a\x84\xe6\x95\xb4\xe5\x90\x88\xe3\x80\x82<br>\n \xe5\x9b\xa0\xe4\xb8\xbaspring\xe7\x9a\x84\xe9\x85\x8d\xe7\xbd\xae\xe5\xa4\xaa\xe5\xa4\x9a\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe8\xbf\x99\xe9\x87\x8c\xe5\x88\x86\xe4\xb8\x89\xe5\xb1\x82\xef\xbc\x8c\xe5\x88\x86\xe5\x88\xab\xe6\x98\xafdao service web\xe3\x80\x82\xe6\x88\x91\xe4\xbb\xac\xe8\xbf\x99\xe9\x87\x8c\xe5\x85\x88\xe5\x86\x99spring-dao.xml\xef\xbc\x8c\xe5\x85\xb6\xe4\xbb\x96\xe7\x9a\x84\xe7\xad\x89\xe6\x88\x91\xe4\xbb\xac\xe5\xae\x9e\xe7\x8e\xb0\xe7\x9b\xb8\xe5\xba\x94\xe5\x8c\x85\xe5\x90\x8e\xe5\x86\x8d\xe5\x8e\xbb\xe9\x85\x8d\xe7\xbd\xae\xe3\x80\x82\n \xe9\x85\x8d\xe7\xbd\xae\xe6\x97\xb6\xef\xbc\x8c\xe4\xb8\xbb\xe8\xa6\x81\xe6\xb3\xa8\xe6\x84\x8f\xe4\xb8\x80\xe4\xb8\x8b\xe5\x87\xa0\xe4\xb8\xaa\xe6\x96\xb9\xe9\x9d\xa2\xef\xbc\x9a<br>\n1\xe3\x80\x81\xe8\xaf\xbb\xe5\x85\xa5\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe8\xbf\x9e\xe6\x8e\xa5\xe7\x9b\xb8\xe5\x85\xb3\xe5\x8f\x82\xe6\x95\xb0\xef\xbc\x88\xe5\x8f\xaf\xe9\x80\x89\xef\xbc\x89<br>\n2\xe3\x80\x81\xe9\x85\x8d\xe7\xbd\xae\xe6\x95\xb0\xe6\x8d\xae\xe8\xbf\x9e\xe6\x8e\xa5\xe6\xb1\xa0<br>\n3\xe3\x80\x81\xe9\x85\x8d\xe7\xbd\xae\xe8\xbf\x9e\xe6\x8e\xa5\xe5\xb1\x9e\xe6\x80\xa7\xef\xbc\x8c\xe5\x8f\xaf\xe4\xbb\xa5\xe4\xb8\x8d\xe8\xaf\xbb\xe9\x85\x8d\xe7\xbd\xae\xe9\xa1\xb9\xe6\x96\x87\xe4\xbb\xb6\xe7\x9b\xb4\xe6\x8e\xa5\xe5\x9c\xa8\xe8\xbf\x99\xe9\x87\x8c\xe5\x86\x99\xe6\xad\xbb<br>\n4\xe3\x80\x81\xe9\x85\x8d\xe7\xbd\xaec3p0\xef\xbc\x8c\xe5\x8f\xaa\xe9\x85\x8d\xe4\xba\x86\xe5\x87\xa0\xe4\xb8\xaa\xe5\xb8\xb8\xe7\x94\xa8\xe7\x9a\x84<br>\n5\xe3\x80\x81\xe9\x85\x8d\xe7\xbd\xaeSqlSessionFactory\xe5\xaf\xb9\xe8\xb1\xa1\xef\xbc\x88mybatis\xef\xbc\x89<br>\n6\xe3\x80\x81\xe6\x89\xab\xe6\x8f\x8fdao\xe5\xb1\x82\xe6\x8e\xa5\xe5\x8f\xa3\xef\xbc\x8c\xe5\x8a\xa8\xe6\x80\x81\xe5\xae\x9e\xe7\x8e\xb0dao\xe6\x8e\xa5\xe5\x8f\xa3\xef\xbc\x8c\xe4\xb9\x9f\xe5\xb0\xb1\xe6\x98\xaf\xe8\xaf\xb4\xe4\xb8\x8d\xe9\x9c\x80\xe8\xa6\x81daoImpl\xef\xbc\x8csql\xe5\x92\x8c\xe5\x8f\x82\xe6\x95\xb0\xe9\x83\xbd\xe5\x86\x99\xe5\x9c\xa8xml\xe6\x96\x87\xe4\xbb\xb6\xe4\xb8\x8a<br>\nspring-dao.xml\n```java\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"\n\txsi:schemaLocation="http://www.springframework.org/schema/beans\n\thttp://www.springframework.org/schema/beans/spring-beans.xsd\n\thttp://www.springframework.org/schema/context\n\thttp://www.springframework.org/schema/context/spring-context.xsd">\n\t\t\t<!-- \xe9\x85\x8d\xe7\xbd\xae\xe6\x95\xb4\xe5\x90\x88mybatis\xe8\xbf\x87\xe7\xa8\x8b -->\n\t<!-- 1.\xe9\x85\x8d\xe7\xbd\xae\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe7\x9b\xb8\xe5\x85\xb3\xe5\x8f\x82\xe6\x95\xb0   properties\xe7\x9a\x84\xe5\xb1\x9e\xe6\x80\xa7\xef\xbc\x9a${url} -->\n\t<context:property-placeholder location="classpath:jdbc.properties" />\n\n\t<!-- 2.\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe8\xbf\x9e\xe6\x8e\xa5\xe6\xb1\xa0 -->\n\t<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource">\n\t\t<!-- \xe9\x85\x8d\xe7\xbd\xae\xe8\xbf\x9e\xe6\x8e\xa5\xe6\xb1\xa0\xe5\xb1\x9e\xe6\x80\xa7 -->\n\t\t<property name="driverClass" value="${jdbc.driver}" />\n\t\t<property name="jdbcUrl" value="${jdbc.url}" />\n\t\t<property name="user" value="${jdbc.username}" />\n\t\t<property name="password" value="${jdbc.password}" />\n\n\t\t<!-- c3p0\xe8\xbf\x9e\xe6\x8e\xa5\xe6\xb1\xa0\xe7\x9a\x84\xe7\xa7\x81\xe6\x9c\x89\xe5\xb1\x9e\xe6\x80\xa7 -->\n\t\t<property name="maxPoolSize" value="30" />\n\t\t<property name="minPoolSize" value="10" />\n\t\t<!-- \xe5\x85\xb3\xe9\x97\xad\xe8\xbf\x9e\xe6\x8e\xa5\xe5\x90\x8e\xe4\xb8\x8d\xe8\x87\xaa\xe5\x8a\xa8commit -->\n\t\t<property name="autoCommitOnClose" value="false" />\n\t\t<!-- \xe8\x8e\xb7\xe5\x8f\x96\xe8\xbf\x9e\xe6\x8e\xa5\xe8\xb6\x85\xe6\x97\xb6\xe6\x97\xb6\xe9\x97\xb4 -->\n\t\t<property name="checkoutTimeout" value="10000" />\n\t\t<!-- \xe5\xbd\x93\xe8\x8e\xb7\xe5\x8f\x96\xe8\xbf\x9e\xe6\x8e\xa5\xe5\xa4\xb1\xe8\xb4\xa5\xe9\x87\x8d\xe8\xaf\x95\xe6\xac\xa1\xe6\x95\xb0 -->\n\t\t<property name="acquireRetryAttempts" value="2" />\n\t</bean>\n\t\t<!-- 3.\xe9\x85\x8d\xe7\xbd\xaeSqlSessionFactory\xe5\xaf\xb9\xe8\xb1\xa1 -->\n\t<bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">\n\t\t<!-- \xe6\xb3\xa8\xe5\x85\xa5\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe8\xbf\x9e\xe6\x8e\xa5\xe6\xb1\xa0 -->\n\t\t<property name="dataSource" ref="dataSource" />\n\t\t<!-- \xe9\x85\x8d\xe7\xbd\xaeMyBaties\xe5\x85\xa8\xe5\xb1\x80\xe9\x85\x8d\xe7\xbd\xae\xe6\x96\x87\xe4\xbb\xb6:mybatis-config.xml -->\n\t\t<property name="configLocation" value="classpath:mybatis-config.xml" />\n\t\t<!-- \xe6\x89\xab\xe6\x8f\x8fentity\xe5\x8c\x85 \xe4\xbd\xbf\xe7\x94\xa8\xe5\x88\xab\xe5\x90\x8d -->\n\t\t<property name="typeAliasesPackage" value="com.imooc.appoint.entity" /> \n\t\t<!-- \xe6\x89\xab\xe6\x8f\x8fsql\xe9\x85\x8d\xe7\xbd\xae\xe6\x96\x87\xe4\xbb\xb6:mapper\xe9\x9c\x80\xe8\xa6\x81\xe7\x9a\x84xml\xe6\x96\x87\xe4\xbb\xb6 -->\n\t\t<property name="mapperLocations" value="classpath:mapper/*.xml" />\n\t</bean>\n\n\t<!-- 4.\xe9\x85\x8d\xe7\xbd\xae\xe6\x89\xab\xe6\x8f\x8fDao\xe6\x8e\xa5\xe5\x8f\xa3\xe5\x8c\x85\xef\xbc\x8c\xe5\x8a\xa8\xe6\x80\x81\xe5\xae\x9e\xe7\x8e\xb0Dao\xe6\x8e\xa5\xe5\x8f\xa3\xef\xbc\x8c\xe6\xb3\xa8\xe5\x85\xa5\xe5\x88\xb0spring\xe5\xae\xb9\xe5\x99\xa8\xe4\xb8\xad -->\n\t<bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">\n\t\t<!-- \xe6\xb3\xa8\xe5\x85\xa5sqlSessionFactory -->\n\t\t<property name="sqlSessionFactoryBeanName" value="sqlSessionFactory" />\n\t\t<!-- \xe7\xbb\x99\xe5\x87\xba\xe9\x9c\x80\xe8\xa6\x81\xe6\x89\xab\xe6\x8f\x8fDao\xe6\x8e\xa5\xe5\x8f\xa3\xe5\x8c\x85 -->\n\t\t<property name="basePackage" value="com.imooc.appoint.dao" /> \n\t</bean>\n\t\n</beans>\n```\n### \xe9\x85\x8d\xe7\xbd\xaejdbc.properties\xe6\x96\x87\xe4\xbb\xb6<br>\n```java\njdbc.driver=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://127.0.0.1:3306/ssmbookappoint?useUnicode=true&characterEncoding=utf8\njdbc.username= \njdbc.password= \n```\n\xe7\xac\xac\xe4\xb8\x80\xe6\xac\xa1\xe4\xb8\x8a\xe4\xbc\xa0\xe5\xbf\x98\xe8\xae\xb0\xe5\x8e\xbb\xe6\x8e\x89\xe7\x94\xa8\xe6\x88\xb7\xe5\x90\x8d\xe5\xaf\x86\xe7\xa0\x81\xe4\xba\x86\xef\xbc\x8c\xe5\xa5\xbd\xe9\x99\xa9\xef\xbc\x81\xe5\xa4\xa7\xe5\xae\xb6\xe7\x94\xa8\xe7\x9a\x84\xe6\x97\xb6\xe5\x80\x99\xe5\xa1\xab\xe4\xb8\x8a\xe8\x87\xaa\xe5\xb7\xb1\xe7\x9a\x84\xe7\x94\xa8\xe6\x88\xb7\xe5\x90\x8d\xe3\x80\x81\xe5\xaf\x86\xe7\xa0\x81\xe3\x80\x82<br>\n### \xe9\x85\x8d\xe7\xbd\xaemybatis\xe3\x80\x82<br>\n\xe6\x89\x80\xe4\xbb\xa5\xe9\x9c\x80\xe8\xa6\x81\xe9\x85\x8d\xe7\xbd\xaemybatis\xe6\xa0\xb8\xe5\xbf\x83\xe6\x96\x87\xe4\xbb\xb6\xef\xbc\x8c\xe5\x9c\xa8recources\xe6\x96\x87\xe4\xbb\xb6\xe5\xa4\xb9\xe9\x87\x8c\xe6\x96\xb0\xe5\xbb\xbamybatis-config.xml\xe6\x96\x87\xe4\xbb\xb6\xe3\x80\x82<br>\n\n1\xe3\x80\x81\xe4\xbd\xbf\xe7\x94\xa8\xe8\x87\xaa\xe5\xa2\x9e\xe4\xb8\xbb\xe9\x94\xae<br>\n2\xe3\x80\x81\xe4\xbd\xbf\xe7\x94\xa8\xe5\x88\x97\xe5\x88\xab\xe5\x90\x8d<br>\n3\xe3\x80\x81\xe5\xbc\x80\xe5\x90\xaf\xe9\xa9\xbc\xe5\xb3\xb0\xe5\x91\xbd\xe5\x90\x8d\xe8\xbd\xac\xe6\x8d\xa2 create_time -> createTime<br>\nmybatis-config.xml\n```java\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n  "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n\t<!-- \xe9\x85\x8d\xe7\xbd\xae\xe5\x85\xa8\xe5\xb1\x80\xe5\xb1\x9e\xe6\x80\xa7 -->\n\t<settings>\n\t\t<!-- \xe4\xbd\xbf\xe7\x94\xa8jdbc\xe7\x9a\x84getGeneratedKeys\xe8\x8e\xb7\xe5\x8f\x96\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe8\x87\xaa\xe5\xa2\x9e\xe4\xb8\xbb\xe9\x94\xae\xe5\x80\xbc -->\n\t\t<setting name="useGeneratedKeys" value="true" />\n\n\t\t<!-- \xe4\xbd\xbf\xe7\x94\xa8\xe5\x88\x97\xe5\x88\xab\xe5\x90\x8d\xe6\x9b\xbf\xe6\x8d\xa2\xe5\x88\x97\xe5\x90\x8d \xe9\xbb\x98\xe8\xae\xa4:true -->\n\t\t<setting name="useColumnLabel" value="true" />\n\n\t\t<!-- \xe5\xbc\x80\xe5\x90\xaf\xe9\xa9\xbc\xe5\xb3\xb0\xe5\x91\xbd\xe5\x90\x8d\xe8\xbd\xac\xe6\x8d\xa2:Table{create_time} -> Entity{createTime} -->\n\t\t<setting name="mapUnderscoreToCamelCase" value="true" />\n\t</settings>\n</configuration>\n```\n\n## 8\xe9\x85\x8d\xe7\xbd\xae\xe5\xae\x9e\xe7\x8e\xb0\xe6\x8e\xa5\xe5\x8f\xa3\xe7\x9a\x84xml<br>\n\xe6\x88\x91\xe4\xbb\xac\xe8\xa6\x81\xe5\xbc\x80\xe5\xa7\x8b\xe5\x86\x99DAO\xe6\x8e\xa5\xe5\x8f\xa3\xe7\x9a\x84\xe5\xae\x9e\xe7\x8e\xb0\xe7\xb1\xbb\xef\xbc\x8c\xe5\x9b\xa0\xe4\xb8\xba\xe6\x88\x91\xe4\xbb\xac\xe9\x85\x8d\xe7\xbd\xae\xe6\x89\xab\xe6\x8f\x8fsql\xe9\x85\x8d\xe7\xbd\xae\xe6\x96\x87\xe4\xbb\xb6\xe8\xb7\xaf\xe5\xbe\x84\xe6\x98\xaf:mapper\xe4\xb8\x8b\xe7\x9a\x84xml\xef\xbc\x8c\xe6\x89\x80\xe6\x9c\x89\xe6\x88\x91\xe4\xbb\xac\xe5\xba\x94\xe8\xaf\xa5\xe5\x9c\xa8resourse\xe4\xb8\x8b\xe6\x96\xb0\xe5\xbb\xbamapper\xe6\x96\x87\xe4\xbb\xb6\xe5\xa4\xb9\xef\xbc\x8c\xe5\x9c\xa8\xe8\xbf\x99\xe9\x87\x8c\xe5\xad\x98\xe6\x94\xbe\xe5\xae\x9e\xe7\x8e\xb0DAO\xe6\x8e\xa5\xe5\x8f\xa3\xe7\x9a\x84\xe5\x90\x84\xe7\xa7\x8dxml<br>\nBookDao.xml\n```java\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE mapper\n    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.imooc.appoint.dao.BookDao">\n\t<select id="queryById" parameterType="long" resultType="com.imooc.appoint.entiy.Book" >\n\t\t<!-- \xe5\x85\xb7\xe4\xbd\x93\xe7\x9a\x84sql -->\n\t\tSELECT\n\t\t\tbook_id,\n\t\t\tname,\n\t\t\tintrod,\n\t\t\tnumber\n\t\tFROM\n\t\t\tbook\n\t\tWHERE\n\t\t\tbook_id = #{bookId}\n\t</select>\n\n\t<select id="querySome" parameterType="com.imooc.appoint.entiy.Book" resultType="com.imooc.appoint.entiy.Book">\n\t\tSELECT book_id,name,introd,number FROM book\n\t\t<where>\n\t\t\t<!-- <if test="name !=null and !&quot;&quot;.equals(name.trim())">  -->\n\t\t\t\tand name like \'%\' #{name} \'%\'\n\t\t\t<!--  </if>   -->\n\t\t</where> \n\t</select> \n\t\t\n\t<select id="queryAll" resultType="com.imooc.appoint.entiy.Book">\n\t\tSELECT\n\t\t\tbook_id,\n\t\t\tname,\n\t\t\tintrod,\n\t\t\tnumber\n\t\tFROM\n\t\t\tbook\n\t\tORDER BY\n\t\t\tbook_id\n\t\tLIMIT #{offset}, #{limit}\n\t</select>\n\t\n\t<update id="reduceNumber">\n\t\tUPDATE book\n\t\tSET number = number - 1\n\t\tWHERE\n\t\t\tbook_id = #{bookId}\n\t\tAND number > 0\n\t</update>\n\n</mapper>\n```\nAppointmentDao.xml\n```java\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE mapper\n    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n\t<mapper namespace="com.imooc.appoint.dao.AppointmentDao">\n    <insert id="insertAppointment">\n\t\t<!-- ignore \xe4\xb8\xbb\xe9\x94\xae\xe5\x86\xb2\xe7\xaa\x81\xef\xbc\x8c\xe6\x8a\xa5\xe9\x94\x99 -->\n\t\tINSERT ignore INTO appointment (book_id, student_id)\n\t\tVALUES (#{bookId}, #{studentId})\n\t</insert>\n<!--     <delete id="deleteOne" >\n    \tDELETE FROM appointment WHERE book_id=#{bookId} AND student_id=#{studentId} \n    </delete>  \xe7\x94\xa8\xe4\xb8\x8d\xe5\x88\xb0\xe8\xbf\x99\xe4\xb8\xaa\xe5\x8a\x9f\xe8\x83\xbd-->\n    <!-- //\xe6\x9f\xa5\xe8\xaf\xa2\xe6\x9f\x90\xe4\xb8\xaa\xe5\xad\xa6\xe7\x94\x9f\xe7\x9a\x84\xe6\x89\x80\xe6\x9c\x89\xe9\xa2\x84\xe7\xba\xa6\xe8\xae\xb0\xe5\xbd\x95 -->\n    <select id="quaryAndReturn"  resultType="com.imooc.appoint.entiy.Appointment">\n\t\t<!-- \xe5\xa6\x82\xe4\xbd\x95\xe5\x91\x8a\xe8\xaf\x89MyBatis\xe6\x8a\x8a\xe7\xbb\x93\xe6\x9e\x9c\xe6\x98\xa0\xe5\xb0\x84\xe5\x88\xb0Appointment\xe5\x90\x8c\xe6\x97\xb6\xe6\x98\xa0\xe5\xb0\x84book\xe5\xb1\x9e\xe6\x80\xa7 -->\n\t\t<!-- \xe5\x8f\xaf\xe4\xbb\xa5\xe8\x87\xaa\xe7\x94\xb1\xe6\x8e\xa7\xe5\x88\xb6SQL -->\n\t\tSELECT\n\t\t\ta.book_id,<!--mybatis\xe4\xbc\x9a\xe8\xae\xa4\xe4\xb8\xba\xe6\x98\xafbook_id,\xe5\x8f\x88\xe5\x9b\xa0\xe4\xb8\xba\xe5\xbc\x80\xe5\x90\xaf\xe4\xba\x86\xe9\xa9\xbc\xe5\xb3\xb0\xe5\x91\xbd\xe5\x90\x8d\xe6\xb3\x95 \xe6\x89\x80\xe4\xbb\xa5\xe6\x9c\x80\xe7\xbb\x88\xe6\x98\xafbookId -->\n\t\t\ta.student_id,\n\t\t\ta.appoint_time,\n\t\t\tb.book_id "book.book_id",<!--b.book_id as "book.book_id" \xe5\x91\x8a\xe8\xaf\x89mybatis b.book_id\xe6\x98\xafAppointment\xe4\xb8\xadbook\xe5\xb1\x9e\xe6\x80\xa7\xe7\x9a\x84\xe5\x80\xbc-->\n\t\t\tb.`name` "book.name",\n\t\t\tb.introd "book.introd",\n\t\t\tb.number "book.number"\n\t\tFROM\n\t\t\tappointment a\n\t\tINNER JOIN book b ON a.book_id = b.book_id\n\t\tWHERE \n\t\t \ta.student_id = #{studentId}\n\t</select>\n<!-- \t//\xe6\x9f\xa5\xe8\xaf\xa2\xe6\x89\x80\xe6\x9c\x89\xe8\xa2\xab\xe9\xa2\x84\xe7\xba\xa6\xe4\xba\x86\xe7\x9a\x84\xe4\xb9\xa6\n\t<select id="queryAll" >\n\t\tSELECT \n\t\t\ta.book_id, \n\t\t\ta.student_id,\n\t\t\ta.appoint_time, \n\t\t\tb.book_id "book.book_id", \n\t\t\tb.`name` "book.name",\n\t\t\tb.introd "book.introd"\n\t\t\tb.number "book.number"\n\t\tFROM \n\t\t\tappointment a\n\t\tINNER JOIN book b ON a.book_id = b.book_id\t\n\t\tORDER BY\n\t\t\ta.book_id\n\t\tLIMIT #{offset}, #{limit}\n\t</select> \xe6\x9a\x82\xe6\x97\xb6\xe7\x94\xa8\xe4\xb8\x8d\xe5\x88\xb0\xe8\xbf\x99\xe4\xb8\xaa\xe5\x8a\x9f\xe8\x83\xbd\xef\xbc\x8c\xe7\xae\xa1\xe7\x90\x86\xe5\x91\x98\xe7\x95\x8c\xe9\x9d\xa2\xe5\xbe\x85\xe5\xbc\x80\xe5\x8f\x91-->\n\t\n</mapper>\n```\nStudentDao.java\n```java\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE mapper\n    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.imooc.appoint.dao.StudentDao">\n\t<select id="quaryStudent" resultType="com.imooc.appoint.entiy.Student">\n\t\tSELECT \n\t\t\tstudent_id,\n\t\t\tpassword\n\t\tFROM\n\t\t\tstudent\n\t\tWHERE\n\t\t\tstudent_id=#{studentId}\n\t\tAND password=#{password}\t\t\n\t</select>\n\n</mapper>\n```\n\xe5\x88\xb0\xe6\xad\xa4\xe4\xb8\xba\xe6\xad\xa2\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xacdao\xe5\xb1\x82\xe7\x9a\x84\xe5\xbc\x80\xe5\x8f\x91\xe5\xb0\xb1\xe7\xae\x97\xe7\xbb\x93\xe6\x9d\x9f\xe4\xba\x86\xef\xbc\x8c\xe5\xa4\xa7\xe5\xae\xb6\xe5\x8f\xaf\xe4\xbb\xa5\xe5\x86\x99\xe4\xb8\xaa\xe6\xb5\x8b\xe8\xaf\x95\xe7\xb1\xbb\xef\xbc\x8c\xe6\xb5\x8b\xe8\xaf\x95\xe4\xb8\x80\xe4\xb8\x8b\xe3\x80\x82\xef\xbc\x88\xe6\x88\x91\xe6\xb2\xa1\xe5\x86\x99\xef\xbc\x8c\xe5\x93\x88\xe5\x93\x88\xef\xbc\x89\xef\xbc\x8c\xe8\xa6\x81\xe5\xae\x9e\xe7\x8e\xb0\xe9\xa2\x84\xe7\xba\xa6\xe5\x8a\x9f\xe8\x83\xbd\xe8\xbf\x98\xe5\xbe\x97\xe6\x9c\x89\xe6\x9b\xb4\xe5\xa4\x9a\xe8\xaf\xa6\xe7\xbb\x86\xe7\x9a\x84\xe9\x80\xbb\xe8\xbe\x91\xe7\xbb\x84\xe7\xbb\x87\xef\xbc\x8c\xe8\xbf\x99\xe4\xb8\xaa\xe5\x8a\x9f\xe8\x83\xbd\xe5\xb0\x86\xe4\xbb\x96\xe6\x94\xbe\xe5\x9c\xa8service\xe4\xb8\xad\xef\xbc\x8c\xe4\xbb\x96\xe6\x8a\x8aDAO\xe4\xb8\xad\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xba\xa4\xe4\xba\x92\xe7\x9a\x84\xe5\x8a\x9f\xe8\x83\xbd\xe7\xbb\x84\xe7\xbb\x87\xe6\x88\x90\xe5\x8f\xaf\xe4\xbb\xa5\xe7\x94\xa8\xe7\x9a\x84\xe8\xaf\xa6\xe7\xbb\x86\xe9\x80\xbb\xe8\xbe\x91\xe3\x80\x82\xe6\x8f\x90\xe4\xbe\x9b\xe7\xbb\x99\xe4\xb8\x8a\xe5\xb1\x82web\xe8\xb0\x83\xe7\x94\xa8\xe3\x80\x82<br>\n## 8 service\xe5\xb1\x82<br>\n### \xe9\xa6\x96\xe5\x85\x88\xe5\x86\x99service\xe6\x8e\xa5\xe5\x8f\xa3\xe7\xb1\xbb<br>\nBookService.java\n```java\npackage com.imooc.appoint.service;\n\nimport java.util.List;\n\nimport com.imooc.appoint.dto.AppointExecution;\nimport com.imooc.appoint.entiy.Appointment;\nimport com.imooc.appoint.entiy.Book;\nimport com.imooc.appoint.entiy.Student; \n\npublic interface BookService {\n\t/**\n\t * \xe6\x9f\xa5\xe8\xaf\xa2\xe4\xb8\x80\xe6\x9c\xac\xe5\x9b\xbe\xe4\xb9\xa6\n\t * \n\t * @param bookId\n\t * @return\n\t */\n\tBook getById(long bookId);  \n\t/**\n\t * \xe6\x9f\xa5\xe8\xaf\xa2\xe6\x89\x80\xe6\x9c\x89\xe5\x9b\xbe\xe4\xb9\xa6\n\t * \n\t * @return\n\t */\n\tList<Book> getList();\n\t/**\n\t * \xe7\x99\xbb\xe9\x99\x86\xe6\x97\xb6\xe6\x9f\xa5\xe8\xaf\xa2\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89\xe8\xaf\xa5\xe5\xad\xa6\xe7\x94\x9f\xe8\xae\xb0\xe5\xbd\x95\xe3\x80\x82\n\t */\n\tStudent validateStu(Long studentId,Long password);\n\t/**\xe6\x8c\x89\xe7\x85\xa7\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x90\x8d\xe7\xa7\xb0\xe6\x9f\xa5\xe8\xaf\xa2\n\t * \xe6\x8c\x89\xe6\x9d\xa1\xe4\xbb\xb6\xe6\x90\x9c\xe7\xb4\xa2\xe5\x9b\xbe\xe4\xb9\xa6\n\t * \n\t */ \n\tList<Book> getSomeList(String name);\n\t/*\n\t * \xe6\x9f\xa5\xe7\x9c\x8b\xe6\x9f\x90\xe5\xad\xa6\xe7\x94\x9f\xe9\xa2\x84\xe7\xba\xa6\xe7\x9a\x84\xe6\x89\x80\xe6\x9c\x89\xe5\x9b\xbe\xe4\xb9\xa6\n\t * \n\t */\n\tList<Appointment> getAppointByStu(long studentId);\n\t/**\n\t * \xe9\xa2\x84\xe7\xba\xa6\xe5\x9b\xbe\xe4\xb9\xa6\n\t * \n\t * @param bookId\n\t * @param studentId\n\t * @return\n\t */\n\tAppointExecution appoint(long bookId, long studentId);//\xe8\xbf\x94\xe5\x9b\x9e\xe9\xa2\x84\xe7\xba\xa6\xe6\x88\x90\xe5\x8a\x9f\xe7\x9a\x84\xe5\xae\x9e\xe4\xbd\x93\xe7\xb1\xbb\n}\n```\n\xe5\xa4\xa7\xe5\xae\xb6\xe5\x8f\xaf\xe4\xbb\xa5\xe7\x9c\x8b\xe5\x88\xb0\xef\xbc\x8c\xe8\xbf\x99\xe4\xb8\xaa\xe5\x80\x9f\xe5\x8f\xa3\xe7\xb1\xbb\xe4\xb8\xad\xe5\x9f\xba\xe6\x9c\xac\xe5\x92\x8cDAO\xe4\xb8\xad\xe7\x9a\x84\xe6\xb2\xa1\xe5\x95\xa5\xe5\x8c\xba\xe5\x88\xab\xef\xbc\x8c\xe6\x9c\x89\xe5\x8c\xba\xe5\x88\xab\xe7\x9a\x84\xe6\x98\xaf\xe6\x9f\x90\xe4\xba\x9b\xe7\xb1\xbb\xe4\xbb\x96\xe6\x98\xaf\xe5\x9c\xa8dao\xe4\xb8\x8a\xe6\x9b\xb4\xe8\xbf\x9b\xe4\xb8\x80\xe6\xad\xa5\xef\xbc\x8c\xe9\x9c\x80\xe8\xa6\x81\xe5\xa4\x9a\xe4\xb8\xaadao\xe7\xb1\xbb\xe4\xb8\x80\xe8\xb5\xb7\xe7\xbb\x84\xe7\xbb\x87\xef\xbc\x8c\xe6\x88\x96\xe8\x80\x85\xe5\x9c\xa8\xe5\x8a\xa0\xe5\x85\xa5\xe5\x85\xb6\xe5\xae\x83\xe9\x80\xbb\xe8\xbe\x91\xe6\x89\x8d\xe8\x83\xbd\xe5\xae\x9e\xe7\x8e\xb0<br>\n\xe4\xb8\xba\xe4\xba\x86\xe5\xae\x9e\xe7\x8e\xb0BookService\xe7\x9a\x84\xe5\x80\x9f\xe5\x8f\xa3\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe5\xbe\x97\xe5\x86\x99BookServiceImpl\xe7\xb1\xbb\xe3\x80\x82\xe4\xbd\x86\xe6\x98\xaf\xe6\x83\xb3\xe8\xae\xa9\xe6\x88\x91\xe4\xbb\xac\xe6\x83\xb3\xe6\x83\xb3\xef\xbc\x8c\xe4\xb8\xba\xe4\xba\x86\xe5\x86\x99BookServiceImpl\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe9\x9c\x80\xe8\xa6\x81\xe4\xbb\x80\xe4\xb9\x88\xef\xbc\x8c\xe4\xb8\x8a\xe9\x9d\xa2\xe6\x88\x91\xe4\xbb\xac\xe5\xb7\xb2\xe7\xbb\x8f\xe5\x86\x99\xe5\x87\xba\xe9\xa2\x84\xe7\xba\xa6\xe6\x88\x90\xe5\x8a\x9f\xe7\x9a\x84\xe5\xae\x9e\xe4\xbd\x93\xe7\xb1\xbb\xe6\x98\xafAppointExecution\xef\xbc\x8c\xe6\x89\x80\xe4\xbb\xa5\xe5\xbd\x93\xe7\x84\xb6\xe6\x88\x91\xe4\xbb\xac\xe5\xbe\x97\xe5\x86\x99\xe5\x87\xba\xe8\xaf\xa5\xe7\xb1\xbb\xef\xbc\x8c\xe5\x9b\xa0\xe4\xb8\xba\xe8\xaf\xa5\xe7\xb1\xbb\xe4\xba\xa4\xe4\xba\x92service\xe5\x92\x8cweb\xef\xbc\x8c\xe5\xaf\xb9\xe8\xbf\x99\xe7\xb1\xbb\xe6\x9c\x89\xe7\x82\xb9\xe5\x83\x8fentiy\xe5\x8c\x85\xe6\x88\x91\xe4\xbb\xac\xe7\xae\xa1\xe5\x8f\xabbto\xe5\x8c\x85\xef\xbc\x88bto\xe5\x8c\x85\xe5\x92\x8c\xe5\x85\xb6\xe4\xbb\x96\xe5\x8c\x85\xe4\xb8\x80\xe8\xb5\xb7\xe5\xad\x98\xe6\x94\xbe\xe5\x9c\xa8appoint\xe4\xb8\x8b\xef\xbc\x89\xe3\x80\x82\xe5\xaf\xb9\xe4\xba\x8eAppointExecution\xe6\x9d\xa5\xe8\xaf\xb4\xef\xbc\x8c\xe4\xbd\x9c\xe7\x94\xa8\xe5\xb0\xb1\xe6\x98\xaf\xe9\xa2\x84\xe7\xba\xa6\xe6\x88\x90\xe5\x8a\x9f\xe5\x90\x8e\xe7\xbb\x99web\xe5\xb1\x82\xe6\x8f\x90\xe4\xbe\x9b\xe8\xbf\x94\xe5\x9b\x9e\xe7\x9a\x84\xe4\xbf\xa1\xe6\x81\xaf\xe3\x80\x82\xef\xbc\x88\xe5\xb0\xb1\xe6\x98\xaf\xe8\xbf\x94\xe5\x9b\x9e\xe9\xa2\x84\xe7\xba\xa6\xe6\x88\x90\xe5\x8a\x9f\xe3\x80\x81\xe9\xa2\x84\xe7\xba\xa6\xe5\xa4\xb1\xe8\xb4\xa5\xe3\x80\x81\xe6\x97\xa0\xe5\xba\x93\xe5\xad\x98\xe3\x80\x81\xe4\xb9\x8b\xe7\xb1\xbb\xe7\x9a\x84\xe4\xbf\xa1\xe6\x81\xaf\xef\xbc\x89<br>\n```java\npackage com.imooc.appoint.dto;\nimport com.imooc.appoint.enums.AppointStateEnum;\n\npublic class AppointExecution {\n\n\t// \xe5\x9b\xbe\xe4\xb9\xa6ID\n\tprivate long bookId;\n\n\t// \xe9\xa2\x84\xe7\xba\xa6\xe7\xbb\x93\xe6\x9e\x9c\xe7\x8a\xb6\xe6\x80\x81\n\tprivate int state;\n\n\t// \xe7\x8a\xb6\xe6\x80\x81\xe6\xa0\x87\xe8\xaf\x86\n\tprivate String stateInfo;  \n\n\tpublic AppointExecution() {\n\t}\n\n\t// \xe9\xa2\x84\xe7\xba\xa6\xe5\xa4\xb1\xe8\xb4\xa5\xe7\x9a\x84\xe6\x9e\x84\xe9\x80\xa0\xe5\x99\xa8\n\tpublic AppointExecution(long bookId, AppointStateEnum stateEnum) {\n\t\tthis.bookId = bookId;\n\t\tthis.state = stateEnum.getState();\n\t\tthis.stateInfo = stateEnum.getStateInfo();\n\t}\n\n\t//set get \xe6\x96\xb9\xe6\xb3\x95\xef\xbc\x81\n\tpublic long getBookId() {\n\t\treturn bookId;\n\t}\n\n\tpublic void setBookId(long bookId) {\n\t\tthis.bookId = bookId;\n\t}\n\n\tpublic int getState() {\n\t\treturn state;\n\t}\n\n\tpublic void setState(int state) {\n\t\tthis.state = state;\n\t}\n\n\tpublic String getStateInfo() {\n\t\treturn stateInfo;\n\t}\n\n\tpublic void setStateInfo(String stateInfo) {\n\t\tthis.stateInfo = stateInfo;\n\t}\n\t\n\t@Override\n\tpublic String toString() {\n\t\treturn "AppointExecution [bookId=" + bookId + ", state=" + state + ", stateInfo=" + stateInfo+"]";\n\t} \n}\n```\n\xe9\x99\xa4\xe6\xad\xa4\xe4\xb9\x8b\xe5\xa4\x96\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe5\x9c\xa8\xe9\xa2\x84\xe7\xba\xa6\xe5\x9b\xbe\xe4\xb9\xa6\xe6\x97\xb6\xe5\x8f\xaf\xe8\x83\xbd\xe5\x87\xba\xe7\x8e\xb0\xe5\xbc\x82\xe5\xb8\xb8\xef\xbc\x8c\xe4\xbe\x8b\xe5\xa6\x82\xe9\x87\x8d\xe5\xa4\x8d\xe9\xa2\x84\xe7\xba\xa6\xe3\x80\x81\xe6\x97\xa0\xe5\xba\x93\xe5\xad\x98\xe3\x80\x81\xe5\x92\x8c\xe5\x85\xb6\xe4\xbb\x96\xe5\xbc\x82\xe5\xb8\xb8\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe9\x9c\x80\xe8\xa6\x81\xe4\xba\x8b\xe5\x85\x88\xe8\xae\xbe\xe8\xae\xa1\xe5\xa5\xbd\xe5\xbc\x82\xe5\xb8\xb8\xe7\xb1\xbb\xef\xbc\x8c\xe6\x9d\xa5\xe6\x8e\xa5\xe6\x94\xb6\xe8\xbf\x99\xe7\xb1\xbb\xe5\xbc\x82\xe5\xb8\xb8\xef\xbc\x8c\xe6\x96\xb9\xe4\xbe\xbf\xe5\xa4\x84\xe7\x90\x86\xef\xbc\x8c\xe8\x80\x8c\xe4\xb8\x8d\xe6\x98\xaf\xe7\x9b\xb4\xe6\x8e\xa5\xe6\x8a\xa5\xe9\x94\x99\xe3\x80\x82\xe5\x9b\xa0\xe6\xad\xa4\xe5\x9c\xa8appoint\xe5\x8c\x85\xe4\xb8\x8b\xe6\x96\xb0\xe5\xbb\xbaexcption\xe5\x8c\x85\xef\xbc\x8c\xe6\x8a\xa5\xe4\xb8\x8b\xe6\x96\xb0\xe5\xbb\xba\xe4\xb8\x89\xe4\xb8\xaa\xe7\xb1\xbb\xef\xbc\x9aAppoinException.java;NoNumberException.java;RepeatAppoint.java<br>\nAppoinException.java\n```java\npackage com.imooc.appoint.exception;\n//\xe9\xa2\x84\xe7\xba\xa6\xe4\xb9\x89\xe5\x8a\xa1\xe5\xbc\x82\xe5\xb8\xb8\npublic class AppointException extends RuntimeException{\n\tpublic AppointException(String message) {\n\t\tsuper(message);\n\t}\n\n\tpublic AppointException(String message, Throwable cause) {\n\t\tsuper(message, cause);\n\t}\n}\n\n```\nNoNumberException.java\n```java\npackage com.imooc.appoint.exception;\n\n//\xe5\xba\x93\xe5\xad\x98\xe4\xb8\x8d\xe8\xb6\xb3\xe5\xbc\x82\xe5\xb8\xb8\npublic class NoNumberException extends RuntimeException{\n\tpublic NoNumberException(String message) {\n\t\tsuper(message);\n\t}\n\n\tpublic NoNumberException(String message, Throwable cause) {\n\t\tsuper(message, cause);\n\t}\n\n}\n\n```\nRepeatAppoint.java\n```java\npackage com.imooc.appoint.exception;\n//\xe9\x87\x8d\xe5\xa4\x8d\xe9\xa2\x84\xe7\xba\xa6\xe5\xbc\x82\xe5\xb8\xb8\npublic class RepeatAppointException extends RuntimeException{\n\tpublic RepeatAppointException(String message) {\n\t\tsuper(message);\n\t}\n\n\tpublic RepeatAppointException(String message, Throwable cause) {\n\t\tsuper(message, cause);\n\t}\n}\n```\n\xe7\x8e\xb0\xe5\x9c\xa8\xe5\x8f\xaf\xe4\xbb\xa5\xe5\x86\x99\xe6\x8e\xa5\xe5\x8f\xa3\xe7\x9a\x84\xe5\xae\x9e\xe7\x8e\xb0\xe7\xb1\xbb\xe5\x95\xa6\xef\xbc\x9aBookServiceImpl.java<br>\n```java\npackage com.imooc.appoint.service.Impl;\n\nimport java.util.List;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.imooc.appoint.dao.AppointmentDao;\nimport com.imooc.appoint.dao.BookDao;\nimport com.imooc.appoint.dao.StudentDao;\nimport com.imooc.appoint.dto.AppointExecution;\nimport com.imooc.appoint.entiy.Appointment;\nimport com.imooc.appoint.entiy.Book;\nimport com.imooc.appoint.entiy.Student;\nimport com.imooc.appoint.enums.AppointStateEnum;\nimport com.imooc.appoint.exception.AppointException;\nimport com.imooc.appoint.exception.NoNumberException;\nimport com.imooc.appoint.exception.RepeatAppointException;\nimport com.imooc.appoint.service.BookService;\n \n@Service\npublic class BookServiceImpl implements BookService{\n\tprivate Logger logger=LoggerFactory.getLogger(this.getClass());\n\t@Autowired\n\tprivate BookDao bookDao;\n\t@Autowired\n\tprivate AppointmentDao appointmentDao;\n\t@Autowired\n\tprivate StudentDao studentDao; \n\t@Override\n\tpublic Book getById(long bookId) { \n\t\treturn bookDao.queryById(bookId);\n\t}  \n\t@Override\n\tpublic List<Book> getList() { \n\t\treturn bookDao.queryAll(0, 1000);\n\t} \n\t@Override\n\tpublic Student validateStu(Long studentId,Long password){\n\t\treturn studentDao.quaryStudent(studentId, password);\n\t}\n\t@Override\n\tpublic List<Book> getSomeList(String name) {\n\t\t \n\t\treturn bookDao.querySome(name);\n\t} \n\t@Override\n\tpublic List<Appointment> getAppointByStu(long studentId) {//DOTO\n\t\treturn appointmentDao.quaryAndReturn(studentId);\n\t\t \n\t}\n\t@Override\n\t@Transactional\n\tpublic AppointExecution appoint(long bookId, long studentId) {//\xe5\x9c\xa8Dao\xe7\x9a\x84\xe5\x9f\xba\xe7\xa1\x80\xe4\xb8\x8a\xe7\xbb\x84\xe7\xbb\x87\xe9\x80\xbb\xe8\xbe\x91\xef\xbc\x8c\xe5\xbd\xa2\xe6\x88\x90\xe4\xb8\x8eweb\xe6\x88\x90\xe4\xba\xa4\xe4\xba\x92\xe7\x94\xa8\xe7\x9a\x84\xe6\x96\xb9\xe6\xb3\x95\n\t\ttry{\t\t\t\t\t\t\t\t\t\t\t\t\t  //\xe8\xbf\x94\xe5\x9b\x9e\xe6\x88\x90\xe5\x8a\x9f\xe9\xa2\x84\xe7\xba\xa6\xe7\x9a\x84\xe7\xb1\xbb\xe5\x9e\x8b\xe3\x80\x82\t\t\n\t\t\tint update=bookDao.reduceNumber(bookId);//\xe5\x87\x8f\xe5\xba\x93\xe5\xad\x98\n\t\t\tif(update<=0){//\xe5\xb7\xb2\xe7\xbb\x8f\xe6\x97\xa0\xe5\xba\x93\xe5\xad\x98\xef\xbc\x81\n\t\t\t\tthrow new NoNumberException("no number");\n\t\t\t}else{\n\t\t\t\t//\xe6\x89\xa7\xe8\xa1\x8c\xe9\xa2\x84\xe7\xba\xa6\xe6\x93\x8d\xe4\xbd\x9c\n\t\t\t\tint insert=appointmentDao.insertAppointment(bookId, studentId);\n\t\t\t\tif(insert<=0){//\xe9\x87\x8d\xe5\xa4\x8d\xe9\xa2\x84\xe7\xba\xa6\n\t\t\t\t\tthrow new RepeatAppointException("repeat appoint");\n\t\t\t\t}else{//\xe9\xa2\x84\xe7\xba\xa6\xe6\x88\x90\xe5\x8a\x9f\n\t\t\t\t\treturn new AppointExecution(bookId,AppointStateEnum.SUCCESS);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t} catch (NoNumberException e1) {\n\t\t\tthrow e1;\n\t\t} catch (RepeatAppointException e2) {\n\t\t\tthrow e2;\n\t\t} catch (Exception e) {\n\t\t\tlogger.error(e.getMessage(), e);\n\t\t\t// \xe6\x89\x80\xe6\x9c\x89\xe7\xbc\x96\xe8\xaf\x91\xe6\x9c\x9f\xe5\xbc\x82\xe5\xb8\xb8\xe8\xbd\xac\xe6\x8d\xa2\xe4\xb8\xba\xe8\xbf\x90\xe8\xa1\x8c\xe6\x9c\x9f\xe5\xbc\x82\xe5\xb8\xb8\n\t\t\tthrow new AppointException("appoint inner error:" + e.getMessage());\n\t\t}\n\t} \n}\n\n```\n### \xe5\x8f\x88\xe5\x88\xb0\xe4\xba\x86\xe6\x88\x91\xe4\xbb\xac\xe5\x86\x99service\xe5\xb1\x82\xe9\x85\x8d\xe7\xbd\xae\xe7\x9a\x84\xe6\x97\xb6\xe5\x80\x99\xef\xbc\x81<br>\n\xe8\xaf\xa5xml\xe4\xbe\x9d\xe7\x84\xb6\xe4\xbd\x8d\xe4\xba\x8eresourse\xe4\xb8\x8b\xe7\x9a\x84spring\xe5\x8c\x85\xe4\xb8\x8b<br>\nspring-service.xml\n```java\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n\txmlns:context="http://www.springframework.org/schema/context"\n\txmlns:tx="http://www.springframework.org/schema/tx"\n\txsi:schemaLocation="http://www.springframework.org/schema/beans\n\thttp://www.springframework.org/schema/beans/spring-beans.xsd\n\thttp://www.springframework.org/schema/context\n\thttp://www.springframework.org/schema/context/spring-context.xsd\n\thttp://www.springframework.org/schema/tx\n\thttp://www.springframework.org/schema/tx/spring-tx.xsd">\n\t<!-- \xe6\x89\xab\xe6\x8f\x8fservice\xe5\x8c\x85\xe4\xb8\x8b\xe6\x89\x80\xe6\x9c\x89\xe4\xbd\xbf\xe7\x94\xa8\xe6\xb3\xa8\xe8\xa7\xa3\xe7\x9a\x84\xe7\xb1\xbb\xe5\x9e\x8b -->\n\t<context:component-scan base-package="com.imooc.appoint.service"></context:component-scan>\n\t<!-- \xe9\x85\x8d\xe7\xbd\xae\xe4\xba\x8b\xe5\x8a\xa1\xe7\xae\xa1\xe7\x90\x86\xe5\x99\xa8 -->\n\t<bean id="transactionManager"\n\t\tclass="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n\t\t<!-- \xe6\xb3\xa8\xe5\x85\xa5\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe8\xbf\x9e\xe6\x8e\xa5\xe6\xb1\xa0 -->\n\t\t<property name="dataSource" ref="dataSource" />\n\t</bean>\n\t\t<!-- \xe9\x85\x8d\xe7\xbd\xae\xe5\x9f\xba\xe4\xba\x8e\xe6\xb3\xa8\xe8\xa7\xa3\xe7\x9a\x84\xe5\xa3\xb0\xe6\x98\x8e\xe5\xbc\x8f\xe4\xba\x8b\xe5\x8a\xa1 -->\n\t<tx:annotation-driven transaction-manager="transactionManager" />\n</beans>\t\n```\n## 9web\xe5\xb1\x82<br>\n\xe7\x8e\xb0\xe5\x9c\xa8\xe6\x88\x91\xe4\xbb\xac\xe4\xb8\x80\xe8\xb5\xb7\xe7\x9c\x8b\xe7\x9c\x8bweb\xe5\xb1\x82\xe8\xaf\xa5\xe5\xa6\x82\xe4\xbd\x95\xe7\xbb\x84\xe7\xbb\x87\xe3\x80\x82<br>\n\xe5\x9c\xa8\xe5\x86\x99\xe5\x85\xb7\xe4\xbd\x93\xe7\x9a\x84\xe4\xbb\xa3\xe7\xa0\x81\xe4\xb9\x8b\xe5\x89\x8d\xef\xbc\x8c\xe5\x85\x88\xe9\x85\x8d\xe7\xbd\xaeweb\xe5\xb1\x82\xef\xbc\x8c\xe5\x9c\xa8\xe8\xbf\x99\xe9\x87\x8c\xe4\xb8\xbb\xe8\xa6\x81\xe5\xae\x9e\xe7\x8e\xb0\xe7\x9a\x84\xe4\xbd\x9c\xe7\x94\xa8\xe6\x98\xaf\xef\xbc\x9a<br>\n1\xe3\x80\x81\xe5\xbc\x80\xe5\x90\xafSpringMVC\xe6\xb3\xa8\xe8\xa7\xa3\xe6\xa8\xa1\xe5\xbc\x8f\xef\xbc\x8c\xe5\x8f\xaf\xe4\xbb\xa5\xe4\xbd\xbf\xe7\x94\xa8@RequestMapping\xef\xbc\x8c@PathVariable\xef\xbc\x8c@ResponseBody\xe7\xad\x89<br>\n2\xe3\x80\x81\xe5\xaf\xb9\xe9\x9d\x99\xe6\x80\x81\xe8\xb5\x84\xe6\xba\x90\xe5\xa4\x84\xe7\x90\x86\xef\xbc\x8c\xe5\xa6\x82js\xef\xbc\x8ccss\xef\xbc\x8cjpg\xe7\xad\x89<br>\n3\xe3\x80\x81\xe9\x85\x8d\xe7\xbd\xaejsp \xe6\x98\xbe\xe7\xa4\xbaViewResolver\xef\xbc\x8c\xe4\xbe\x8b\xe5\xa6\x82\xe5\x9c\xa8controller\xe4\xb8\xad\xe6\x9f\x90\xe4\xb8\xaa\xe6\x96\xb9\xe6\xb3\x95\xe8\xbf\x94\xe5\x9b\x9e\xe4\xb8\x80\xe4\xb8\xaastring\xe7\xb1\xbb\xe5\x9e\x8b\xe7\x9a\x84"login"\xef\xbc\x8c\xe5\xae\x9e\xe9\x99\x85\xe4\xb8\x8a\xe4\xbc\x9a\xe8\xbf\x94\xe5\x9b\x9e"/WEB-INF/login.jsp"<br>\n4\xe3\x80\x81\xe6\x89\xab\xe6\x8f\x8fweb\xe5\xb1\x82 @Controller <br>\n\xe8\xaf\xa6\xe7\xbb\x86\xe8\xa7\x81xml\xe4\xb8\xad\xe6\xaf\x8f\xe4\xb8\x80\xe6\xad\xa5\xe7\x9a\x84\xe6\xb3\xa8\xe9\x87\x8a<br>\nspring-web.xml<br>\n```java\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n\txmlns:context="http://www.springframework.org/schema/context"\n\txmlns:mvc="http://www.springframework.org/schema/mvc" \n\txsi:schemaLocation="http://www.springframework.org/schema/beans\n\thttp://www.springframework.org/schema/beans/spring-beans.xsd\n\thttp://www.springframework.org/schema/context\n\thttp://www.springframework.org/schema/context/spring-context.xsd\n\thttp://www.springframework.org/schema/mvc\n\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">\n\t\t<!-- \xe9\x85\x8d\xe7\xbd\xaeSpringMVC -->\n\t<!-- 1.\xe5\xbc\x80\xe5\x90\xafSpringMVC\xe6\xb3\xa8\xe8\xa7\xa3\xe6\xa8\xa1\xe5\xbc\x8f -->\n\t<!-- \xe7\xae\x80\xe5\x8c\x96\xe9\x85\x8d\xe7\xbd\xae\xef\xbc\x9a \n\t\t(1)\xe8\x87\xaa\xe5\x8a\xa8\xe6\xb3\xa8\xe5\x86\x8cDefaultAnootationHandlerMapping,AnotationMethodHandlerAdapter \n\t\t(2)\xe6\x8f\x90\xe4\xbe\x9b\xe4\xb8\x80\xe4\xba\x9b\xe5\x88\x97\xef\xbc\x9a\xe6\x95\xb0\xe6\x8d\xae\xe7\xbb\x91\xe5\xae\x9a\xef\xbc\x8c\xe6\x95\xb0\xe5\xad\x97\xe5\x92\x8c\xe6\x97\xa5\xe6\x9c\x9f\xe7\x9a\x84format @NumberFormat, @DateTimeFormat, xml,json\xe9\xbb\x98\xe8\xae\xa4\xe8\xaf\xbb\xe5\x86\x99\xe6\x94\xaf\xe6\x8c\x81 \n\t-->\n\t<mvc:annotation-driven />\n\t<!-- 2.\xe9\x9d\x99\xe6\x80\x81\xe8\xb5\x84\xe6\xba\x90\xe9\xbb\x98\xe8\xae\xa4servlet\xe9\x85\x8d\xe7\xbd\xae\n\t\t(1)\xe5\x8a\xa0\xe5\x85\xa5\xe5\xaf\xb9\xe9\x9d\x99\xe6\x80\x81\xe8\xb5\x84\xe6\xba\x90\xe7\x9a\x84\xe5\xa4\x84\xe7\x90\x86\xef\xbc\x9ajs,gif,png\n\t\t(2)\xe5\x85\x81\xe8\xae\xb8\xe4\xbd\xbf\xe7\x94\xa8"/"\xe5\x81\x9a\xe6\x95\xb4\xe4\xbd\x93\xe6\x98\xa0\xe5\xb0\x84\n\t -->\n\t <mvc:default-servlet-handler/>\n\t <!-- 3.\xe9\x85\x8d\xe7\xbd\xaejsp \xe6\x98\xbe\xe7\xa4\xbaViewResolver -->\n\t <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">\n\t \t<property name="viewClass" value="org.springframework.web.servlet.view.JstlView" />\n\t \t<property name="prefix" value="/WEB-INF/jsp/" />\n\t \t<property name="suffix" value=".jsp" />\n\t </bean>\n\t \n\t <!-- 4.\xe6\x89\xab\xe6\x8f\x8fweb\xe7\x9b\xb8\xe5\x85\xb3\xe7\x9a\x84bean -->\n\t <context:component-scan base-package="com.imooc.appoint.web" />\n</beans>\n```\n\xe5\xbd\x93\xe7\x84\xb6\xe6\x88\x91\xe4\xbb\xac\xe5\xbf\x85\xe9\xa1\xbb\xe4\xbf\xae\xe6\x94\xb9web.xml\xe6\x96\x87\xe4\xbb\xb6\xef\xbc\x8c\xe5\xae\x83\xe5\x9c\xa8webapp\xe7\x9a\x84WEB-INF\xe4\xb8\x8b\xef\xbc\x8c\xe8\xbf\x99\xe4\xb8\xaa\xe6\x96\x87\xe4\xbb\xb6\xe9\x85\x8d\xe7\xbd\xaeservlet\xef\xbc\x8c\xe5\xb9\xb6\xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\xef\xbc\x8c\xe6\x8c\x87\xe5\xae\x9a\xe6\x89\xab\xe6\x8f\x8fspring\xe7\x9b\xb8\xe5\x85\xb3\xe7\x9a\x84\xe9\x85\x8d\xe7\xbd\xae\xef\xbc\x8c\xe6\x9c\x80\xe5\x90\x8e\xe6\x88\x91\xe4\xbb\xac\xe5\xb0\x86\xe6\x89\x80\xe6\x9c\x89\xe7\x9a\x84url\xe9\x83\xbd\xe6\x8b\xa6\xe6\x88\xaa\xe4\xb8\x8b\xe6\x9d\xa5\xe3\x80\x82\nweb.xml<br>\n```java\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n\txsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee\n                      http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"\n\tversion="3.1" metadata-complete="true">\n   \t<servlet>\n   \t\t<servlet-name>BookAppointment-dispatcher</servlet-name>\n   \t\t<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n   \t\t<init-param>\n   \t\t\t<param-name>contextConfigLocation</param-name>\n   \t\t\t<param-value>classpath:spring/spring-*.xml</param-value>\n   \t\t</init-param>\n   \t</servlet>\n  \t<servlet-mapping>\n  \t\t<servlet-name>BookAppointment-dispatcher</servlet-name>\n  \t\t<url-pattern>/</url-pattern>\n  \t</servlet-mapping>\n  \n</web-app>\n\n``` \n\xe5\x9b\xa0\xe4\xb8\xba\xe5\x9c\xa8\xe8\xbf\x90\xe8\xa1\x8c\xe6\x97\xb6\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe7\xbb\x8f\xe5\xb8\xb8\xe4\xbc\x9a\xe6\x9f\xa5\xe7\x9c\x8b\xe6\x97\xa5\xe5\xbf\x97\xe4\xbb\x80\xe4\xb9\x88\xe7\x9a\x84\xef\xbc\x8c\xe6\x89\x80\xe4\xbb\xa5\xe6\x88\x91\xe4\xbb\xac\xe6\x8a\x8a\xe8\xbf\x99\xe4\xb8\xaa\xe9\x85\x8d\xe7\xbd\xae\xe8\xbf\x9b\xe5\x8e\xbb<br>\nlogback.xml\n```java\n<?xml version="1.0" encoding="UTF-8"?><!-- \xe6\x88\x91\xe4\xbb\xac\xe5\x9c\xa8\xe9\xa1\xb9\xe7\x9b\xae\xe4\xb8\xad\xe7\xbb\x8f\xe5\xb8\xb8\xe4\xbc\x9a\xe4\xbd\xbf\xe7\x94\xa8\xe5\x88\xb0\xe6\x97\xa5\xe5\xbf\x97\xef\xbc\x8c\xe6\x89\x80\xe4\xbb\xa5\xe8\xbf\x99\xe9\x87\x8c\xe8\xbf\x98\xe6\x9c\x89\xe9\x85\x8d\xe7\xbd\xae\xe6\x97\xa5\xe5\xbf\x97xml -->\n<configuration debug="true">\n\t<appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">\n\t\t<!-- encoders are by default assigned the type ch.qos.logback.classic.encoder.PatternLayoutEncoder -->\n\t\t<encoder>\n\t\t\t<pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>\n\t\t</encoder>\n\t</appender>\n\n\t<root level="debug">\n\t\t<appender-ref ref="STDOUT" />\n\t</root>\n</configuration>\n```\n\xe6\x9c\x80\xe5\x90\x8e\xe6\x88\x91\xe4\xbb\xac\xe5\xbc\x80\xe5\xa7\x8b\xe7\xbb\x84\xe7\xbb\x87\xe6\x88\x91\xe4\xbb\xacweb\xe7\x9a\x84\xe9\x80\xbb\xe8\xbe\x91\xef\xbc\x8c\xe4\xb9\x9f\xe5\xb0\xb1\xe6\x98\xaf\xe5\x85\xb7\xe4\xbd\x93\xe7\x9a\x84controller\xe5\xb1\x82\xe4\xbb\xa3\xe7\xa0\x81\xe7\x9a\x84\xe7\xbc\x96\xe5\x86\x99\xe3\x80\x82<br>\n\xe8\xbf\x99\xe4\xb8\x80\xe5\xb1\x82\xe4\xb8\xad\xe4\xb8\x8e\xe6\x88\x91\xe4\xbb\xac\xe7\x9a\x84\xe5\x89\x8d\xe6\xae\xb5\xe8\x81\x94\xe7\xb3\xbb\xe7\x9a\x84\xe8\xbe\x83\xe4\xb8\xba\xe7\xb4\xa7\xe5\xaf\x86\xef\xbc\x8c\xe5\xa4\xa7\xe5\xae\xb6\xe5\x8f\xaf\xe4\xbb\xa5\xe8\xbe\xb9\xe5\x86\x99\xe8\xbe\xb9\xe7\x9c\x8b\xe6\x95\x88\xe6\x9e\x9c\xef\xbc\x8c\xe5\x86\x8d\xe8\xb0\x83\xe8\xaf\x95\xe3\x80\x82\n```java\npackage com.imooc.appoint.web;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.apache.ibatis.annotations.Param;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.imooc.appoint.dto.AppointExecution;\nimport com.imooc.appoint.dto.Result;\nimport com.imooc.appoint.entiy.Appointment;\nimport com.imooc.appoint.entiy.Book;\nimport com.imooc.appoint.entiy.Student;\nimport com.imooc.appoint.enums.AppointStateEnum;\nimport com.imooc.appoint.service.BookService;\nimport com.imooc.appoint.exception.RepeatAppointException;\nimport com.imooc.appoint.exception.NoNumberException;\n \n\n@Controller\n@RequestMapping("/books")\npublic class BookController {\n\tprivate Logger logger=LoggerFactory.getLogger(this.getClass());\n\t@Autowired\n\tprivate BookService bookService;\n\t//\xe8\x8e\xb7\xe5\x8f\x96\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x88\x97\xe8\xa1\xa8\n\t@RequestMapping(value="/list",method = RequestMethod.GET)\n\tprivate String List(Model model){\n\t\tList<Book> list = bookService.getList();\n\t\tmodel.addAttribute("list", list);\n\t\t\n\t\treturn "list";\n\t}\n\t//\xe6\x90\x9c\xe7\xb4\xa2\xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89\xe6\x9f\x90\xe5\x9b\xbe\xe4\xb9\xa6\n\t@RequestMapping(value="/search",method = RequestMethod.POST)\n\tprivate void  search(HttpServletRequest req,HttpServletResponse resp) \n\t\t\t\t\t\t\t\tthrows ServletException, IOException{\n\t\t//\xe6\x8e\xa5\xe6\x94\xb6\xe9\xa1\xb5\xe9\x9d\xa2\xe7\x9a\x84\xe5\x80\xbc\n\t\tString name=req.getParameter("name");\n\t\tname=name.trim();\n\t\t//\xe5\x90\x91\xe9\xa1\xb5\xe9\x9d\xa2\xe4\xbc\xa0\xe5\x80\xbc\n\t\treq.setAttribute("name", name);\n\t\treq.setAttribute("list", bookService.getSomeList(name)); \n\t\treq.getRequestDispatcher("/WEB-INF/jsp/list.jsp").forward(req, resp); \n\t}\n\t//\xe6\x9f\xa5\xe7\x9c\x8b\xe6\x9f\x90\xe5\x9b\xbe\xe4\xb9\xa6\xe7\x9a\x84\xe8\xaf\xa6\xe7\xbb\x86\xe6\x83\x85\xe5\x86\xb5\n\t@RequestMapping(value = "/{bookId}/detail", method = RequestMethod.GET)\n\tprivate String detail(@PathVariable("bookId") Long bookId, Model model){\n\t\tif(bookId==null){\n\t\t\treturn "redict:/book/list";\n\t\t}\n\t\tBook book=bookService.getById(bookId);\n\t\tif(book==null){\n\t\t\treturn "forward:/book/list"; \n\t\t}\n\t\tmodel.addAttribute("book",book);\n\t\tSystem.out.println(book);\n\t\treturn "detail";\n\t}\n\t//\xe9\xaa\x8c\xe8\xaf\x81\xe8\xbe\x93\xe5\x85\xa5\xe7\x9a\x84\xe7\x94\xa8\xe6\x88\xb7\xe5\x90\x8d\xe3\x80\x81\xe5\xaf\x86\xe7\xa0\x81\xe6\x98\xaf\xe5\x90\xa6\xe6\xad\xa3\xe7\xa1\xae\n\t@RequestMapping(value="/verify", method = RequestMethod.POST, produces = {\n\t\t"application/json; charset=utf-8" })\n\t@ResponseBody\n\tprivate Map validate(Long studentId,Long password){   //(HttpServletRequest req,HttpServletResponse resp){\n\t\tMap resultMap=new HashMap(); \n\t\tStudent student =null;  \n\t\tSystem.out.println("\xe9\xaa\x8c\xe8\xaf\x81\xe5\x87\xbd\xe6\x95\xb0"); \n\t\tstudent =bookService.validateStu(studentId,password);\n\t\t\n\t\tSystem.out.println("\xe8\xbe\x93\xe5\x85\xa5\xe7\x9a\x84\xe5\xad\xa6\xe5\x8f\xb7\xe3\x80\x81\xe5\xaf\x86\xe7\xa0\x81\xef\xbc\x9a"+studentId+":"+password);\n\t\tSystem.out.println("\xe6\x9f\xa5\xe8\xaf\xa2\xe5\x88\xb0\xe7\x9a\x84\xef\xbc\x9a"+student.getStudentId()+":"+student.getPassword());\n\t\t\n\t\tif(student!=null){\n\t\t\tSystem.out.println("SUCCESS");\n\t\t\tresultMap.put("result", "SUCCESS");\n\t\t\treturn resultMap;\n\t\t}else{ \n\t\t\tresultMap.put("result", "FAILED");\n\t\t\treturn resultMap;\n\t\t}\n\t\t\n\t}\n\t//\xe6\x89\xa7\xe8\xa1\x8c\xe9\xa2\x84\xe7\xba\xa6\xe7\x9a\x84\xe9\x80\xbb\xe8\xbe\x91\n\t@RequestMapping(value = "/{bookId}/appoint", method = RequestMethod.POST, produces = {\n\t"application/json; charset=utf-8" })\n\t@ResponseBody\n\tprivate Result<AppointExecution> execute(@PathVariable("bookId") Long bookId,@RequestParam("studentId") Long studentId){\n\t\tResult<AppointExecution> result;\n\t\tAppointExecution execution=null;\n\t\t\n\t\ttry{//\xe6\x89\x8b\xe5\x8a\xa8try catch,\xe5\x9c\xa8\xe8\xb0\x83\xe7\x94\xa8appoint\xe6\x96\xb9\xe6\xb3\x95\xe6\x97\xb6\xe5\x8f\xaf\xe8\x83\xbd\xe6\x8a\xa5\xe9\x94\x99\n\t\t\texecution=bookService.appoint(bookId, studentId);\n\t\t\tresult=new Result<AppointExecution>(true,execution); \n\t\t\t\treturn result; \n\t\t\t\t\n\t\t} catch(NoNumberException e1) {\n\t\t\texecution=new AppointExecution(bookId,AppointStateEnum.NO_NUMBER);\n\t\t\tresult=new Result<AppointExecution>(true,execution);\n\t\t\t\treturn result;\n\t\t}catch(RepeatAppointException e2){\n\t\t\texecution=new AppointExecution(bookId,AppointStateEnum.REPEAT_APPOINT);\n\t\t\tresult=new Result<AppointExecution>(true,execution);\n\t\t\t\treturn result;\n\t\t}catch (Exception e){\n\t\t\texecution=new AppointExecution(bookId,AppointStateEnum.INNER_ERROR); \n\t\t\tresult=new Result<AppointExecution>(true,execution);\n\t\t\t\treturn result;\n\t\t} \n\t}\n\t@RequestMapping(value ="/appoint")\n\tprivate String appointBooks(@RequestParam("studentId") long studentId,Model model){\n\t\t\n\t\tList<Appointment> appointList=new ArrayList<Appointment>();\n\t\tappointList=bookService.getAppointByStu(studentId);\n\t\tmodel.addAttribute("appointList", appointList);\n\t\t \n\t\treturn "appointBookList";\n\t}\n\t\n}\n\n```\n\xe4\xb8\xba\xe4\xba\x86\xe6\x8a\x8a\xe6\x89\xa7\xe8\xa1\x8c\xe9\xa2\x84\xe7\xba\xa6\xe9\x80\xbb\xe8\xbe\x91\xe6\x98\xaf\xe5\x90\xa6\xe8\xbf\x94\xe5\x9b\x9e\xe7\x9a\x84\xe4\xb8\x8d\xe5\x90\x8c\xe4\xbf\xa1\xe6\x81\xaf\xe5\xb0\x81\xe8\xa3\x85\xe8\xb5\xb7\xe6\x9d\xa5\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe5\x88\x9b\xe5\xbb\xba\xe4\xb8\x80\xe4\xb8\xaaResult<T>\xe7\xb1\xbb\xef\xbc\x8c\xe5\xae\x83\xe6\x98\xaf\xe7\xb1\xbb\xe5\x9e\x8bT\xe7\x9a\x84\xe9\x9b\x86\xe5\x90\x88\xe3\x80\x82<br>\nResult.java\n```java\npackage com.imooc.appoint.dto; \n/**\n * \xe5\xb0\x81\xe8\xa3\x85json\xe5\xaf\xb9\xe8\xb1\xa1\xef\xbc\x8c\xe6\x89\x80\xe6\x9c\x89\xe8\xbf\x94\xe5\x9b\x9e\xe7\xbb\x93\xe6\x9e\x9c\xe9\x83\xbd\xe4\xbd\xbf\xe7\x94\xa8\xe5\xae\x83\n */\npublic class Result<T> { \n\tprivate boolean success;// \xe6\x98\xaf\xe5\x90\xa6\xe6\x88\x90\xe5\x8a\x9f\xe6\xa0\x87\xe5\xbf\x97\n\n\tprivate T data;// \xe6\x88\x90\xe5\x8a\x9f\xe6\x97\xb6\xe8\xbf\x94\xe5\x9b\x9e\xe7\x9a\x84\xe6\x95\xb0\xe6\x8d\xae\n\n\tprivate String error;// \xe9\x94\x99\xe8\xaf\xaf\xe4\xbf\xa1\xe6\x81\xaf\n\n\tpublic Result() {\n\t}\n\n\t// \xe6\x88\x90\xe5\x8a\x9f\xe6\x97\xb6\xe7\x9a\x84\xe6\x9e\x84\xe9\x80\xa0\xe5\x99\xa8\n\tpublic Result(boolean success, T data) {\n\t\tthis.success = success;\n\t\tthis.data = data;\n\t}\n\n\t// \xe9\x94\x99\xe8\xaf\xaf\xe6\x97\xb6\xe7\x9a\x84\xe6\x9e\x84\xe9\x80\xa0\xe5\x99\xa8\n\tpublic Result(boolean success, String error) {\n\t\tthis.success = success;\n\t\tthis.error = error;\n\t}\n\n\t \n\tpublic boolean isSuccess() {\n\t\treturn success;\n\t}\n\n\tpublic void setSuccess(boolean success) {\n\t\tthis.success = success;\n\t}\n\n\tpublic T getData() {\n\t\treturn data;\n\t}\n\n\tpublic void setData(T data) {\n\t\tthis.data = data;\n\t}\n\n\tpublic String getError() {\n\t\treturn error;\n\t}\n\n\tpublic void setError(String error) {\n\t\tthis.error = error;\n\t}\n\n}\t\n```\n\xe4\xb8\xba\xe4\xba\x86\xe7\xbb\x99web\xe6\x98\xbe\xe7\xa4\xba\xe9\xa2\x84\xe7\xba\xa6\xe5\x90\x8e\xe7\x9a\x84\xe5\x8f\x8d\xe9\xa6\x88\xe4\xbf\xa1\xe6\x81\xaf\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe5\xbb\xba\xe7\xab\x8b\xe4\xb8\x80\xe4\xb8\xaa\xe5\xb8\xb8\xe9\x87\x8f\xe6\x95\xb0\xe6\x8d\xae\xe5\xad\x97\xe5\x85\xb8\xe7\xb1\xbb\xe5\xad\x98\xe6\x94\xbe\xe8\xbf\x99\xe4\xba\x9b\xe8\xa6\x81\xe5\x8f\x8d\xe9\xa6\x88\xe7\xbb\x99\xe5\xae\xa2\xe6\x88\xb7\xe7\x9a\x84\xe4\xbf\xa1\xe6\x81\xaf<br>\nAppointStateEnum.java\n```java\npackage com.imooc.appoint.enums;\n \n//\xe4\xbd\xbf\xe7\x94\xa8\xe6\x9e\x9a\xe4\xb8\xbe\xe8\xa1\xa8\xe8\xbf\xb0\xe5\xb8\xb8\xe9\x87\x8f\xe6\x95\xb0\xe6\x8d\xae\xe5\xad\x97\xe5\x85\xb8,\xe6\x88\x91\xe4\xbb\xac\xe5\x85\x88\xe5\xae\x9a\xe4\xb9\x89\xe5\x87\xa0\xe4\xb8\xaa\xe9\xa2\x84\xe7\xba\xa6\xe5\x9b\xbe\xe4\xb9\xa6\xe6\x93\x8d\xe4\xbd\x9c\xe8\xbf\x94\xe5\x9b\x9e\xe7\xa0\x81\xe7\x9a\x84\xe6\x95\xb0\xe6\x8d\xae\xe5\xad\x97\xe5\x85\xb8\xef\xbc\x8c\xe4\xb9\x9f\xe5\xb0\xb1\xe6\x98\xaf\xe6\x88\x91\xe4\xbb\xac\xe8\xa6\x81\xe8\xbf\x94\xe5\x9b\x9e\xe7\xbb\x99\xe5\xae\xa2\xe6\x88\xb7\xe7\xab\xaf\xe7\x9a\x84\xe4\xbf\xa1\xe6\x81\xaf\xe3\x80\x82\npublic enum AppointStateEnum {\n\tSUCCESS(1, "\xe9\xa2\x84\xe7\xba\xa6\xe6\x88\x90\xe5\x8a\x9f"), NO_NUMBER(0, "\xe5\xba\x93\xe5\xad\x98\xe4\xb8\x8d\xe8\xb6\xb3"), REPEAT_APPOINT(-1, "\xe9\x87\x8d\xe5\xa4\x8d\xe9\xa2\x84\xe7\xba\xa6"), INNER_ERROR(-2, "\xe7\xb3\xbb\xe7\xbb\x9f\xe5\xbc\x82\xe5\xb8\xb8");\n\n\tprivate int state;\n\n\tprivate String stateInfo;\n\n\tprivate AppointStateEnum(int state, String stateInfo) {\n\t\tthis.state = state;\n\t\tthis.stateInfo = stateInfo;\n\t}\n\n\tpublic int getState() {\n\t\treturn state;\n\t}\n\n\tpublic String getStateInfo() {\n\t\treturn stateInfo;\n\t}\n\n\tpublic static AppointStateEnum stateOf(int index) {\n\t\tfor (AppointStateEnum state : values()) {\n\t\t\tif (state.getState() == index) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n```\n\xe5\x88\xb0\xe6\xad\xa4\xe4\xb8\xba\xe6\xad\xa2\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe5\x90\x8e\xe7\xab\xaf\xe5\x86\x99\xe7\x9a\x84\xe5\xb7\xae\xe4\xb8\x8d\xe5\xa4\x9a\xe4\xba\x86\xef\xbc\x8c\xe4\xb8\x8b\xe9\x9d\xa2\xe6\x98\xaf\xe5\x89\x8d\xe6\xae\xb5\xe9\xa1\xb5\xe9\x9d\xa2\xe7\x9a\x84\xe5\xbc\x80\xe5\x8f\x91\xef\xbc\x8c\xe5\x85\xb6\xe5\xae\x9e\xe5\x89\x8d\xe6\xae\xb5\xe5\x92\x8ccontroller\xe4\xb8\xad\xe7\x9a\x84\xe6\x96\xb9\xe6\xb3\x95\xe5\xbc\x80\xe5\x8f\x91\xe6\x98\xaf\xe7\x9b\xb8\xe4\xba\x92\xe5\xb5\x8c\xe5\xa5\x97\xe7\x9a\x84\xef\xbc\x8c\xe5\x9c\xa8\xe5\x86\x99\xe6\x96\xb9\xe6\xb3\x95\xe7\x9a\x84\xe5\x90\x8c\xe6\x97\xb6\xef\xbc\x8c\xe5\x86\x99js\xe6\x88\x96\xe8\x80\x85jsp\xe6\x96\x87\xe4\xbb\xb6\xe3\x80\x82\xe8\xbf\x99\xe6\xa0\xb7\xe9\x80\xbb\xe8\xbe\x91\xe6\x89\x8d\xe8\x83\xbd\xe8\xbf\x9e\xe8\xb4\xaf\xe3\x80\x82\xe5\x86\x8d\xe6\xad\xa4\xe7\x94\xa8bootstrap\xe8\xbf\x99\xe7\xa7\x8d\xe8\xbd\xbb\xe9\x87\x8f\xe4\xb8\x80\xe7\xab\x99\xe5\xbc\x8f\xe6\xa1\x86\xe6\x9e\xb6\xe5\xbc\x80\xe5\x8f\x91\xe5\x89\x8d\xe6\xae\xb5\xef\xbc\x8c\xe8\x83\xbd\xe6\xad\xbb\xe5\x89\x8d\xe7\xab\xaf\xe6\x8a\x80\xe6\x9c\xaf\xe4\xb8\x8d\xe6\x80\x8e\xe4\xb9\x88\xe5\xa5\xbd\xe7\x9a\x84\xe7\xab\xa5\xe9\x9e\x8b\xe4\xb9\x9f\xe8\x83\xbd\xe5\xbc\x80\xe5\x8f\x91\xe5\x87\xba\xe8\xbf\x98\xe7\x9c\x8b\xe5\xbe\x97\xe8\xbf\x87\xe5\x8e\xbb\xe7\x9a\x84\xe9\xa1\xb5\xe9\x9d\xa2\xe3\x80\x82<br>\n\xe8\xaf\x9d\xe4\xb8\x8d\xe5\xa4\x9a\xe5\xb0\x91\xef\xbc\x8c\xe6\x88\x91\xe4\xbb\xac\xe4\xb8\x8a\xe4\xbb\xa3\xe7\xa0\x81\xef\xbc\x9a<br>\nlist.jsp\n```java\n<%@page contentType="text/html; charset=UTF-8" language="java" %>\n<%@include file="common/tag.jsp"%>\n<!DOCTYPE html>\n<html>\n<head>\n    <title>\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x88\x97\xe8\xa1\xa8</title>\n    <%@include file="common/head.jsp" %>\n</head>\n<body>\n<div class="container">\n    <div class="panel panel-default">\n        <div class="panel-heading text-center">\n            <h2>\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x88\x97\xe8\xa1\xa8</h2>\n        </div>\n        <form name="firstForm" action="<%= request.getContextPath()%>/books/search" method="post">\n        \t<div class="panel-heading ">\n        \t    <table class="table table-bookName">\n        \t       <thead>\n        \t       \t\t<tr> \n        \t\t\t\t\t<th width="90" align="lift">\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x90\x8d\xe7\xa7\xb0\xef\xbc\x9a</th>\n        \t\t\t\t\t<th width="150" align="lift">\n        \t\t\t\t\t\t<input type="text" name="name" class="allInput" value="${name}" placeholder="\xe8\xbe\x93\xe5\x85\xa5\xe6\xa3\x80\xe7\xb4\xa2\xe4\xb9\xa6\xe5\x90\x8d^o^" />\n        \t\t\t\t\t</th>\n        \t\t\t\t\t<th> \n        \t\t\t\t\t\t<input type="submit" id="tabSub" value="\xe6\xa3\x80\xe7\xb4\xa2" /> \n        \t\t\t\t\t</th> \n        \t\t\t\t</tr> \n        \t       </thead> \n        \t    </table> \n         \t</div>\n        </form>\n       \n        \n        <div class="panel-body">\n            <table class="table table-hover">\n                <thead>\n                <tr>\n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6ID</th>\n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x90\x8d\xe7\xa7\xb0</th>\n                    <th>\xe9\xa6\x86\xe8\x97\x8f\xe6\x95\xb0\xe9\x87\x8f</th> \n                    <th>\xe8\xaf\xa6\xe7\xbb\x86</th>\n                </tr>\n                </thead>\n                <tbody>\n                <c:forEach items="${list}" var="sk">\n                    <tr>\n                        <td>${sk.bookId}</td>\n                        <td>${sk.name}</td>\n                        <td>${sk.number}</td>\n                        <td><a class="btn btn-info" href="/books/${sk.bookId}/detail " target="_blank">\xe8\xaf\xa6\xe7\xbb\x86</a></td>\n                    </tr>\n                </c:forEach>\n                </tbody>\n            </table> \n        </div>\n\n        \n    </div>\n</div> \n<!-- jQuery\xe6\x96\x87\xe4\xbb\xb6\xe3\x80\x82\xe5\x8a\xa1\xe5\xbf\x85\xe5\x9c\xa8bootstrap.min.js \xe4\xb9\x8b\xe5\x89\x8d\xe5\xbc\x95\xe5\x85\xa5 -->\n<script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>\n\n<!-- \xe6\x9c\x80\xe6\x96\xb0\xe7\x9a\x84 Bootstrap \xe6\xa0\xb8\xe5\xbf\x83 JavaScript \xe6\x96\x87\xe4\xbb\xb6 -->\n<script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>\n</body>\n</html> \n```\ndetail.jsp\n```java\n<%@page contentType="text/html; charset=UTF-8" language="java" %>\n<%@include file="common/tag.jsp" %>\n<!DOCTYPE html>\n<html>\n<head>\n    <title>\xe9\xa2\x84\xe7\xba\xa6\xe8\xaf\xa6\xe6\x83\x85\xe9\xa1\xb5</title>\n    <%@include file="common/head.jsp" %>\n</head>\n<body>\n<div class="container">\n    <div class="panel panel-default">\n        <div class="panel-heading text-center">\n     \t   \t<h2>\xe5\x9b\xbe\xe4\xb9\xa6\xe8\xaf\xa6\xe6\x83\x85</h2>\n        </div>\n        <div class="panel-body">\n            <table class="table table-hover">\n                <thead>\n                <tr>\n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6ID</th>\n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x90\x8d\xe7\xa7\xb0</th> \n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6\xe7\xae\x80\xe4\xbb\x8b</th>\n                    <th>\xe5\x89\xa9\xe4\xbd\x99\xe6\x95\xb0\xe9\x87\x8f</th>\n                    <th>\xe9\xa2\x84\xe7\xba\xa6\xe6\x95\xb0\xe9\x87\x8f</th>\n                </tr>\n                </thead>\n                <tbody>\n                \t<tr>\n                \t\t<td>${book.bookId}</td>\n                \t\t<td>${book.name}</td>\n                \t\t<td>${book.introd}</td> \n                \t\t<td>${book.number }</td>\n                \t\t<td>1</td>\n                \t</tr>  \n                </tbody>\n             </table> \n           </div>  \n           <div class="panel-body text-center">\n            \t<h2 class="text-danger">  \n            \t\t<!--\xe7\x94\xa8\xe6\x9d\xa5\xe5\xb1\x95\xe7\xa4\xba\xe9\xa2\x84\xe7\xba\xa6\xe6\x8e\xa7\xe4\xbb\xb6-->\n            \t\t<span class="glyphicon" id="appoint-box"></span> <!--\xe5\x9c\xa8js\xe9\x87\x8c\xe9\x9d\xa2\xe8\xb0\x83\xe7\x94\xa8\xe8\xbf\x99\xe4\xb8\xaaid\xe8\xbf\x98\xe5\x8f\xaf\xe4\xbb\xa5\xe5\x8a\xa8\xe6\x80\x81\xe6\x98\xbe\xe7\xa4\xba\xe4\xb8\x80\xe4\xba\x9b\xe5\x85\xb6\xe4\xbb\x96\xe4\xb8\x9c\xe8\xa5\xbf\xef\xbc\x8c\xe4\xbe\x8b\xe5\xa6\x82\xe5\x8a\xa8\xe6\x80\x81\xe6\x97\xb6\xe9\x97\xb4\xe7\xad\x89\xef\xbc\x88\xe9\x9c\x80\xe8\xa6\x81\xe6\x8f\x92\xe4\xbb\xb6\xef\xbc\x89-->\n            \t\t \n            \t\t<span class="glyphicon"><a class="btn btn-primary btn-lg" href="/books/appoint?studentId=${cookie[\'studentId\'].value}" target="_blank">\xe6\x9f\xa5\xe7\x9c\x8b\xe6\x88\x91\xe7\x9a\x84\xe5\xb7\xb2\xe9\xa2\x84\xe7\xba\xa6\xe4\xb9\xa6\xe7\xb1\x8d</a></span>\n            \t</h2>           <!--\xe5\xa6\x82\xe4\xbd\x95\xe8\x8e\xb7\xe5\x8f\x96\xe8\xaf\xa5\xe9\xa1\xb5\xe9\x9d\xa2\xe5\xbc\xb9\xe5\x87\xba\xe5\xb1\x82\xe8\xbe\x93\xe5\x85\xa5\xe7\x9a\x84\xe5\xad\xa6\xe7\x94\x9fID\xef\xbc\x8c \xe4\xbc\xa0\xe7\xbb\x99\xe4\xb8\x8a\xe9\x9d\xa2\xe7\x9a\x84url-->\n        \t</div>\n    </div>\t \t\n            \t\t  \n</div>\n   <!--  \xe7\x99\xbb\xe5\xbd\x95\xe5\xbc\xb9\xe5\x87\xba\xe5\xb1\x82 \xe8\xbe\x93\xe5\x85\xa5\xe7\x94\xb5\xe8\xaf\x9d   -->\n<div id="varifyModal" class="modal fade"> \n    <div class="modal-dialog"> \n        <div class="modal-content">\n            <div class="modal-header">\n                <h3 class="modal-title text-center">\n                    <span class="glyphicon glyphicon-studentId"> </span>\xe8\xaf\xb7\xe8\xbe\x93\xe5\x85\xa5\xe5\xad\xa6\xe5\x8f\xb7\xe5\x92\x8c\xe5\xaf\x86\xe7\xa0\x81:\n                </h3>\n            </div>\n\n            <div class="modal-body">\n                <div class="row">\n                    <div class="col-xs-8 col-xs-offset-2">\n                        <input type="text" name="studentId" id="studentIdKey"\n                               placeholder="\xe5\xa1\xab\xe5\x86\x99\xe5\xad\xa6\xe5\x8f\xb7^o^" class="form-control">\n                    </div>\n                    <div class="col-xs-8 col-xs-offset-2">\n                        <input type="password" name="password" id="passwordKey"\n                               placeholder="\xe8\xbe\x93\xe5\x85\xa5\xe5\xaf\x86\xe7\xa0\x81^o^" class="form-control">\n                    </div>\n                </div>\n            </div>\n\n            <div class="modal-footer">\n               \t\t<!--  \xe9\xaa\x8c\xe8\xaf\x81\xe4\xbf\xa1\xe6\x81\xaf -->\n                <span id="studentMessage" class="glyphicon"> </span>\n                <button type="button" id="studentBtn" class="btn btn-success">\n                    <span class="glyphicon glyphicon-student"></span>\n                    Submit\n                </button>\n            </div>\n        </div>\n    </div> \n</div>  \n\n</body>\n<%--jQery\xe6\x96\x87\xe4\xbb\xb6,\xe5\x8a\xa1\xe5\xbf\x85\xe5\x9c\xa8bootstrap.min.js\xe4\xb9\x8b\xe5\x89\x8d\xe5\xbc\x95\xe5\x85\xa5--%>\n<script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>\n<script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>\n<%--\xe4\xbd\xbf\xe7\x94\xa8CDN \xe8\x8e\xb7\xe5\x8f\x96\xe5\x85\xac\xe5\x85\xb1js http://www.bootcdn.cn/--%>\n<%--jQuery Cookie\xe6\x93\x8d\xe4\xbd\x9c\xe6\x8f\x92\xe4\xbb\xb6--%>\n<script src="http://cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>\n<%--jQuery countDown\xe5\x80\x92\xe8\xae\xa1\xe6\x97\xb6\xe6\x8f\x92\xe4\xbb\xb6--%>\n<script src="http://cdn.bootcss.com/jquery.countdown/2.1.0/jquery.countdown.min.js"></script>\n\n<script src="/resources/script/bookappointment.js" type="text/javascript"></script>\n\n<script type="text/javascript">\n    $(function () {\n        //\xe4\xbd\xbf\xe7\x94\xa8EL\xe8\xa1\xa8\xe8\xbe\xbe\xe5\xbc\x8f\xe4\xbc\xa0\xe5\x85\xa5\xe5\x8f\x82\xe6\x95\xb0\n        bookappointment.detail.init({\n            bookId:${book.bookId}  \n             \n        });\n    })\n</script>\n</html> \n```\nbookappointment.js\n```javascript\nvar bookappointment={\n\t//\xe5\xb0\x81\xe8\xa3\x85\xe7\x9b\xb8\xe5\x85\xb3ajax\xe7\x9a\x84url\n\tURL:{\n\t\tappoint:function(bookId,studentId){\n\t\t\treturn \'/books/\'+bookId+\'/appoint?studentId=\'+studentId;\n\t\t},\n\t\tverify:function(){\n\t\t\treturn \'/books\'+\'/verify\';\n\t\t}\n\t},\n\t\t\n\t//\xe9\xaa\x8c\xe8\xaf\x81\xe5\xad\xa6\xe5\x8f\xb7\xe5\x92\x8c\xe5\xaf\x86\xe7\xa0\x81\n\tvalidateStudent:function(studentId,password){\n\t\tconsole.log("studentId"+studentId);\n\t\tif(!studentId||!password){\n\t\t\treturn "nothing";\n\t\t}else if(studentId.length!=10 ||isNaN(studentId)||password.length!=6 ||isNaN(password)){\n\t\t\treturn "typerror";\n\t\t}else {\n\t\t\tif(bookappointment.verifyWithDatabase(studentId, password)){\n\t\t\t\tconsole.log("\xe9\xaa\x8c\xe8\xaf\x81\xe6\x88\x90\xe5\x8a\x9f\xef\xbc\x81");\n\t\t\t\treturn "success";\n\t\t\t}else{\n\t\t\t\tconsole.log("\xe9\xaa\x8c\xe8\xaf\x81\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81");\n\t\t\t\treturn "mismatch";\n\t\t\t}\n\t\t}  \n\t},\n\t//\xe5\xb0\x86\xe5\xad\xa6\xe5\x8f\xb7\xe5\x92\x8c\xe7\x94\xa8\xe6\x88\xb7\xe5\x90\x8d\xe4\xb8\x8e\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe5\x8c\xb9\xe9\x85\x8d\n\tverifyWithDatabase:function(studentId,password){\n\t\tvar result=false;\n\t\tvar params={};\n\t\tparams.studentId=studentId;\n\t\tparams.password=password;\n\t\tconsole.log("params.password:"+params.password);\n\t\tvar verifyUrl=bookappointment.URL.verify();\n\t\t$.ajax({\n\t\t\ttype:\'post\',\n\t\t\turl:verifyUrl,\n\t\t\tdata:params,\n\t\t\tdatatype:\'josn\', \n\t\t\tasync:false,                       //\xe5\x90\x8c\xe6\xad\xa5\xe8\xb0\x83\xe7\x94\xa8\xef\xbc\x8c\xe4\xbf\x9d\xe8\xaf\x81\xe5\x85\x88\xe6\x89\xa7\xe8\xa1\x8cresult=true,\xe5\x90\x8e\xe5\x86\x8d\xe6\x89\xa7\xe8\xa1\x8creturn result;\n\t\t\tsuccess:function(data){\n\t\t\t\tif(data.result==\'SUCCESS\'){\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t//\xe5\xbc\xb9\xe5\x87\xba\xe7\x99\xbb\xe5\xbd\x95\xe6\x88\x90\xe5\x8a\x9f\xef\xbc\x81\n\t\t\t\t\talert("\xe7\x99\xbb\xe9\x99\x86\xe6\x88\x90\xe5\x8a\x9f\xef\xbc\x81");\n\t\t\t\t\tresult=true;\n\t\t\t\t}else{\n\t\t\t\t\tresult=false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconsole.log("\xe6\x88\x91\xe6\x98\xaf\xe9\xaa\x8c\xe8\xaf\x81\xe7\xbb\x93\xe6\x9e\x9c\xef\xbc\x9a"+result);\n\t\treturn result;\n\t\t\t\n\t},\n\t\t\n\t//\xe9\xa2\x84\xe5\xae\x9a\xe5\x9b\xbe\xe4\xb9\xa6\xe9\x80\xbb\xe8\xbe\x91\n\tdetail:{\n\t\t//\xe9\xa2\x84\xe5\xae\x9a\xe4\xb9\x9f\xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\n\t\tinit:function(params){\n\t\t\tvar bookId=params[\'bookId\']; \n\t\t\tconsole.log("\xe6\x88\x91\xe6\x98\xafjs\xe6\x96\x87\xe4\xbb\xb6\xef\xbc\x81");\n\t\t\t\t\n\t\t\tvar studentId=$.cookie(\'studentId\');\n\t\t\tvar password=$.cookie(\'password\');\n\t\t\tif(!studentId||!password){\n\t\t\t\t//\xe8\xae\xbe\xe7\xbd\xae\xe5\xbc\xb9\xe5\x87\xba\xe5\xb1\x82\xe5\xb1\x9e\xe6\x80\xa7\n\t\t\t\tvar  IdAndPasswordModal=$(\'#varifyModal\');\n\t\t\t\tIdAndPasswordModal.modal({\n\t\t\t\t\tshow: true,//\xe6\x98\xbe\xe7\xa4\xba\xe5\xbc\xb9\xe5\x87\xba\xe5\xb1\x82\n\t               \t\t\tbackdrop: \'static\',//\xe7\xa6\x81\xe6\xad\xa2\xe4\xbd\x8d\xe7\xbd\xae\xe5\x85\xb3\xe9\x97\xad\n\t               \t\t \tkeyboard: false//\xe5\x85\xb3\xe9\x97\xad\xe9\x94\xae\xe7\x9b\x98\xe4\xba\x8b\xe4\xbb\xb6\n\t\t\t\t});\n\t\t\t\t$(\'#studentBtn\').click(function (){\n\t\t\t\t\tstudentId=$(\'#studentIdKey\').val();\n\t\t\t\t\t\tconsole.log("studentId:"+studentId);\n\t\t\t\t\tpassword=$(\'#passwordKey\').val();\n\t\t\t\t\t\tconsole.log("password:"+password);\n\t\t\t\t\t//\xe8\xb0\x83\xe7\x94\xa8validateStudent\xe5\x87\xbd\xe6\x95\xb0\xe9\xaa\x8c\xe8\xaf\x81\xe7\x94\xa8\xe6\x88\xb7id\xe5\x92\x8c\xe5\xaf\x86\xe7\xa0\x81\xe3\x80\x82\n\t\t\t\t\tvar temp=bookappointment.validateStudent(studentId,password);\n\t\t\t\t\t\tconsole.log(temp);\n\t\t\t\t\tif(temp=="nothing"){\n\t\t\t\t\t\t$(\'#studentMessage\').hide().html(\'<label class="label label-danger">\xe5\xad\xa6\xe5\x8f\xb7\xe6\x88\x96\xe5\xaf\x86\xe7\xa0\x81\xe4\xb8\xba\xe7\xa9\xba!</label>\').show(300);\n\t\t\t\t\t}else if(temp=="typerror"){\n\t\t\t\t\t\t$(\'#studentMessage\').hide().html(\'<label class="label label-danger">\xe6\xa0\xbc\xe5\xbc\x8f\xe4\xb8\x8d\xe6\xad\xa3\xe7\xa1\xae!</label>\').show(300);\n\t\t\t\t\t}else if(temp=="mismatch"){\n\t\t\t\t\t\tconsole.log("\xe5\xb7\xb2\xe7\xbb\x8f\xe8\xb0\x83\xe7\x94\xa8\xe9\xaa\x8c\xe8\xaf\x81\xe5\x87\xbd\xe6\x95\xb0\xef\xbc\x81");\n\t\t\t\t\t\t$(\'#studentMessage\').hide().html(\'<label class="label label-danger">\xe5\xad\xa6\xe5\x8f\xb7\xe5\xaf\x86\xe7\xa0\x81\xe4\xb8\x8d\xe5\x8c\xb9\xe9\x85\x8d!</label>\').show(300);\n\t\t\t\t\t}else if(temp=="success"){\n\t\t\t\t\t\t//\xe5\xad\xa6\xe5\x8f\xb7\xe4\xb8\x8e\xe5\xaf\x86\xe7\xa0\x81\xe5\x8c\xb9\xe9\x85\x8d\xe6\xad\xa3\xe7\xa1\xae\xef\xbc\x8c\xe5\xb0\x86\xe5\xad\xa6\xe5\x8f\xb7\xe5\xaf\x86\xe7\xa0\x81\xe4\xbf\x9d\xe5\xad\x98\xe5\x9c\xa8cookie\xe4\xb8\xad\xe3\x80\x82\xe4\xb8\x8d\xe8\xae\xbe\xe7\xbd\xaecookie\xe8\xbf\x87\xe6\x9c\x9f\xe6\x97\xb6\xe9\x97\xb4\xef\xbc\x8c\xe8\xbf\x99\xe6\xa0\xb7\xe5\x8d\xb3\xe4\xb8\xbasession\xe6\xa8\xa1\xe5\xbc\x8f\xef\xbc\x8c\xe5\x85\xb3\xe9\x97\xad\xe6\xb5\x8f\xe8\xa7\x88\xe5\x99\xa8\xe5\xb0\xb1\xe4\xb8\x8d\xe4\xbf\x9d\xe5\xad\x98\xe5\xaf\x86\xe7\xa0\x81\xe4\xba\x86\xe3\x80\x82\n\t\t\t\t\t\t$.cookie(\'studentId\', studentId, {  path: \'/books\'}); \n\t\t\t\t\t\t$.cookie(\'password\', password, {  path: \'/books\'}); \n\t\t\t\t\t\t\t// \xe8\xb7\xb3\xe8\xbd\xac\xe5\x88\xb0\xe9\xa2\x84\xe7\xba\xa6\xe9\x80\xbb\xe8\xbe\x91 \n\t\t\t\t\t\tvar appointbox=$(\'#appoint-box\');\n\t\t\t\t\t\tbookappointment.appointment(bookId,studentId,appointbox);\n\t\t\t\t\t}\n\t\t\t\t}); \n\t\t\t}else{\n\t\t\t\tvar appointbox=$(\'#appoint-box\');\n\t\t\t\tbookappointment.appointment(bookId,studentId,appointbox);\n\t\t\t} \n\t\t}\t\n\t},\n\tappointment:function(bookId,studentId, node){\n\t\tconsole.log("\xe6\x88\x91\xe6\x89\xa7\xe8\xa1\x8c\xe9\xa2\x84\xe7\xba\xa6\xe7\x9a\x84\xe6\x96\xb9\xe6\xb3\x95!" );\n\t\tnode.html(\'<button class="btn btn-primary btn-lg" id="appointmentBtn">\xe9\xa2\x84\xe7\xba\xa6</button>\');\n\t\t\t  \n\t\tvar appointmentUrl = bookappointment.URL.appoint(bookId,studentId);\n\t\tconsole.log("appointmentUrl:"+appointmentUrl);\n\t\t//\xe7\xbb\x91\xe5\xae\x9a\xe4\xb8\x80\xe6\xac\xa1\xe7\x82\xb9\xe5\x87\xbb\xe4\xba\x8b\xe4\xbb\xb6\n\t\t$(\'#appointmentBtn\').one(\'click\', function () {\n\t\t\t//\xe6\x89\xa7\xe8\xa1\x8c\xe9\xa2\x84\xe7\xba\xa6\xe8\xaf\xb7\xe6\xb1\x82\n\t\t\t//1\xe3\x80\x81\xe5\x85\x88\xe7\xa6\x81\xe7\x94\xa8\xe8\xaf\xb7\xe6\xb1\x82\n\t\t\t$(this).addClass(\'disabled\');\n\t\t\t//2\xe3\x80\x81\xe5\x8f\x91\xe9\x80\x81\xe9\xa2\x84\xe7\xba\xa6\xe8\xaf\xb7\xe6\xb1\x82\xe6\x89\xa7\xe8\xa1\x8c\xe9\xa2\x84\xe7\xba\xa6\n\t\t\t$.post(appointmentUrl,{},function(result){   //Ajax\xe5\xbc\xba\xe5\xa4\xa7\xe4\xb9\x8b\xe5\xa4\x84\xef\xbc\x8c\xe5\x90\x91Controller\xe6\x96\xb9\xe6\xb3\x95\xe6\x8f\x90\xe5\x87\xba\xe8\xaf\xb7\xe6\xb1\x82\xe5\x92\x8c\xe8\xbf\x94\xe5\x9b\x9e\xe7\xbb\x93\xe6\x9e\x9c\xe5\x9c\xa8\xe4\xb8\x80\xe5\xa4\x84!\n\t\t\t\tif(result && result[\'success\']){         //\xe5\x90\x8c\xe6\x97\xb6\xe8\xbf\x98\xe5\x8f\xaf\xe4\xbb\xa5\xe8\xbf\x9e\xe7\xbb\xad\xe5\x8f\x96\xe5\xaf\xb9\xe8\xb1\xa1\xe7\x9a\x84\xe5\xad\x90\xe5\xaf\xb9\xe8\xb1\xa1\xef\xbc\x81\n\t\t\t\t\tvar appointResult=result[\'data\'];\n\t\t\t\t\t\tconsole.log("appointResult"+appointResult);\n\t\t\t\t\tvar state=appointResult[\'state\'];\n\t\t\t\t\t\tconsole.log("state"+state);\n\t\t\t\t\tvar stateInfo=appointResult[\'stateInfo\'];\n\t\t\t\t\t\tconsole.log("stateInfo"+stateInfo);\n\t\t\t\t\t//\xe6\x98\xbe\xe7\xa4\xba\xe9\xa2\x84\xe7\xba\xa6\xe7\xbb\x93\xe6\x9e\x9c    \xe6\x8a\x8a\xe7\xbb\x93\xe6\x9e\x9c\xe6\x98\xbe\xe7\xa4\xba\xe7\xbb\x99\xe9\xa1\xb5\xe9\x9d\xa2\xef\xbc\x8c\xe5\xae\x8c\xe6\x88\x90\xe4\xba\x86jsp\xe7\x9a\x84\xe5\xb7\xa5\xe4\xbd\x9c \n\t\t\t\t\tnode.html(\'<span class="label label-success">\'+stateInfo+\'</span>\');\n\t\t\t\t}       //\xe5\x9b\xa0\xe4\xb8\xba\xe5\x85\xac\xe7\x94\xa8\xe4\xb8\x80\xe4\xb8\xaanode\xe6\x89\x80\xe4\xbb\xa5\xef\xbc\x8c\xe7\x94\xa8\xe6\x9d\xa5\xe6\x98\xbe\xe7\xa4\xba\xe2\x80\x9cstateInfo\xe2\x80\x9d\xe6\x97\xb6\xe5\xb0\xb1\xe4\xb8\x8d\xe4\xbc\x9a\xe6\x98\xbe\xe7\xa4\xba\xe4\xb8\x8a\xe9\x9d\xa2\xe7\x9a\x84\xe2\x80\x9c\xe9\xa2\x84\xe7\xba\xa6\xe2\x80\x9d\n\t\t\t\tconsole.log(\'result\'+result);\n\t\t\t});\n\t\t });\n\t\t\t\n\t\t\t\n\t}\n}\n```\nappointBookList.jsp\n```java\n<%@page contentType="text/html; charset=UTF-8" language="java" %>\n<%@include file="common/tag.jsp"%>\n<!DOCTYPE html>\n<html>\n<head>\n    <title>\xe9\xa2\x84\xe7\xba\xa6\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x88\x97\xe8\xa1\xa8</title>\n    <%@include file="common/head.jsp" %>\n</head>\n<body>\n<div class="container">\n    <div class="panel panel-default">\n        <div class="panel-heading text-center">\n            <h2>\xe6\x82\xa8\xe5\xb7\xb2\xe9\xa2\x84\xe7\xba\xa6\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x88\x97\xe8\xa1\xa8</h2>\n        </div>\n\t\t<div class="panel-body">\n            <table class="table table-hover">\n                <thead>\n                <tr> \n                    <th>\xe9\xa2\x84\xe5\xae\x9a\xe5\xad\xa6\xe5\x8f\xb7</th>\n                    <th>\xe9\xa2\x84\xe7\xba\xa6\xe6\x97\xb6\xe9\x97\xb4</th>\n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6ID</th> \n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6\xe5\x90\x8d\xe7\xa7\xb0</th>\n                    <th>\xe5\x9b\xbe\xe4\xb9\xa6\xe7\xae\x80\xe4\xbb\x8b</th>\n                    <th>\xe9\xa2\x84\xe7\xba\xa6\xe6\x95\xb0\xe9\x87\x8f</th>  \n                </tr>\n                </thead>\n                <tbody>\n                <c:forEach items="${appointList}" var="sk">\n                    <tr>\n                    \t<td>${sk.studentId}</td> \n                        <td>${sk.appointTime}</td>\n                        <td>${sk.bookId}</td>\n                        <td>${sk.book.getName()}</td>\n                        <td>${sk.book.getIntrod()}</td> \n                        <td>1</td> \n                    </tr>\n                </c:forEach>\n                </tbody>\n            </table> \n        </div> \n    </div>\n</div> \n<!-- jQuery\xe6\x96\x87\xe4\xbb\xb6\xe3\x80\x82\xe5\x8a\xa1\xe5\xbf\x85\xe5\x9c\xa8bootstrap.min.js \xe4\xb9\x8b\xe5\x89\x8d\xe5\xbc\x95\xe5\x85\xa5 -->\n<script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>\n\n<!-- \xe6\x9c\x80\xe6\x96\xb0\xe7\x9a\x84 Bootstrap \xe6\xa0\xb8\xe5\xbf\x83 JavaScript \xe6\x96\x87\xe4\xbb\xb6 -->\n<script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>\n</body>\n</html>\n```\n\xe5\x88\xb0\xe6\xad\xa4\xe4\xb8\xba\xe6\xad\xa2\xef\xbc\x8c\xe6\x89\x80\xe6\x9c\x89\xe7\x9a\x84\xe5\xbc\x80\xe5\x8f\x91\xe5\xb0\xb1\xe5\xb7\xb2\xe7\xbb\x8f\xe7\xbb\x93\xe6\x9d\x9f\xef\xbc\x8c\xe5\xb7\xb2\xe7\xbb\x8f\xe6\x8a\x8a\xe6\x89\x80\xe6\x9c\x89\xe6\xba\x90\xe4\xbb\xa3\xe7\xa0\x81\xe4\xb8\x8a\xe4\xbc\xa0\xe8\x87\xb3github\xef\xbc\x8c\xe9\x9c\x80\xe8\xa6\x81\xe7\x9a\x84\xe5\x8f\xaf\xe4\xbb\xa5\xe5\x8e\xbb\xe4\xb8\x8b\xe8\xbd\xbd\xef\xbc\x8c\xe5\x96\x9c\xe6\xac\xa2\xe5\xb0\xb1\xe7\xbb\x99\xe4\xb8\xaastar\xe5\x90\xa7\xef\xbc\x8c\xe8\xbf\x99\xe7\xaf\x87\xe4\xb8\x9c\xe8\xa5\xbf\xe5\x86\x99\xe4\xba\x86\xe6\x95\xb4\xe6\x95\xb4\xe4\xb8\x80\xe4\xb8\xaa\xe4\xb8\x8a\xe5\x8d\x88\xe4\xb9\x9f\xe4\xb8\x8d\xe5\xae\xb9\xe6\x98\x93\xe5\x95\x8a\xe3\x80\x82<br>\xe7\x88\xb1\xe4\xbd\xa0\xe4\xbb\xac\xef\xbc\x8c\xe4\xb9\x88\xe4\xb9\x88\xe5\x93\x92\xef\xbc\x81\n\n\n\n\n'