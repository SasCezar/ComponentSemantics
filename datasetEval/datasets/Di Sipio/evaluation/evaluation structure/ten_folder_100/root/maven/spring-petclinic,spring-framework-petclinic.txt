b'# Spring PetClinic Sample Application\n\n[![Build Status](https://travis-ci.org/spring-petclinic/spring-framework-petclinic.svg?branch=master)](https://travis-ci.org/spring-petclinic/spring-framework-petclinic/) \n[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=spring-petclinic_spring-framework-petclinic&metric=alert_status)](https://sonarcloud.io/dashboard?id=spring-petclinic_spring-framework-petclinic)\n[![Coverage](https://sonarcloud.io/api/project_badges/measure?project=spring-petclinic_spring-framework-petclinic&metric=coverage)](https://sonarcloud.io/dashboard?id=spring-petclinic_spring-framework-petclinic)\n\nApproved by the Spring team, this repo is a fork of the [spring-projects/spring-petclinic](https://github.com/spring-projects/spring-petclinic).\nIt allows the Spring community to maintain a Petclinic version with a plain old **Spring Framework configuration**\nand with a **3-layer architecture** (i.e. presentation --> service --> repository).\nThe "canonical" implementation is now based on Spring Boot, Thymeleaf and [aggregate-oriented domain]([https://github.com/spring-projects/spring-petclinic/pull/200). \n\n\n## Understanding the Spring Petclinic application with a few diagrams\n\n[See the presentation here](http://fr.slideshare.net/AntoineRey/spring-framework-petclinic-sample-application) (2017 update)\n\n## Running petclinic locally\n\n### With Maven command line\n```\ngit clone https://github.com/spring-petclinic/spring-framework-petclinic.git\ncd spring-framework-petclinic\n./mvnw jetty:run-war\n# For Windows : ./mvnw.cmd jetty:run-war\n```\n\n### With Docker\n```\ndocker run -p 8080:8080 springcommunity/spring-framework-petclinic\n```\n\nYou can then access petclinic here: [http://localhost:8080/](http://localhost:8080/)\n\n<img width="1042" alt="petclinic-screenshot" src="https://cloud.githubusercontent.com/assets/838318/19727082/2aee6d6c-9b8e-11e6-81fe-e889a5ddfded.png">\n\n## In case you find a bug/suggested improvement for Spring Petclinic\n\nOur issue tracker is available here: https://github.com/spring-petclinic/spring-framework-petclinic/issues\n\n\n## Database configuration\n\nIn its default configuration, Petclinic uses an in-memory database (HSQLDB) which\ngets populated at startup with data.\nA similar setups is provided for MySql and PostgreSQL in case a persistent database configuration is needed.\nTo run petclinic locally using persistent database, it is needed to run with profile defined in main pom.xml file.\n\nFor MySQL database, it is needed to run with \'MySQL\' profile defined in main pom.xml file.\n\n```\n./mvnw jetty:run-war -P MySQL\n```\n\nBefore do this, would be good to check properties defined in MySQL profile inside pom.xml file.\n\n```\n<properties>\n    <jpa.database>MYSQL</jpa.database>\n    <jdbc.driverClassName>com.mysql.cj.jdbc.Driver</jdbc.driverClassName>\n    <jdbc.url>jdbc:mysql://localhost:3306/petclinic?useUnicode=true</jdbc.url>\n    <jdbc.username>root</jdbc.username>\n    <jdbc.password>petclinic</jdbc.password>\n</properties>\n```      \n\nYou could start MySql locally with whatever installer works for your OS, or with docker:\n\n```\ndocker run --name mysql-petclinic -e MYSQL_ROOT_PASSWORD=petclinic -e MYSQL_DATABASE=petclinic -p 3306:3306 mysql:5.7.8\n```\n\nFor PostgreSQL database, it is needed to run with \'PostgreSQL\' profile defined in main pom.xml file.\n\n```\n./mvnw jetty:run-war -P PostgreSQL\n```\n\nBefore do this, would be good to check properties defined in PostgreSQL profile inside pom.xml file.\n\n```\n<properties>\n    <jpa.database>POSTGRESQL</jpa.database>\n    <jdbc.driverClassName>org.postgresql.Driver</jdbc.driverClassName>\n    <jdbc.url>jdbc:postgresql://localhost:5432/petclinic</jdbc.url>\n    <jdbc.username>postgres</jdbc.username>\n    <jdbc.password>petclinic</jdbc.password>\n</properties>\n```\nYou could alos start PostgreSQL locally with whatever installer works for your OS, or with docker:\n\n```\ndocker run --name postgres-petclinic -e POSTGRES_PASSWORD=petclinic -e POSTGRES_DB=petclinic -p 5432:5432 -d postgres:9.6.0\n```\n\n## Working with Petclinic in your IDE\n\n### Prerequisites\nThe following items should be installed in your system:\n* Java 8 or above\n* Maven 3.3+ (http://maven.apache.org/install.html)\n* git command line tool (https://help.github.com/articles/set-up-git)\n* Jetty 9.4+ or Tomcat 9+\n* Your prefered IDE \n  * Eclipse with the m2e plugin. Note: when m2e is available, there is an m2 icon in Help -> About dialog. If m2e is not there, just follow the install process here: http://www.eclipse.org/m2e/\n  * [Spring Tools Suite](https://spring.io/tools) (STS)\n  * IntelliJ IDEA\n\n\n### Steps:\n\n1) On the command line\n```\ngit clone https://github.com/spring-petclinic/spring-framework-petclinic.git\n```\n\n2) Inside Eclipse or STS\n```\nFile -> Import -> Maven -> Existing Maven project\n```\nThen either build on the command line `./mvnw generate-resources` or using the Eclipse launcher (right click on project and `Run As -> Maven install`) to generate the CSS.\nConfigure a Jetty or a Tomcat web container then deploy the `spring-petclinic.war` file.\n\n3) Inside IntelliJ IDEA\n\nIn the main menu, select\xc2\xa0`File > Open` and select the\xc2\xa0Petclinic [pom.xml](pom.xml). Click on the `Open` button.\n\nCSS files are generated from the Maven build. You can either build them on the command line `./mvnw generate-resources` \nor right click on the `spring-petclinic` project then `Maven -> Generates sources and Update Folders`.\n\nGo to the `Run -> Edit Configuration` then configure a Tomcat or a Jetty web container. Deploy the `spring-petclinic.war` file.\nRun the application by clicking on the `Run` icon.\n\n\n4) Navigate to Petclinic\n\nVisit [http://localhost:8080](http://localhost:8080) in your browser.\n\n\n## Working with Petclinic in IntelliJ IDEA\n\n### prerequisites\nThe following items should be installed in your system:\n\n\n## Looking for something in particular?\n\n| Java Config |   |\n|-------------|---|\n| Java config branch | Petclinic uses XML configuration by default. In case you\'d like to use Java Config instead, there is a Java Config branch available [here](https://github.com/spring-petclinic/spring-framework-petclinic/tree/javaconfig) |\n\n| Inside the \'Web\' layer | Files |\n|------------------------|-------|\n| Spring MVC - XML integration | [mvc-view-config.xml](src/main/resources/spring/mvc-view-config.xml)  |\n| Spring MVC - ContentNegotiatingViewResolver| [mvc-view-config.xml](src/main/resources/spring/mvc-view-config.xml) |\n| JSP custom tags | [WEB-INF/tags](src/main/webapp/WEB-INF/tags), [createOrUpdateOwnerForm.jsp](src/main/webapp/WEB-INF/jsp/owners/createOrUpdateOwnerForm.jsp)|\n| JavaScript dependencies | [JavaScript libraries are declared as webjars in the pom.xml](pom.xml) |\n| Static resources config | [Resource mapping in Spring configuration](/src/main/resources/spring/mvc-core-config.xml#L30) |\n| Static resources usage | [htmlHeader.tag](src/main/webapp/WEB-INF/tags/htmlHeader.tag), [footer.tag](src/main/webapp/WEB-INF/tags/footer.tag) |\n| Thymeleaf | In the late 2016, the original [Spring Petclinic](https://github.com/spring-projects/spring-petclinic) has moved from JSP to Thymeleaf. |\n\n| \'Service\' and \'Repository\' layers | Files |\n|-----------------------------------|-------|\n| Transactions | [business-config.xml](src/main/resources/spring/business-config.xml), [ClinicServiceImpl.java](src/main/java/org/springframework/samples/petclinic/service/ClinicServiceImpl.java) |\n| Cache | [tools-config.xml](src/main/resources/spring/tools-config.xml), [ClinicServiceImpl.java](src/main/java/org/springframework/samples/petclinic/service/ClinicServiceImpl.java) |\n| Bean Profiles | [business-config.xml](src/main/resources/spring/business-config.xml), [ClinicServiceJdbcTests.java](src/test/java/org/springframework/samples/petclinic/service/ClinicServiceJdbcTests.java), [PetclinicInitializer.java](src/main/java/org/springframework/samples/petclinic/PetclinicInitializer.java) |\n| JDBC | [business-config.xml](src/main/resources/spring/business-config.xml), [jdbc folder](src/main/java/org/springframework/samples/petclinic/repository/jdb) |\n| JPA | [business-config.xml](src/main/resources/spring/business-config.xml), [jpa folder](src/main/java/org/springframework/samples/petclinic/repository/jpa) |\n| Spring Data JPA | [business-config.xml](src/main/resources/spring/business-config.xml), [springdatajpa folder](src/main/java/org/springframework/samples/petclinic/repository/springdatajpa) |\n\n\n## Publishing a Docker image\n\nThis application uses [Google Jib]([https://github.com/GoogleContainerTools/jib) to build an optimized Docker image\ninto the [Docker Hub](https://cloud.docker.com/u/springcommunity/repository/docker/springcommunity/spring-framework-petclinic/)\nrepository.\nThe [pom.xml](pom.xml) has been configured to publish the image with a the `springcommunity/spring-framework-petclinic` image name.\n\nJib containerizes this WAR project by using the [distroless Jetty](https://github.com/GoogleContainerTools/distroless/tree/master/java/jetty) as a base image.\n\nBuild and push the container image of Petclinic to the Docker Hub registry:\n```\nmvn jib:build\n```\n\n\n## Interesting Spring Petclinic forks\n\nThe Spring Petclinic master branch in the main [spring-projects](https://github.com/spring-projects/spring-petclinic)\nGitHub org is the "canonical" implementation, currently based on Spring Boot and Thymeleaf.\n\nThis [spring-framework-petclinic](https://github.com/spring-petclinic/spring-framework-petclinic) project is one of the [several forks](https://spring-petclinic.github.io/docs/forks.html) \nhosted in a special GitHub org: [spring-petclinic](https://github.com/spring-petclinic).\nIf you have a special interest in a different technology stack\nthat could be used to implement the Pet Clinic then please join the community there.\n\n\n## Interaction with other open source projects\n\nOne of the best parts about working on the Spring Petclinic application is that we have the opportunity to work in direct contact with many Open Source projects. We found some bugs/suggested improvements on various topics such as Spring, Spring Data, Bean Validation and even Eclipse! In many cases, they\'ve been fixed/implemented in just a few days.\nHere is a list of them:\n\n| Name | Issue |\n|------|-------|\n| Spring JDBC: simplify usage of NamedParameterJdbcTemplate | [SPR-10256](https://jira.springsource.org/browse/SPR-10256) and [SPR-10257](https://jira.springsource.org/browse/SPR-10257) |\n| Bean Validation / Hibernate Validator: simplify Maven dependencies and backward compatibility |[HV-790](https://hibernate.atlassian.net/browse/HV-790) and [HV-792](https://hibernate.atlassian.net/browse/HV-792) |\n| Spring Data: provide more flexibility when working with JPQL queries | [DATAJPA-292](https://jira.springsource.org/browse/DATAJPA-292) |\n| Dandelion: improves the DandelionFilter for Jetty support | [113](https://github.com/dandelion/dandelion/issues/113) |\n\n\n# Contributing\n\nThe [issue tracker](/issues) is the preferred channel for bug reports, features requests and submitting pull requests.\n\nFor pull requests, editor preferences are available in the [editor config](.editorconfig) for easy use in common text editors. Read more and download plugins at <http://editorconfig.org>.\n\n\n\n\n'