b'[![Build status](https://ci.appveyor.com/api/projects/status/us6uh4e5q597jj54?svg=true&passingText=Windows%20Build%20passing&failingText=Windows%20Build%20failed)](https://ci.appveyor.com/project/bluebird75/luaunit)\n[![Build Status](https://travis-ci.org/bluebird75/luaunit.svg?branch=master)](https://travis-ci.org/bluebird75/luaunit)\n[![Documentation Status](https://readthedocs.org/projects/luaunit/badge/?version=latest)](https://readthedocs.org/projects/luaunit/?badge=latest)\n[![Coverage Status](https://coveralls.io/repos/github/bluebird75/luaunit/badge.svg?branch=master)](https://coveralls.io/github/bluebird75/luaunit?branch=master)\n[![Downloads](https://img.shields.io/badge/downloads-235k-brightgreen.svg)](https://luarocks.org/modules/bluebird75/luaunit)\n[![License](http://img.shields.io/badge/License-BSD-green.svg)](LICENSE.txt)\n\n## LuaUnit\nby Philippe Fremy\n\nLuaUnit is a popular unit-testing framework for Lua, with an interface typical\nof xUnit libraries (Python unittest, Junit, NUnit, ...). It supports \nseveral output formats (Text, TAP, JUnit, ...) to be used directly or work with Continuous Integration platforms\n(Jenkins, Hudson, ...).\n\nFor simplicity, LuaUnit is contained into a single-file and has no external dependency. To start using it, \njust add the file *luaunit.lua* to your project. A [LuaRocks package](https://luarocks.org/modules/bluebird75/luaunit) is also available.\n\nTutorial and reference documentation is available on\n[read-the-docs](http://luaunit.readthedocs.org/en/latest/)\n\nLuaUnit may also be used as an assertion library, to validate assertions inside a running program. In addition, it provides\na pretty stringifier which converts any type into a nicely formatted string (including complex nested or recursive tables).\n\n## More details\n\nLuaUnit provides a wide range of assertions and goes into great efforts to provide the most useful output. For example\nsince version 3.3 , comparing lists will provide a detailed difference analysis:\n\n\t-- lua test code. Can you spot the difference ?\n    function TestListCompare:test1()\n        local A = { 121221, 122211, 121221, 122211, 121221, 122212, 121212, 122112, 122121, 121212, 122121 } \n        local B = { 121221, 122211, 121221, 122211, 121221, 122212, 121212, 122112, 121221, 121212, 122121 }\n        lu.assertEquals( A, B )\n    end\n\n    $ lua test_some_lists_comparison.lua\n\n    TestListCompare.test1 ... FAIL\n\ttest/some_lists_comparisons.lua:22: expected: \n\n\tList difference analysis:\n\t* lists A (actual) and B (expected) have the same size\n\t* lists A and B start differing at index 9\n\t* lists A and B are equal again from index 10\n\t* Common parts:\n\t  = A[1], B[1]: 121221\n\t  = A[2], B[2]: 122211\n\t  = A[3], B[3]: 121221\n\t  = A[4], B[4]: 122211\n\t  = A[5], B[5]: 121221\n\t  = A[6], B[6]: 122212\n\t  = A[7], B[7]: 121212\n\t  = A[8], B[8]: 122112\n\t* Differing parts:\n\t  - A[9]: 122121\n\t  + B[9]: 121221\n\t* Common parts at the end of the lists\n\t  = A[10], B[10]: 121212\n\t  = A[11], B[11]: 122121\n\n\nThe command-line options provide a flexible interface to select tests by name or patterns, control output\nformat, set verbosity and more. See [the documentation](http://luaunit.readthedocs.io/en/latest/#command-line-options) .\n\nLuaUnit also provides some dedicated support to scientific computing. See [the documentation](http://luaunit.readthedocs.io/en/latest/#scientific-computing-and-luaunit) .\n\nLuaUnit is very well tested: code coverage is 99.5% . The test suite is run on every version of Lua (Lua 5.1 to 5.3, LuaJIT 2.0 and 2.1 beta)\nand on many OS (Windows Seven, Windows Server 2012, MacOs X and Ubuntu). You can check the continuous build results on [Travis-CI](https://travis-ci.org/bluebird75/luaunit) and [AppVeyor](https://ci.appveyor.com/project/bluebird75/luaunit).\n\nLuaUnit is maintained on GitHub: https://github.com/bluebird75/luaunit . We gladly accept feature requests and even better Pull Requests.\nFor more information on LuaUnit development, please check: [Developing LuaUnit](http://luaunit.readthedocs.org/en/latest/#developing-luaunit) . \n\nLuaUnit is released under the BSD license.\n\nThe main developer can be reached at *phil.fremy at free.fr* . If you have security issue to report requiring confidentiality, this is the address to use.\n\n## LuaUnit successes\n\nVersion 3.2 of LuaUnit has been downloaded more than 235 000 times on [LuaRocks](https://luarocks.org/modules/bluebird75/luaunit)\n\nLuaUnit is used in some very nice technological products. I like to mention:\n\n* [SchedMD/Slurm](https://www.schedmd.com/): Slurm is an open-source cluster resource management and job scheduling \nsystem that strives to be simple, scalable, portable, fault-tolerant, and interconnect agnostic. On the June 2017 Top 500 computer \nlist, Slurm was performing workload management on six of the ten most powerful computers in the world including the number 1 system, \nSunway TaihuLight with 10,649,600 computing cores. LuaUnit is used by Slurm to validate plugins written in Lua. Thanks Douglas Jacobsen\nto contribute back to LuaUnit. See the [GitHub repository of Slurm](https://github.com/SchedMD/slurm) .\n\n* [MAD by the CERN](http://mad.web.cern.ch/mad/): CERN is the European Organization for Nuclear Research, where physicists and engineers are \nprobing the fundamental structure of the universe. MAD is one of the CERN project: MAD aims to be at the forefront of computational physics in \nthe field of particle accelerator design and simulation. Its scripting language is de facto the standard to describe particle accelerators, simulate \nbeam dynamics and optimize beam optics at CERN. Lua is the main language of MAD-ng, the new generatino of MAD. A fork of LuaUnit is used extensively \nfor all MAD calculation and framework validation. Thanks Laurent Deniau for contributing back to LuaUnit. See the [GitHub repository of MAD](https://github.com/MethodicalAcceleratorDesign/MAD) .\n\n## Contributors\n* [NiteHawk](https://github.com/n1tehawk)\n* [AbigailBuccaneer](https://github.com/AbigailBuccaneer)\n* [Juan Juli\xc3\xa1n Merelo Guerv\xc3\xb3s](https://github.com/JJ)\n* [Naoyuki Totani](https://github.com/ntotani)\n* [Jennal](https://github.com/Jennal)\n* [George Zhao](https://github.com/zhaozg)\n* kbuschelman\n* [Victor Seva](https://github.com/linuxmaniac)\n* [Urs Breu](https://github.com/ubreu)\n* Jim Anderson\n* [Douglas Jacobsen](https://github.com/dmjacobsen)\n* [Mayama Takeshi](https://github.com/MayamaTakeshi)\n\n\n## Installation\n\n**LuaRocks**\n\nLuaUnit v3.3 is available on [LuaRocks](https://luarocks.org/modules/bluebird75/luaunit). To install it, you need at least \nLuaRocks version 2.4.4 (due to old versions of wget being incompatible with GitHub https downloading)\n\n**GitHub** \n\nThe simplest way to install LuaUnit is to fetch the GitHub version:\n\n    git clone git@github.com:bluebird75/luaunit.git\n\nThen copy the file luaunit.lua into your project or the Lua libs directory.\n\nThe version in development on GitHub is always stable and can be used safely.\n\nOn Linux, you can also install it into your Lua directories\n\n    sudo python doit.py install\n\nIf that fail, edit the function `install()` in the file `doit.py` to adjust\nthe Lua version and installation directory. It uses, by default, Linux paths that depend on the version.\n\n\n### History \n\n#### Version 3.3 - 6. March 2018\n* General\n    * when comparing lists with assertEquals(), failure message provides an advanced comparison of the lists\n    * assertErrorMsgEquals() can check for error raised as tables\n    * tests may be finished early with fail(), failIf(), success() or successIf()\n    * improve printing of recursive tables\n    * improvements and fixes to JUnit and TAP output\n    * stricter assertTrue() and assertFalse(): they only succeed with boolean values\n    * add assertEvalToTrue() and assertEvalToFalse() with previous assertTrue()/assertFalse() behavior of coercing to boolean before asserting\n        ** all assertion functions accept an optional extra message, to be printed along the failure\n* New command-line arguments:\n\t* can now shuffle tests with --shuffle or -s\n\t* possibility to repeat tests (for example to trigger a JIT), with --repeat NUM or -r NUM\n\t* more flexible test selection with inclusion (--pattern / -p) or exclusion (--exclude / -x) or combination of both\n* Scientific computing dedicated support (see documentation):\n\t* provide the machine epsilon in lu.EPS\n\t* new functions: assertNan(), assertInf(), assertPlusInf(), assertMinusInf(), assertPlusZero(), assertMinusZero()\n\t* in assertAlmostEquals( a, b, margin ), margin no longer provides a default value of 1E-11, the machine epsilon is used instead\n* Platform and continuous integration support:\n\t* validate LuaUnit on MacOs platform (thank to Travis CI)\n\t* validate LuaUnit with 32 bits numbers (floats) and 64 bits numbers (double)\n\t* add test coverage measurements thank to coveralls.io . Status: 99.76% of the code is verified.\n\t* use cache for AppVeyor and Travis builds\n\t* support for luarocks doc command\n* General doc improvements (detailed description of all output, more cross-linking between sections)\n\n#### Version 3.2 - 12. Jul 2016\n* distinguish between failures (failed assertion) and errors\n* add command-line option to stop on first error or failure\n* support for new versions: Lua 5.3 and LuaJIT (2.0, 2.1 beta)\n* validation of all lua versions on Travis CI and AppVeyor\n* added compatibility layer with forked luaunit v2.x\n* added documentation about development process\n* improved support for table containing keys of type table\n* small bug fixes, several internal improvements\n\n#### Version 3.1 - 10 Mar. 2015\n* luaunit no longer pollutes global namespace, unless defining EXPORT_ASSERT_TO_GLOBALS to true\n* fixes and validation of JUnit XML generation\n* strip luaunit internal information from stacktrace\n* general improvements of test results with duration and other details\n* improve printing for tables, with an option to always print table id\n* fix printing of recursive tables \n\n**Important note when upgrading to version 3.1** : assertions functions are\nno longer exported directly to the global namespace. See documentation for upgrade\npaths.\n\n#### Version 3.0 - 9. Oct 2014\n\nSince some people have forked LuaUnit and release some 2.x version, I am\njumping the version number.\n\n- moved to Github\n- full documentation available in text, html and pdf at read-the-docs.org\n- new output format: JUnit\n- much better table assertions\n- new assertions for strings, with patterns and case insensitivity: assertStrContains, \n  assertNotStrContains, assertNotStrIContains, assertStrIContains, assertStrMatches\n- new assertions for floats: assertAlmostEquals, assertNotAlmostEquals\n- type assertions: assertIsString, assertIsNumber, ...\n- error assertions: assertErrorMsgEquals, assertErrorMsgContains, assertErrorMsgMatches\n- improved error messages for several assertions\n- command-line options to select test, control output type and verbosity\n\n#### Version 2.0\nUnofficial fork from version 1.3\n- lua 5.2 module style, without global namespace pollution\n- setUp() may be named Setup() or setup()\n- tearDown() may be named Teardown() or teardown()\n- wrapFunction() may be called WrapFunctions() or wrap_functions()\n- run() may also be called Run()\n- table deep comparision (also available in 1.4)\n- control verbosity with setVerbosity() SetVerbosity() and set_verbosity()\n- More assertions: \n  - is<Type>, is_<type>, assert<Type> and assert_<type> (e.g. assert( LuaUnit.isString( getString() ) )\n  - assertNot<Type> and assert_not_<type>\n\n#### Version 1.5 - 8. Nov 2012\n- compatibility with Lua 5.1 and 5.2\n- better object model internally\n- a lot more of internal tests\n- several internal bug fixes\n- make it easy to customize the test output\n- running test functions no longer requires a wrapper\n- several level of verbosity\n\n\n#### Version 1.4 - 26. Jul 2012\n- table deep comparison\n- switch from X11 to more popular BSD license\n- add TAP output format for integration into Jenkins\n- official repository now on GitHub\n\n\n#### Version 1.3 - 30. Oct 2007\n- port to lua 5.1\n- iterate over the test classes, methods and functions in the alphabetical order\n- change the default order of expected, actual in assertEquals (adjustable with USE_EXPECTED_ACTUAL_IN_ASSERT_EQUALS).\n\n\n#### Version 1.2 - 13. Jun 2005  \n- first public release\n\n\n#### Version 1.1\n- move global variables to internal variables\n- assertion order is configurable between expected/actual or actual/expected\n- new assertion to check that a function call returns an error\n- display the calling stack when an error is spotted\n- two verbosity level, like in python unittest\n\n![stats](https://stats.sylphide-consulting.com/piwik/piwik.php?idsite=37&rec=1)\n'