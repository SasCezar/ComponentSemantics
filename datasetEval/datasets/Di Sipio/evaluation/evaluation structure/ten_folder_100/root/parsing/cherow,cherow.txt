b'# Cherow\n\n[![NPM version](https://img.shields.io/npm/v/cherow.svg?style=flat-square)](https://www.npmjs.com/package/cherow)\n[![Gitter chat](https://img.shields.io/gitter/room/Cherow/cherow.svg?style=flat-square)](https://gitter.im/cherow/cherow)\n[![CircleCI](https://img.shields.io/circleci/project/github/cherow/cherow/master.svg?style=flat-square)](https://circleci.com/gh/cherow/cherow)\n[![Coverage Status](https://img.shields.io/coveralls/github/cherow/cherow/master.svg?style=flat-square)](https://coveralls.io/github/cherow/cherow?branch=master)\n[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)\n[![Code Quality: Javascript](https://img.shields.io/lgtm/grade/javascript/g/cherow/cherow.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/cherow/cherow/context:javascript)\n[![Total Alerts](https://img.shields.io/lgtm/alerts/g/cherow/cherow.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/cherow/cherow/alerts)\n\n\nA very fast and lightweight, standards-compliant, self-hosted javascript parser with high focus on both performance and stability.\n\n## Deprecation notice\n\nThis project is no longer maintained. Please consider its successor: [meriyah](https://github.com/meriyah/meriyah) and [buntis](https://github.com/buntis/buntis)\n\n## [Demo](https://cherow.github.io/cherow/) and [Benchmark](https://cherow.github.io/cherow/performance/)\n\n## Features\n\n* Conforms to the standard ECMAScript\xc2\xae 2020 [(ECMA-262 10th Edition)](https://tc39.github.io/ecma262/) language specification (*draft*)\n* Support stage 3 proposals via option.\n* Support for parsing with and without web compability (*AnnexB*)\n* Support to only parse [expressions](https://tc39.github.io/ecma262/#sec-ecmascript-language-expressions)\n* Experimental feature support via option.\n* Optionally track syntactic node locations\n* Emits an [ESTree-compatible](https://github.com/estree/estree) abstract syntax tree.\n* Very well tested (~25 000 [unit tests](https://github.com/cherow/cherow/tree/master/test) with [full code coverage)](https://coveralls.io/github/cherow/cherow))\n* Supports all module loaders\n* Lightweight - ~72 KB minified\n\n## ESNext features\n\n`Stage 3` features support. These need to be enabled with the `next` option.\n\n* [Import()](https://github.com/tc39/proposal-dynamic-import)\n* [Hashbang Grammar](https://github.com/tc39/proposal-hashbang)\n* [BigInt](https://github.com/tc39/proposal-bigint)\n* [Import.meta](https://github.com/tc39/proposal-import-meta)\n\n## API\n\nCherow generates AST according to [ESTree AST format](https://github.com/estree/estree), and can be used to perform [syntactic analysis](https://en.wikipedia.org/wiki/Parsing) (parsing) of a JavaScript program, and with ES2015 and later a JavaScript program can be either [a script or a module](http://www.ecma-international.org/ecma-262/8.0/index.html#sec-ecmascript-language-scripts-and-modules).\n\nThe `parse` method exposed by Cherow takes an optional `options` object which allows you to specify whether to parse in [`script`](http://www.ecma-international.org/ecma-262/8.0/#sec-parse-script) mode (the default) or in [`module`](http://www.ecma-international.org/ecma-262/8.0/#sec-parsemodule) mode.\n\n\nHere is a quick example to parse a script:\n\n```js\n\ncherow.parseScript(\'foo = bar\');\n\n// or\n\ncherow.parse(\'x = async() => { for await (x of xs); }\');\n\n```\n\nThis will return when serialized in json:\n\n```js\n{\n    body: [{\n        expression: {\n            left: {\n                name: \'x\',\n                type: \'Identifier\'\n            },\n            operator: \'=\',\n            right: {\n                async: true,\n                body: {\n                    body: [{\n                        await: true,\n                        body: {\n                            type: \'EmptyStatement\',\n                        },\n                        left: {\n                            name: \'x\',\n                            type: \'Identifier\',\n                        },\n                        right: {\n                            name: \'xs\',\n                            type: \'Identifier\',\n                        },\n                        type: \'ForOfStatement\',\n                    }],\n                    type: \'BlockStatement\'\n                },\n                expression: false,\n                generator: false,\n                id: null,\n                params: [],\n                type: \'ArrowFunctionExpression\'\n            },\n            type: \'AssignmentExpression\'\n        },\n        type: \'ExpressionStatement\'\n    }],\n    sourceType: \'script\',\n    type: \'Program\'\n}\n```\n\nThe API also allows you to use Cherow as a stand-alone  [expression parser](https://tc39.github.io/ecma262/#sec-ecmascript-language-expressions) and let you parse your code in either script or module goal code.\n\n```js\n\ncherow.parseExpression(\'foo\', { ranges: true });\n\n```\n\nThis will return when serialized in json:\n\n```js\n {\n      end: 3,\n      name: \'foo\',\n      start: 0,\n      type: \'Identifier\'\n    }\n```\n\n## Options\n\nThe second argument allows you to specify various options:\n\n| Option        | Description |\n| ----------- | ------------------------------------------------------------ |\n| `module`          | Enable module syntax |\n| `ranges`          | Append start and end offsets to each node |\n| `globalReturn`    | Allow return in the global scope |\n| `globalAwait`     | Allow await in the global scope |\n| `webcompat`       | Enable web compability (*AnnexB*) |\n| `impliedStrict`   | Enable strict mode initial enforcement |\n| `next`            | Enable stage 3 support (*ESNext*)  |\n| `experimental`    | Enable experimental features    |\n| `parenthesizedExpr` | Enable non-standard parenthesized expression node |\n| `raw`             | Attach raw property to each literal node and identifier node |\n| `directives`      | Enable [directive prologue](https://github.com/danez/estree/blob/directive/es5.md#directive) to each literal node |\n| `onComment`       | Accept either callback or array to collect comment |\n| `onToken`         | Accept either callback or array and returns each found token |\n\n## Experimental features\n\nCherow aim to support the same experimental features as found in V8 when enabling the \'experimental\' flag. However. An exception has been made for the\n[numeric separators](https://github.com/tc39/proposal-numeric-separator) proposal. It\'s currently pending on Stage 2 after being "*degraded*" from Stage 3. The future of this proposal seems uncertain at the moment and will *not* be implemented.\n\nAlso the [proposal-decorators](https://github.com/tc39/proposal-decorators) are constantly changing so at current stage this will *not* be implemented.\n\n## Nightly builds\n\nIt\'s available on NPM.\n\n## Contributing\n\nIf you feel something could\'ve been done better, please do feel free to file a pull request with the changes.\n\nRead our guidelines [here](CONTRIBUTING.md)\n\n## Bug reporting\n\nIf you caught a bug, don\'t hesitate to report it in the issue tracker. From the moment I respond to you, it will take maximum 60 minutes before the bug is fixed.\n\nNote that I will try to respond to you within one hour. Sometimes it can take a bit longer. I\'m not allways online. And if I find out it\nwill take more then 60 minutes to solve your issue, you will be notified.\n\nI know how irritating it can be if you are writing code and encounter bugs in your dependencies. And even more frustrating if you need to wait weeks or days.\n\n\n## Rationale\n\nExisting parsers have many issues with them:\n\n* `Acorn` is the most commonly used tool out there because of its support for recent ES standards, but it\'s slow and it often is too permissive in what it accepts. It\'s also not optimized for handheld devices.\n\n* `Esprima` is a little faster than Acorn, but it\'s almost never updated, and their test suite has too many invalid tests. It also doesn\'t support recent ES standards.\n\n* `Babylon` is tightly coupled to Babel, and is comparatively very slow.\n\nMost of these parsers would not fare any chance against the official Test262 suite, and fail a substantial number of them.\n\nWe figured we could *try* do better. *We* are used in plural form because Cherow is developed by a main developer and two\nothers "*behind the scenes*" that contributes with their knowledge whenever it\'s necessary.\n\n---\n\nCross-browser testing provided by:\n\n<a href="http://browserstack.com"><img height="70" src="https://i.imgur.com/O9USsNQ.png" alt="BrowserStack"></a>\n'