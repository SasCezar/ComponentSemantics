b'## Down\n[![Build Status](https://travis-ci.org/iwasrobbed/Down.svg?branch=master)](https://travis-ci.org/iwasrobbed/Down)\n[![MIT licensed](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/iwasrobbed/Down/blob/master/LICENSE)\n[![CocoaPods](https://img.shields.io/cocoapods/v/Down.svg?maxAge=10800)]()\n[![Swift 5](https://img.shields.io/badge/language-Swift-blue.svg)](https://swift.org)\n[![macOS](https://img.shields.io/badge/OS-macOS-orange.svg)](https://developer.apple.com/macos/)\n[![iOS](https://img.shields.io/badge/OS-iOS-orange.svg)](https://developer.apple.com/ios/)\n[![tvOS](https://img.shields.io/badge/OS-tvOS-orange.svg)](https://developer.apple.com/tvos/)\n[![Linux](https://img.shields.io/badge/OS-Linux-orange.svg)](https://www.linux.org/)\n[![Code Coverage](https://codecov.io/gh/iwasrobbed/Down/branch/master/graph/badge.svg)](https://codecov.io/gh/iwasrobbed/Down)\n\nBlazing fast Markdown (CommonMark) rendering in Swift, built upon [cmark v0.29.0](https://github.com/commonmark/cmark).\n\nIs your app using it? [Let us know!](mailto:rob@robphillips.me)\n\n#### Maintainers\n\n- [Rob Phillips](https://github.com/iwasrobbed)\n- [John Nguyen](https://github.com/johnxnguyen)\n- [Keaton Burleson](https://github.com/128keaton)\n- [phoney](https://github.com/phoney)\n- [Tony Arnold](https://github.com/tonyarnold)\n- [Ken Harris](https://github.com/kengruven)\n- [Chris Zielinski](https://github.com/chriszielinski)\n- [Other contributors](https://github.com/iwasrobbed/Down/graphs/contributors) \xf0\x9f\x99\x8c\n\n### Installation\n\nNote: Swift 5 support is now on the `master` branch and any tag >= 0.8.1 (Swift 4 is >= 0.4.x, Swift 3 is 0.3.x)\n\nQuickly install using [CocoaPods](https://cocoapods.org):\n\n```ruby\npod \'Down\'\n```\n\nOr [Carthage](https://github.com/Carthage/Carthage):\n\n```\ngithub "iwasrobbed/Down"\n```\nDue to limitations in Carthage regarding platform specification, you need to define the platform with Carthage.\n\ne.g.\n\n```carthage update --platform iOS```\n\nOr manually install:\n\n1. Clone this repository\n2. Drag and drop the Down project into your workspace file, adding the framework in the embedded framework section\n2. Build and run your app\n4. ?\n5. Profit\n\n### Robust Performance\n\n>[cmark](https://github.com/commonmark/cmark) can render a Markdown version of War and Peace in the blink of an eye (127 milliseconds on a ten year old laptop, vs. 100-400 milliseconds for an eye blink). In our [benchmarks](https://github.com/commonmark/cmark/blob/master/benchmarks.md), cmark is 10,000 times faster than the original Markdown.pl, and on par with the very fastest available Markdown processors.\n\n> The library has been extensively fuzz-tested using [american fuzzy lop](http://lcamtuf.coredump.cx/afl). The test suite includes pathological cases that bring many other Markdown parsers to a crawl (for example, thousands-deep nested bracketed text or block quotes).\n\n### Output Formats\n* Web View (see DownView class)\n* HTML\n* XML\n* LaTeX\n* groff man\n* CommonMark Markdown\n* NSAttributedString\n* AST (abstract syntax tree)\n\n### View Rendering\n\nThe `DownView` class offers a very simple way to parse a UTF-8 encoded string with Markdown and convert it to a web view that can be added to any view:\n\n```swift\nlet downView = try? DownView(frame: self.view.bounds, markdownString: "**Oh Hai**") {\n    // Optional callback for loading finished\n}\n// Now add to view or constrain w/ Autolayout\n// Or you could optionally update the contents at some point:\ntry? downView?.update(markdownString:  "## [Google](https://google.com)") {\n    // Optional callback for loading finished\n}\n```\n\nMeta example of rendering this README:\n\n![Example gif](Images/ohhai.gif)\n\n### Parsing API\n\nThe `Down` struct has everything you need if you just want out-of-the-box setup for parsing and conversion.\n\n```swift\nlet down = Down(markdownString: "## [Down](https://github.com/iwasrobbed/Down)")\n\n// Convert to HTML\nlet html = try? down.toHTML()\n// "<h2><a href=\\"https://github.com/iwasrobbed/Down\\">Down</a></h2>\\n"\n\n// Convert to XML\nlet xml = try? down.toXML()\n// "<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<!DOCTYPE document SYSTEM \\"CommonMark.dtd\\">\\n<document xmlns=\\"http://commonmark.org/xml/1.0\\">\\n  <heading level=\\"2\\">\\n    <link destination=\\"https://github.com/iwasrobbed/Down\\" title=\\"\\">\\n      <text>Down</text>\\n    </link>\\n  </heading>\\n</document>\\n"\n\n// Convert to groff man\nlet man = try? down.toGroff()\n// ".SS\\nDown (https://github.com/iwasrobbed/Down)\\n"\n\n// Convert to LaTeX\nlet latex = try? down.toLaTeX()\n// "\\\\subsection{\\\\href{https://github.com/iwasrobbed/Down}{Down}}\\n"\n\n// Convert to CommonMark Markdown\nlet commonMark = try? down.toCommonMark()\n// "## [Down](https://github.com/iwasrobbed/Down)\\n"\n\n// Convert to an attributed string\nlet attributedString = try? down.toAttributedString()\n// NSAttributedString representation of the rendered HTML;\n// by default, uses a stylesheet that matches NSAttributedString\'s default font,\n// but you can override this by passing in your own, using the \'stylesheet:\' parameter.\n\n// Convert to abstract syntax tree\nlet ast = try? down.toAST()\n// Returns pointer to AST that you can manipulate\n\n```\n\n### Rendering Granularity\n\nIf you\'d like more granularity for the output types you want to support, you can create your own struct conforming to at least one of the renderable protocols:\n\n* DownHTMLRenderable\n* DownXMLRenderable\n* DownLaTeXRenderable\n* DownGroffRenderable\n* DownCommonMarkRenderable\n* DownASTRenderable\n* DownAttributedStringRenderable\n\nExample:\n\n```swift\npublic struct MarkdownToHTML: DownHTMLRenderable {\n    /**\n     A string containing CommonMark Markdown\n    */\n    public var markdownString: String\n\n    /**\n     Initializes the container with a CommonMark Markdown string which can then be rendered as HTML using `toHTML()`\n\n     - parameter markdownString: A string containing CommonMark Markdown\n\n     - returns: An instance of Self\n     */\n    @warn_unused_result\n    public init(markdownString: String) {\n        self.markdownString = markdownString\n    }\n}\n```\n\n### Configuration of `DownView`\n\n`DownView` can be configured with a custom bundle using your own HTML / CSS or to do things like supporting\nDynamic Type or custom fonts, etc. It\'s completely configurable.\n\nThis option can be found in [DownView\'s instantiation function](https://github.com/iwasrobbed/Down/blob/master/Source/Views/DownView.swift#L26).\n\n##### Prevent zoom\n\nThe default implementation of the `DownView` allows for zooming in the rendered content. If you want to disable this, then you\xe2\x80\x99ll need to instantiate the `DownView` with a custom bundle where the `viewport` in `index.html` has been assigned `user-scalable=no`. More info can be found [here](https://github.com/iwasrobbed/Down/pull/30).\n\n### Options\n\nEach protocol has options that will influence either rendering or parsing:\n\n```swift\n/**\n Default options\n*/\npublic static let `default` = DownOptions(rawValue: 0)\n\n// MARK: - Rendering Options\n\n/**\n Include a `data-sourcepos` attribute on all block elements\n*/\npublic static let sourcePos = DownOptions(rawValue: 1 << 1)\n\n/**\n Render `softbreak` elements as hard line breaks.\n*/\npublic static let hardBreaks = DownOptions(rawValue: 1 << 2)\n\n/**\n Suppress raw HTML and unsafe links (`javascript:`, `vbscript:`,\n `file:`, and `data:`, except for `image/png`, `image/gif`,\n `image/jpeg`, or `image/webp` mime types).  Raw HTML is replaced\n by a placeholder HTML comment. Unsafe links are replaced by\n empty strings. Note that this option is provided for backwards\n compatibility, but safe mode is now the default.\n*/\npublic static let safe = DownOptions(rawValue: 1 << 3)\n\n/**\n Allow raw HTML and unsafe links. Note that safe mode is now\n the default, and the unsafe option must be used if rendering\n of raw HTML and unsafe links is desired.\n*/\npublic static let unsafe = DownOptions(rawValue: 1 << 17)\n\n// MARK: - Parsing Options\n\n/**\n Normalize tree by consolidating adjacent text nodes.\n*/\npublic static let normalize = DownOptions(rawValue: 1 << 4)\n\n/**\n Validate UTF-8 in the input before parsing, replacing illegal\n sequences with the replacement character U+FFFD.\n*/\npublic static let validateUTF8 = DownOptions(rawValue: 1 << 5)\n\n/**\n Convert straight quotes to curly, --- to em dashes, -- to en dashes.\n*/\npublic static let smart = DownOptions(rawValue: 1 << 6)\n\n/**\n Combine smart typography with HTML rendering.\n*/\npublic static let smartUnsaFe = DownOptions(rawValue: (1 << 17) + (1 << 6))\n```\n\n### Supports\nSwift; iOS 9+, tvOS 9+, macOS 10.11+\n\n### Markdown Specification\n\nDown is built upon the [CommonMark](http://commonmark.org) specification.\n\n### A little help from my friends\nPlease feel free to fork and create a pull request for bug fixes or improvements, being sure to maintain the general coding style, adding tests, and adding comments as necessary.\n\n### Credit\nThis library is a wrapper around [cmark](https://github.com/commonmark/cmark), which is built upon the [CommonMark](http://commonmark.org) Markdown specification.\n\n[cmark](https://github.com/commonmark/cmark) is Copyright (c) 2014, John MacFarlane. View [full license](https://github.com/commonmark/cmark/blob/master/COPYING).\n'