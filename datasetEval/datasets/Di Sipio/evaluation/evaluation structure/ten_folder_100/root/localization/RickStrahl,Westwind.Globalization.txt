b'# West Wind Globalization\r\n### Database Resource Localization for .NET\r\n\r\n**Westwind.Globalization (.NET Standard, .NET 4.5+):**   \r\n[![NuGet](https://img.shields.io/nuget/v/Westwind.Globalization.svg)](https://www.nuget.org/packages/Westwind.Globalization/)\r\n![](https://img.shields.io/nuget/dt/Westwind.Globalization.svg)\r\n\r\n**Westwind.Globalization.AspNetCore (.NET Core):**  \r\n[![NuGet](https://img.shields.io/nuget/v/Westwind.Globalization.AspNetCore.svg)](https://www.nuget.org/packages/Westwind.Globalization.AspNetCore/)\r\n![](https://img.shields.io/nuget/dt/Westwind.Globalization.AspNetCore.svg)\r\n\r\n**Westwind.Globalization.Web (.NET 4.5+):**  \r\n[![NuGet](https://img.shields.io/nuget/v/Westwind.Globalization.Web.svg)](https://www.nuget.org/packages/Westwind.Globalization.Web/)\r\n![](https://img.shields.io/nuget/dt/Westwind.Globalization.Web.svg)\r\n\r\n\r\nThis library and tooling provides easy to use database resource managers and providers that allow you to use a database for storing localization resources. Unlike static Resx resources, database resources are dynamic, can be changed at runtime and are editable by multiple users at the same time. The custom resource managers, providers and ASP.NET Core StringLocalizers use the standard .NET resource infrastructure, so other than startup configuration there are no code changes when switching from using traditional Resx resources. \r\n\r\nIt\'s also possible to import resources into a database, edit them dynamically, and then export them back out into Resx and optionally strongly typed classes so your deployed applications can run with Resx resources, while you can use dynamic Database resources during development.\r\n\r\nA rich, Web based resource editor is also provided that makes it easy to create resource content and translate it interactively in a running application where you can see resource changes immediately applied without recompilation. You can import and export Resx resources, generate strongly typed classes and serve resources to JavaScript applications using the database resources. \r\n![Web Resource Editor](WebResourceLocalizationForm.png)\r\n\r\n### Quick Links\r\n\r\n* [Nuget Packages](#nuget)\r\n* [Features](#features)\r\n* [Documentation](https://west-wind.com/westwind.globalization/docs)\r\n* [Installation and Configuration for .NET Core](#installation-netcore)\r\n* [Installation and Configuration for .NET 4.5+](#installation-fullframework)\r\n* [Using Resources in your Application](#resource-usage)\r\n* [The Web Resource Editor](#web-resource-editor)\r\n\r\n### Requirements:\r\n* works .NET Standard 2.0/.NET Core 2.0 or .NET 4.5 or later\r\n* SQL Server 2008-2019, SQL Server Express, SQL Compact 4, MySql, SqLite\r\n* .NET Core Sample Project uses .NET Core 2.2 and needs VS 2019\r\n\r\n### .NET Version Support\r\nVersion 3.0 adds support for the 2.0 versions of .NET Standard, .NET Core and ASP.NET Core. The following versions are provided:\r\n\r\n* Westwind.Globalization <small>*(net45 and netstandard2.0)*</small>  \r\n[![NuGet](https://img.shields.io/nuget/v/Westwind.Globalization.svg)](https://www.nuget.org/packages/Westwind.Globalization/)\r\n![](https://img.shields.io/nuget/dt/Westwind.Globalization.svg)\r\n* Westwind.Globalization.AspNetCore <small>*(netstandard2.0)*</small>  \r\n[![NuGet](https://img.shields.io/nuget/v/Westwind.Globalization.AspNetCore.svg)](https://www.nuget.org/packages/Westwind.Globalization.AspNetCore/)\r\n![](https://img.shields.io/nuget/dt/Westwind.Globalization.AspNetCore.svg)\r\n* Westwind.Globalization.Web <small>*(net45)*</small>  \r\n[![NuGet](https://img.shields.io/nuget/v/Westwind.Globalization.Web.svg)](https://www.nuget.org/packages/Westwind.Globalization.Web/)\r\n![](https://img.shields.io/nuget/dt/Westwind.Globalization.Web.svg)\r\n* Westwind.Globalization.Sample <small>*(net45)*</small>\r\n* Westwind.Globalization.Sample.AspNetCore <small>*(netcore2.0)*</small>\r\n\r\n<a name="nuget"></a>\r\n### Installation\r\nInstallation is different depending on which version of .NET you are running under **.NET Core** and **Full Framework** use different project types and NuGet Packages for the Web support.\r\n\r\n> #### Limited non-Windows Support for Admin Features\r\n> The admin features of this package have not been fully ported to non-Windows platforms. Specifically, any of the RESX and Import Export features will not work on non-windows platforms currently. However runtime database access is fully functional.\r\n\r\nFor installation use NuGet.\r\n\r\n#### To Install for .NET Core\r\nPlease read the installation instructions below to configure once you\'ve installed the project. You will need to configure startup settings in order for the Db Providers to run.\r\n \r\n```\r\nPM> Install-Package Westwind.Globalization.AspNetCore\r\n```\r\nIf you\'re not using a Web Project you can just use the base package:\r\n\r\n```\r\nPM> Install-Package Westwind.Globalization\r\n```\r\n\r\n> #### ASP.NET Core Administration Web UI: Separate Download\r\n> Due to changes in NuGet support in .NET Core we can no longer package static HTML, CSS and JS as part of NuGet packages. As a result a **separate download is required** to add the Localization Admin UI. You can download it from:\r\n> \r\n> * [Documentation for installing Localization Admin Files](https://github.com/RickStrahl/Westwind.Globalization/tree/master/DownloadableAssets)\r\n> * [Localization Admin  Html Assets Download](https://github.com/RickStrahl/Westwind.Globalization/blob/master/DownloadableAssets/LocalizationAdministrationHtml_AspNetCore.zip?raw=true)\r\n>\r\n> Unzip the contents of the Zip file into your project folder root, which creates the `./wwwroot/LocalizationAdmin` Web folder and adds related resources to `./Properties`.\r\n\r\n#### To Install on .NET Framework\r\nPlease read the Installation Section below or watch the [Getting Started Video](https://youtu.be/ABR7ISppB1k), which describes how to install the packages, configure the project, import existing re\r\n\r\n```\r\nPM> Install-Package Westwind.Globalization.Web.Starter\r\n```\r\nor if you don\'t want sample resources and a test page, simply use:\r\n```\r\nPM> Install-Package Westwind.Globalization.Web\r\n```\r\n\r\nIf you\'re not using a Web Project or you\'re using MVC/Web API **and** don\'t need the Web Resource Editor you can just use the core package:\r\n```\r\nPM> Install-Package Westwind.Globalization\r\n```\r\n\r\n### Resources:\r\n* [Westwind.Globalization Home Page](http://west-wind.com/westwind.globalization/)\r\n* [Nuget Package](https://www.nuget.org/packages?q=westwind.globalization)\r\n* [Video: Getting Started with West Wind Globalization 2.0](https://youtu.be/ABR7ISppB1k)\r\n* [Wiki Documentation and FAQ](http://west-wind.com/westwind.globalization/docs/)\r\n* [Original Article for Database Driven Resource Provider](http://www.west-wind.com/presentations/wwdbresourceprovider/)\r\n* [Westwind-Globalization on StackOverFlow](http://stackoverflow.com/questions/tagged/westwind-globalization)\r\n* [Class Reference](http://west-wind.com/westwind.globalization/docs/?page=_40y0vh66q.htm)\r\n* [Change Log](ChangeLog.md)\r\n* [License](#license)\r\n\r\n\r\n<a name="Features"></a>\r\n### Features\r\n* .NET Resources in Sql Server, SqlCe, MySql and SqLite   \r\n* Injectable .NET Core StringLocalizers (ASP.NET Core)\r\n* ASP.NET Database ResourceProviders (ASP.NET/WebForms) \r\n* .NET  ResourceManager (ASP.NET MVC,non-Web apps)\r\n* Uses standard .NET Resource infrastructure and caching\r\n* Or: Use our dynamic DbRes string based helper (works anywhere)\r\n* Interactive Web Resource Editor to edit Resources\r\n* Keyboard optimized resources editing\r\n* Translate text resources with Google or Bing\r\n* Use Markdown in your text resources\r\n* Import and export Resx resources \r\n* Generate strongly typed classes from the Db resources\r\n* Release and reload resources in running Web apps\r\n* Serve .NET Resources to JavaScript as JSON\r\n* Create your own custom DbResourceManagers\r\n* Directly access and manage DbResources with code \r\n\r\n\r\nBecause this library uses the standard .NET resource infrastructure using the DbResourceProvider or DbResourceManager requires no code changes from ResX resources, other than provider configuration in your .config file and potentially a few lines of startup code.  You can import existing Resx resources and edit them interactively. Serve your resources either with the DbResourceProvider or DbResourceManager, or if you chose export them back out to Resx files for your final application code. Importing and exporting is a easily done from the Web admin interface or can be fired using code including as part of your build process.\r\n\r\n> **Note**: The database is accessed only once per ResourceSet and per Locale, using the\r\n> standard .NET Resource caching architecture used in Resource Providers and\r\n> Resource Managers, so database access and usage is minimal. You can use these \r\n> Providers/Manager in MVC, WebForms and even in non Web applications.\r\n\r\n<a name="web-resource-editor"></a>\r\n### Web Resource Editor\r\nOne of the main reasons people want to use Database resources rather\r\nthan Resx resources is that it allows for dynamic updates of resources. Resx\r\nresources are static and compiled into an application and so are typically\r\ntied to the development process, while dynamic resources can be updated\r\nseparately even after the application has been completed and deployed.\r\n\r\nSince data is stored in a database it\'s easy to create editing front ends\r\nor programmatic tools that simply manipulate the database. This library\r\nships with a Web interface that allows editing of resources interactively\r\nand an easy to use data API to update resources programmatically.\r\n\r\n![Web Resource Editor](WebResourceLocalizationForm.png)\r\n\r\n![Web Resource Translator Dialog](WebResourceTranslateDialog.png)\r\n\r\nThe resource editor is an easy way to localize resources interactively,\r\nbut it\'s not the only way you can do this of course. Since you have access \r\nto the data API underneath it as well as the database itself, it\'s \r\neasy to create your own customized UI or data driven API that suits your\r\napplication needs exactly.\r\n\r\n> **Markdown Support** The resource edit form allows you to optionally use Markdown for resource editing which in addition to localization makes it possible to use this libary as a basic CMS to manage user manageable content in your applications.\r\n\r\n\r\n### How the database Providers work\r\nThis library implements a custom .NET `ResourceManager` and \r\nASP.NET `ResourceProvider` (for .NET 4.x) that are tied to a database provider interface (although you can implement non-data providers as well). This means you  can access resources using the same mechanisms that you use with standard Resx Resources in your .NET applications. It also means although resources are initially loaded from the database for the first load of each `ResourceSet`. .NET then caches resources for each individual `ResourceSet` and locale the same way that Resx resources are read from the assembly resources and then cached. \r\n\r\n> The database is hit only for the first read of a given \r\nResourceSet/Locale combination - not every resource access\r\nhits the database!\r\n\r\nThe `DbResourceManager` can be used in any type of .NET application using the `DbRes` or `DbResInstance` class methods, generated strongly typed classes, or using the Resource\r\nManager directly. The DbResourceProvider classes can be used in ASP.NET applications - especially for WebForms with support for local and global resources, implicit resources and control meta tags. MVC applications typically use the ResourceManager with strongly typed resources or the\r\n`DbRes` classes or by exporting resources back into RESX. \r\n\r\nUnderneath the .NET providers lies a the `Westwind.Globalization` data\r\naccess layer (IDbResourceDataManager) that provides the data interface \r\nto provide access to various providers. The default provider uses **SQL Server**\r\nas a data source with additional providers available for **MySql**, **SqLite** and\r\n**SqlCompact**. This API is accessed by the Resource Provider and Resource Manager\r\nimplementations to read the resources from the database.\r\n\r\nAdditionally the API can be directly accessed to provide resource access, and the DbRes helper class provides very easy access to these resources using the DbRes.T() method which can be thought of as a high level translation method.\r\n\r\nThis interface is also directly accessible and allows your code as well as support code like the UI Web Resource editor to easily access and manipulate resources in real-time at runtime.\r\n\r\nThis library includes quite a proliferation of classes most of it due to the implementation requirements for the .NET providers which require implementation of a host of interface based classes for customization. \r\n\r\nThere are three distinct resource access mechanisms supported:\r\n\r\n* ASP.NET Resource Provider (best used with WebForms)\r\n* .NET Resource Manager and strongly typed resources \r\n  (Non-Web apps, ASP.NET Core, classic MVC apps or anywhere where you already use Resx)\r\n* Direct Db Provider access using `DbRes` and `DbResInstance` helpers  \r\n(easiest overall - works everywhere)\r\n\r\n## Running the Sample Application\r\nTo run the sample application you have to set up a database to provide the resources. The following assumes you are using the default configuration which uses SQL Server and a database named *Localizations* - you can  change this via web.config settings (see the following section for more details). \r\n \r\n* Create a SQL Server/Express Database called `Localizations`\r\n* Make sure the Web User using **has rights** to create a Table in this DB\r\n* Open `http://localhost:xxxxx/LocalizationAdmin/index.html` in your browser\r\n* You\'ll get an error message like: <br/>\r\n  *ResourceLoadingFailed: Invalid Object Name Localizations*\r\n* Use the `Create Table` button to create the *Localizations* table\r\n* Use `Import or Export Resx` button to import resources from the project into the db\r\n* Select `Import Resources`\tfrom the dropdown\r\n* Use the path of `~/Properties/` for Resx Import Folder\r\n* Click on the Import Resources button\r\n* You should now have all the sample and LocalizationForm resources in the db\r\n\r\n\r\n## Installation and Configuration\r\nThe easiest way to use this library in your own applications is to install the NuGet package into an ASP.NET application.\r\n\r\n<a name="installation-netcore"></a>\r\n### ASP.NET Core Packages\r\n```\r\npm> Install-Package Westwind.Globalization.AspNetCore\r\n```\r\n\r\n> #### @icon-info-circle Download the Localization Admin UI Files\r\n> Nuget no longer allows distribution of static content, so in order to use the Localization Admin UI you also need to download the resources for the Localization Admin UI if you want to integrate the Localization interface into your application.\r\n> \r\n> * [Localization Admin Html Assets](https://github.com/RickStrahl/Westwind.Globalization/blob/master/DownloadableAssets/LocalizationAdministrationHtml_AspNetCore.zip?raw=true)\r\n> * [Documentation for installing Localization Admin Files](DownloadableAssets/Readme.md) \r\n>\r\n> Once you\'ve downloaded the Localization Admin UI zip file, unzip the entire content into the project\'s root folder.\r\n\r\n\r\nFor non-Web applications or if you use only the DbRes based localization features, you can just install the base package.\r\n\r\n```\r\npm> Install-Package Westwind.Globalization\r\n```\r\nASP.NET Core integration works in combination with ASP.NET Core new Localization features. Westwind.Globalization builds on top of this, or you can just use its native features. West Wind Globalization supports:\r\n\r\n* `IStringLocalizer` DI via custom `IDbResourceStringLocalizer`\r\n* `appSettings.json` configuration (optional)\r\n\r\n### ASP.NET Core Configuration\r\nConfiguration can be accomplished in 3 ways:\r\n\r\n1. Using a standalone `dbResourceConfiguration.json` file\r\n2. Using `appsettings.json` in a `DbResourceProvider` object\r\n3. Additional ASP.NET Core `IConfiguration` functionality configured\r\n(ie. Environment variables, user secrets)\r\n4. Explicit configuration via `AddWestwindGlobalization(opt => return true)`\r\n\r\nConfiguration values are applied in the order listed, with later assignments over-writing earlier settings.\r\n\r\n#### DbResourceConfiguration\r\nYou can create a standalone `DbResourceConfiguration.json` file for configuration that works both in full framework and .NET Core:\r\n```json\r\n{\r\n  "ResourceAccessMode": "DbResourceManager",\r\n  "ConnectionString": "server=.;database=localizations;integrated security=true;",\r\n  "DataProvider": "SqlServer",\r\n  "ResourceTableName": "Localizations",\r\n  "ResxExportProjectType": "Project",\r\n  "ResxBaseFolder": "~/Properties/",\r\n  "StronglyTypedGlobalResource": "~/Properties/Resources.cs",\r\n  "ResourceBaseNamespace": "AppResources",\r\n  "AddMissingResources": true,\r\n  "LocalizationFormWebPath": "~/LocalizationAdmin/",\r\n  "GoogleApiKey": "XXXfaSyDcvmGhGN7FlynP9QUZOLF8_4K8iF9ChWo",\r\n  "BingClientId": "12345-4b99-47ed-be7e-caf733526020"\r\n}\r\n```\r\nIf this file exists configuration values are read from it.\r\n\r\n> #### @icon-warning Copy to Output Directory\r\n> If you want to use `DbResourceConfiguration.json` for configuration storage make sure you set the **Copy to Output Directory** option to **Copy if newer** or **Copy always** to ensure the file is copied into the published output folder.\r\n>\r\n> ![](images/DbResourceConfigurationJsonCopy.png)\r\n\r\n#### ASP.NET Core IConfiguration\r\nFor ASP.NET Core operation Westwind.Globalization also registers the `DbResourceConfiguration` instance as `IOptions<DbResourceConfiguration>` which gives strongly typed access to the configuration via depedency injection. \r\n\r\nThis means you can use any configured configuration providers - most commonly:\r\n\r\n* appsettings.json using a `DbResourceConfiguration` object\r\n* Environment variables\r\n* User Secrets store\r\n\r\nYou can store configuration settings in `appsettings.json` like this:\r\n\r\n```json\r\n{\r\n  "Logging": {...},\r\n  "DbResourceConfiguration": {\r\n    "ResourceAccessMode": "DbResourceManager",\r\n    "ConnectionString": "server=.;database=localizations;integrated security=true;",\r\n    "DataProvider": "SqlServer",\r\n    "ResourceTableName": "Localizations",\r\n    "StronglyTypedGlobalResource": "~/Properties/Resources.cs",\r\n    "ResourceBaseNamespace": "AppResources",\r\n    "ResxExportProjectType": "Project",\r\n    "ResxBaseFolder": "~/Properties/",\r\n    "AddMissingResources": true,\r\n    "LocalizationFormWebPath": "~/LocalizationAdmin/",\r\n    "BingClientId": "12345-4b99-47ed-be7e-caf733526020",\r\n    "GoogleApiKey": "XXXfaSyDcvmGhGN7FlynP9QUZOLF8_4K8iF9ChWo"\r\n  }\r\n}\r\n```\r\nIf provided the `appsettings.json` file overrides `DbResourceConfiguration.json`. \r\n\r\nWe recommend you only use one of the files to avoid confusion. For ASP.NET Core projects we recommend you store settings in `appsettings.json` since that gives you dependency injection for `IOptions<DbResourceConfiguration>` as well as putting configuration settings into a well-known location.\r\n\r\n### Enabling West Wind Globalization in ASP.NET Core\r\nYou also need to explicitly enable localization features in ASP.NET Core using the following code in the `Startup.cs` file\'s `ConfigureServices()` method:\r\n\r\n```cs\r\npublic void ConfigureServices(IServiceCollection services)\r\n{\r\n    // Standard ASP.NET Localization features are recommended\r\n    // Make sure this is done FIRST!\r\n    services.AddLocalization(options =>\r\n    {\r\n        // I prefer Properties over the default `Resources` folder\r\n        // due to namespace issues if you have a Resources type as\r\n        // most people do for shared resources.\r\n        options.ResourcesPath = "Properties";\r\n    });\r\n    \r\n\r\n    // Replace StringLocalizers with Db Resource Implementation\r\n    services.AddSingleton(typeof(IStringLocalizerFactory), \r\n                          typeof(DbResStringLocalizerFactory));\r\n    services.AddSingleton(typeof(IHtmlLocalizerFactory),\r\n                          typeof(DbResHtmlLocalizerFactory));\r\n                          \r\n    \r\n    // Required: Enable Westwind.Globalization (opt parm is optional)\r\n    // shown here with optional manual configuration code\r\n    services.AddWestwindGlobalization(opt =>\r\n    {                \r\n        // the default settings comme from DbResourceConfiguration.json if exists\r\n        // you can override the settings here, the config you create is added\r\n        // to the DI system (DbResourceConfiguration)\r\n\r\n        // Resource Mode - from Database (or Resx for serving from Resources)\r\n        opt.ResourceAccessMode = ResourceAccessMode.DbResourceManager;  // .Resx\r\n        \r\n        // Make sure the database you connect to exists\r\n        opt.ConnectionString = "server=.;database=localizations;uid=localizations;pwd=local";\r\n        \r\n        // Database provider used - Sql Server is the default\r\n        opt.DataProvider = DbResourceProviderTypes.SqlServer;\r\n\r\n        // The table in which resources are stored\r\n        opt.ResourceTableName = "localizations";\r\n        \r\n        opt.AddMissingResources = false;\r\n        opt.ResxBaseFolder = "~/Properties/";\r\n\r\n        // Set up security for Localization Administration form\r\n        opt.ConfigureAuthorizeLocalizationAdministration(actionContext =>\r\n        {\r\n            // return true or false whether this request is authorized\r\n            return true;   //actionContext.HttpContext.User.Identity.IsAuthenticated;\r\n        });\r\n\r\n    });\r\n\r\n    ...\r\n    \r\n    services.AddMvc();\r\n}\r\n```\r\n\r\nAny code changes made override any of the file values. You can also replace the entire `DbResourceConfiguration` object entirely in this handler.\r\n\r\nIn addition you probably will want to add standard ASP.NET Core Localization features to the `Configure()` method in `Startup.cs`:\r\n\r\n```cs\r\npublic void Configure(IApplicationBuilder app) \r\n{\r\n    ..\r\n  \r\n    var supportedCultures = new[]\r\n    {\r\n        new CultureInfo("en-US"),\r\n        new CultureInfo("en"),\r\n        new CultureInfo("de-DE"),\r\n        new CultureInfo("de"),\r\n        new CultureInfo("fr")\r\n    };\r\n    app.UseRequestLocalization(new RequestLocalizationOptions\r\n    {\r\n        DefaultRequestCulture = new RequestCulture("en-US"),\r\n        SupportedCultures = supportedCultures,\r\n        SupportedUICultures = supportedCultures                 \r\n    });\r\n}\r\n```         \r\n#### Dependency Injection for DbResourceConfiguration\r\nYou can get access to DbResourceConfiguration in a number of ways:\r\n\r\n* Via DI by asking for `DbResourceConfiguration`\r\n* Via DI by asking for `IOptions<DbResourceConfig>` (if loaded through IConfiguration)\r\n* Static `DbResourceConfiguration.Current` \r\n\r\n#### Dependency Injection for IDbResStringLocalizer\r\nOne of the base features of ASP.NET Core\'s Localization is `IStringLocalizer` which provides the provides an interface to map type signatures to instances of Resx resources. `DbResStringLocalizer` uses the `DbResourceManager` (which supports switchable Db or Resx resource access).\r\n\r\nTo use the DbRes localizer, override the default `IStringLocalizer` with:\r\n\r\n```cs\r\nservices.AddSingleton(typeof(IStringLocalizerFactory), typeof(DbResStringLocalizerFactory));\r\n```  \r\n\r\n> #### Use of IStringLocalizer is optional. \r\n> You can use `DbRes.T()` or strongly typed resources directly if you prefer. However, for `DataAnnotation` localization `IStringLocalizer` is required in ASP.NET Core (shrug), so generally you\'ll want to add `DbResStringLocalizer` in `ConfigureServices()`.\r\n\r\n<a name="installation-fullframework"></a>\r\n### Full Framework Configuration\r\n```txt\r\npm> Install-Package Westwind.Globalization.Web\r\n```\r\n\r\nIf you\'re not using a Web Project, or an MVC/Web API project that doesn\'t use the Web Resource Editor you can use the core package:\r\n\r\n```txt\r\npm> Install-Package Westwind.Globalization\r\n```\r\nwhich doesn\'t install the web related components and HTML resources. \r\n\r\nThe .Web version installs the required assemblies, adds a few configuration entries in web.config and enables the resource provider by default. The Starter package adds sample resources and a couple of test pages. I recommend you use the .Starter package so you can ensure the provider is working and serving resources - once up and running you can remove the starter package, leaving the dependent assemblies in place.\r\n\r\n\r\n### Full Framework Configuration\r\nASP.NET Classic uses the web.config Configuration file for configuration\r\n\r\n```xml\r\n<configuration>\r\n  <configSections>\r\n    <section name="DbResourceConfiguration" requirePermission="false" \r\n\t\t\t type="System.Configuration.NameValueSectionHandler,System,Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />\r\n  </configSections>  \r\n\r\n  <DbResourceConfiguration>\r\n    <add key="ConnectionString" value="server=.;database=Localizations;integrated security=true;" />\r\n    <add key="ResourceTableName" value="Localizations" />\r\n    <add key="AddMissingResources" value="False" />\r\n\r\n    <!-- Resource Imports and Exports -->\r\n    <add key="ResxExportProjectType" value="Project" />\r\n    <add key="StronglyTypedGlobalResource" value="~/Properties/Resources.cs" />\r\n    <add key="ResourceBaseNamespace" value="WebApplication1.Properties" />    \r\n    <add key="ResxBaseFolder" value="~/Properties" />\r\n\r\n    <!-- WebForms specific only -->\r\n    <add key="LocalizationFormWebPath" value="~/LocalizationAdmin/" />\r\n    <add key="DesignTimeVirtualPath" value="" />\r\n    <add key="ShowLocalizationControlOptions" value="False" />\r\n    <add key="ShowControlIcons" value="False" />\r\n\r\n    <!-- Google Translate API -->\r\n    <add key="GoogleApiKey" value="" />\r\n\r\n    <!-- Bing Translation -->\r\n    <add key="BingClientId" value="" />\r\n  </DbResourceConfiguration>\r\n\r\n  <!-- Enable ASP.NET Resource Provider  -->\r\n  <system.web>\r\n    <globalization resourceProviderFactoryType=\r\n     "Westwind.Globalization.DbSimpleResourceProviderFactory,Westwind.Globalization.Web" />\r\n  </system.web>\r\n</configuration>\r\n```\r\n#### Overriding Configuration Settings (Full Framework)\r\nTo override configuration settings that are set in `web.config` you can access the DbResourceConfiguration.Current instance that\'s used to configure the application. \r\n\r\n```cs\r\nprotected void Application_Start()\r\n{                       \r\n    FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);\r\n    RouteConfig.RegisterRoutes(RouteTable.Routes);\r\n\r\n    // Specify where config information comes from (config file is default - can be separate Json/Xml)\r\n    //DbResourceConfiguration.ConfigurationMode = ConfigurationModes.ConfigFile;\r\n    \r\n    var config = DbResourceConfiguration.Current;\r\n    \r\n    config.ConnectionString = "SqlServerLocalizations";\r\n    config.DbResourceDataManagerType = typeof(DbResourceSqlServerDataManager);\r\n\r\n    //DbResourceConfiguration.Current.ConnectionString = "MySqlLocalizations";\r\n    //DbResourceConfiguration.Current.DbResourceDataManagerType = typeof(DbResourceMySqlDataManager);\r\n\r\n    // force ResourceMode explicitly. Default is AspNetResourceProvider\r\n    GeneratedResourceSettings.ResourceAccessMode = ResourceAccessMode.DbResourceManager;\r\n    //GeneratedResourceSettings.ResourceAccessMode = ResourceAccessMode.Resx;\r\n\r\n    // *** Remove or Add custom resource converters\r\n    // *** By default the MarkdownResourceConverter is provided\r\n    //DbResourceConfiguration.Current.ResourceSetValueConverters.Clear();\r\n    //DbResourceConfiguration.Current.ResourceSetValueConverters.Add(new MarkdownResourceSetValueConverter());\r\n}\r\n```\r\n\r\nSettings made here occur before any requests are made to the providers, so `Application_Start` is a good way to initialize settings, including selecting a provider. Any of the Configuration values can be set here, or anywhere else by using the static `DbResourceConfiguration.Current` instance.\r\n\r\n#### Setting ASP.NET Locale based on Browser Locale (Full Framework)\r\nIn order to do automatic localization based on a browser\'s language used you can sniff the browser\'s default language and set the UiCulture in the Begin_Request handler of your ASP.NET application class. A helper method to provide this functionality automatically is provided.\r\n\r\n```C#\r\nprotected void Application_BeginRequest()\r\n{\r\n    // Automatically set the user\'s locale to what the browser returns\r\n    // and optionally only allow certain locales/locale-prefixes\r\n    WebUtils.SetUserLocale(allowLocales: "en,de");\r\n}\r\n```\r\n\r\nThis forces the user\'s Culture and UI Culture to whatever the browser is using,\r\nand explicitly. Now when a page is rendered it will use the UiCulture of the browser.\r\nThe optional allowLocales enforces that only certain locales can be set - anything\r\nnot matched is defaulted to the server\'s default locale.\r\n\r\nThe way .NET resource managers work, if there\'s no match for the locale the user\r\nprovides, resources fall back to the closest matching locale or the invariant locale.\r\nSo if the user comes in with it-IT but you don\'t support it or it-IT in your resources\r\nthe user will see resources for invariant. Likewise if a user comes in with \r\nde-CH (Swiss german) and you de (without a locale specific suffix) the de German\r\nversion will be returned. Resource Fallback tries to ensure that always something\r\nis returned.\r\n\r\n### Configuration Settings (.NET Core and Full Framework)\r\n\r\n**ConnectionString and ResourceTableName**   \r\nThe two most important keys are the connectionString and resourceTableName which point at your database and a table that holds resources. On full framework you can use either a raw connection string or a Connection String Name defined in `<ConnectionStrings>` of your `web.config` file.\r\n\r\n**AddMissingResources**  \r\nWhen set to true causes any resource lookup that fails to produce matching resource ID to write the invariant resource into the database. Use with caution - as this might slow down your application significantly as you now write to the database on any missing resources. Use only during development and testing to get resources into the system for easier debugging later.\r\n\r\n**ResxExportProjectType**  \r\nThis option determines how the Resx export feature works. The two options are `Project` or `WebForms`. Project exports all resource files into \\Properties folder underneath the resxBasePath and excludes any resource sets that include a . in their name (assumed to be ASP.NET resources). WebForms writes out resources into folder specific App_LocalResources and App_GlobalResources folders based on the root folder\r\n\r\n**ResxBaseFolder**  \r\nThe base folder that\'s used for all Resx Import and Export operations. The default is ~/ which is the root web folder, but you can specify a full OS path here. Note that this allows you to read/write resources in other non-web projects - as long as your Web application has writes to the folder specified.\r\n\r\n**StronglyTypeGlobalResource and ResourceBaseNamespace**\r\nIf you do a strongly typed class export from the admin manager all resources will be created in a single file in the this file using the ResourceBaseNameSpace as the namespace in the generated class.\r\n\r\n#### Run the Web Resource Editor\r\nIn order to use database resources you\'ll actually have to create some resources in a database. Make sure you\'ve first added a valid connection string in the config file in the last step! Then open the `/LocalizationAdmin/index.html` in your browser and click on the *Create Table* button in the toolbar.\r\n\r\nOnce the table\'s been created you can now start creating resources interactively, by directly\r\nadding values to the database table, or by using the DbResourceDataManager API to manipulate the\r\ndata programmatically.\r\n\r\nBy default a `Resources` ResourceSet has been provided for you the resources of which are used in the test page. You can remove those resources or the resource set as needed once you know the provider works. ResourceSets are logical groups of resources that belong together - I like to use one ResourceSet per form or per application feature depending on how much content is involved. But you can also use a single ResourceSet for your entire application if you want. Whatever works for you to make it easy to find resources.\r\n\r\n#### Import Existing Resources\r\nI also recommend that you first perform an *Import Resx* step to pull any existing Resx resources from the `~/Properties/` folder (or whereever) into your project. This will also import the Localization form\'s resources into your database so that the localization form properly localizes when running with the DbResource Provider.\r\n\r\n<a name="resource-usage"></a>\r\n## Using Resources in your Application\r\nThere are a number of different ways to access resources from this provider.\r\n\r\n* Direct access with DbRes \r\n* ASP.NET Resource provider\r\n* .NET Resource Manager\r\n* Strongly Typed Resources\r\n\r\n### DbRes Helper Class\r\nThe `DbRes` and `DbResInstance` Helper class are wrappers around the `DbResourceManager` and `DbResouceDataManager` object. The DbRes class contains a handful of common use methods that are used to retrieve and manipulate resources by name and resource set.\r\n\r\nIn an ASP.NET Web MVC (or WebPages) application you can use:\r\n\r\n```C#\r\n// Using current UiCulture - empty resource set uses default (Resources)\r\nDbRes.T("HelloWorld")\r\n\r\n// Exact match with resource - Hallo Welt\r\nDbRes.T("HelloWorld","Resources","de")\r\n\r\n// Resource Fallback to de if de-CH doesn\'t exist - Hallo Welt\r\nDbRes.T("HelloWorld","Resources","de-CH")\r\n```\r\n\r\nThis is an easy mechanism that\'s tied closely to the database\r\nresources created and can be applied with minimal fuss in any\r\nkind of .NET application.\r\n\r\n### ASP.NET MVC or ASP.NET WebPages\r\n```HTML\r\nSay Hello: @DbRes.T("HelloWorld") at @DateTime.Now\r\n```\r\n\r\n### ASP.NET WebForms\r\n```HTML\r\nSay Hello: <%: DbRes.T("HelloWorld") %> at <%= DateTime.Now %>\r\n```\r\n\r\n### In .NET code\r\n```HTML\r\nstring value = DbRes.T("HelloWorld");\r\n```\r\n\r\nThe `DbRes.T()` method returns the ResourceId passed in if a resource is missing in the ResourceSet which can be useful for providing \'default\' text. Some people like to use full resource strings as their resource Ids so default values are always available even if a resource is missing or the provider is not available. \r\n\r\n## Using the ASP.NET Resource Provider  (Full Framework, WebForms)\r\nIf you\'re using an existing WebForms application or you want to\r\nuse the ASP.NET based Resource Provider model for accessing resources\r\nyou can use the DbSimpleResourceProvider. This implementation is an\r\nASP.NET Resource Provider implementation that directly accesses the\r\nDbResourceDataManager to retrieve resources. A second Resource Provider\r\nimplementation that uses the DbResourceProvider uses the DbResourceManager\r\nto indirectly access resources. Typically the DbSimpleResourceProvider is\r\nthe more efficient interface.\r\n\r\nTo use this provider you have to enable it in web.config. To do so:\r\n\r\n```XML\r\n<configuration>  \r\n  <system.web>\r\n       <globalization resourceProviderFactoryType="Westwind.Globalization.DbSimpleResourceProviderFactory,Westwind.Globalization.Web" />    \r\n       <!--<globalization resourceProviderFactoryType="Westwind.Globalization.DbResourceProviderFactory,Westwind.Globalization" />-->    \r\n  </system.web>\r\n</configuration>\r\n```\r\n\r\nOnce enabled you can use all the standard ASP.NET Resource Provider\r\nfeatures:\r\n\r\n* GetGlobalResourceObject, GetLocalResourceObject on Page and HttpContext\r\n* Using meta:resourcekey attributes on Web Controls\r\n\r\n### Page.GetGlobalResourceObject() or HttpContext.GetGlobalResourceObject() \r\n```HTML\r\n<legend>ASP.NET ResourceProvider</legend>\r\n<label>Get GlobalResource Object (default locale):</label>\r\n<%: Page.GetGlobalResourceObject("Resources","HelloWorld") %>\r\n```\r\n\r\n### Page.GetLocalResourceObject()\r\n```HTML\r\n<label>GetLocalResourceObject via Expression:</label>                 \r\n<%: GetLocalResourceObject("lblHelloWorldLabel.Text") %>\r\n```\r\n\r\n### WebForms Control meta:resourcekey attribute\r\n```HTML\r\n<label>Meta Tag (key lblHelloWorldLabel.Text):</label>\r\n<asp:Label ID="lblHelloLabel" runat="server" meta:resourcekey="lblHelloWorldLabel"></asp:Label>\r\n```\r\n\r\n### WebForms Resource Expressions\r\n```HTML\r\n<label>Resource Expressions (Global Resources):</label>\r\n<asp:Label ID="Label1" runat="server" Text="<%$ Resources:Resources,HelloWorld %>"></asp:Label>\r\n```\r\n\r\n\r\n## Strongly typed Resources\r\nThe Web Resource Editor form allows you to create strongly typed resources\r\nfor any global resources in your application. Basically it\'ll go through all the \r\nnon-local resources in your file and create strongly type .NET classes in a file that\r\nis specified in the DbResourceProvider configuration settings.\r\n\r\n```\r\n<add key="StronglyTypedGlobalResource" value="~/Properties/Resources.cs" />\r\n<add key="ResourceBaseNamespace" value="WebApplication1.Properties" />\r\n```\r\nYou specify the namespace and filename to generate it to. Once you\'ve generated the strongly typed resource file with the embedded resource class(es), you need to recompile your application to make the resource properties available to it.\r\n \r\nThe generated resources can use either the ASP.NET resource provider (which uses\r\nwhatever provider is configured - Resx or DbResourceProvider) or the \r\nDbResourceManager which only uses the DbResourceManager. Using the latter allows\r\nyou to also generate resources for use in non-Web applications.\r\n\r\nHere\'s what generated resources look like:\r\n```C#\r\nnamespace WebApplication1.Properties\r\n{\r\n    public class GeneratedResourceSettings\r\n    {\r\n        // You can change the ResourceAccess Mode globally in Application_Start  \r\n        // AspNetResourceProvider, Project (MVC, Windows), Resx      \r\n        public static ResourceAccessMode ResourceAccessMode = ResourceAccessMode.AspNetResourceProvider;\r\n    }\r\n\r\n\tpublic class Commonwords\r\n\t{\r\n\t\tpublic static System.String Ready\r\n\t\t{\r\n\t\t\tget\r\n\t\t\t{\r\n\t\t\t\tif (GeneratedResourceSettings.ResourceAccessMode == ResourceAccessMode.AspNetResourceProvider)\r\n\t\t\t\t\treturn (System.String) HttpContext.GetGlobalResourceObject("Commonwords","Ready");\r\n\t\t\t\treturn DbRes.T("Ready","Commonwords");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static System.String ThisIsALongLineOfText\r\n\t\t{\r\n\t\t\tget\r\n\t\t\t{\r\n\t\t\t\tif (GeneratedResourceSettings.ResourceAccessMode == ResourceAccessMode.AspNetResourceProvider)\r\n\t\t\t\t\treturn (System.String) HttpContext.GetGlobalResourceObject("Commonwords","This is a long line of text");\r\n\t\t\t\treturn DbRes.T("This is a long line of text","Commonwords");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThese can then be used in any ASP.NET application:\r\n\r\n##### ASP.NET MVC or WebPages\r\n```HTML\r\n<div class="statusbar">@CommonWords.Ready</div>\r\n```\r\n\r\n##### ASP.NET WebForms\r\n```HTML\r\n<div class="statusbar"><%: WebApplication1.CommonWords.Ready %></div>\r\n```\r\n#### .NET Code\r\n```C#\r\nstring ready = CommonWords.Ready;\r\n```\r\n\r\nNote that strongly typed resources must be re-generated whenever you add new\r\nresources, so this is an ongoing process. As with the Resx Generator if\r\nyou remove or rename a resource you may break your code. \r\n\r\nStrongly typed resources are generated into a single file for all the resource sets exported in order to not clutter up your application with unnecessary generated files.  \r\n\r\n## ASP.NET MVC ModelValidation (Full Framework)\r\nASP.NET and Entity Framework support model validation and you can also use the database provider to localize these validation messages. To do so **you have to generate strongly typed resources**, or export to Resx and then enable strong resource typing. ASP.NET/EntityFramework Model validation works based on class property access so in order to use it a type has to exist.\r\n\r\nTo do this:\r\n\r\n* Open the Localization Administration form \r\n* Use *Export Class* to export create a class\r\n* Or: Use *Export to Resx* to export Resx files (in Project mode)<br/>\r\nthen make sure to enable the strong type generation on the Resx and choose *Public class*\r\n\r\nOnce you\'ve done this you can create your validation classes like you always would:\r\n\r\n```c#\r\npublic class ViewModelWithLocalizedAttributes\r\n{\r\n    [Required(ErrorMessageResourceName = "NameIsRequired", ErrorMessageResourceType = typeof(Resources))]\r\n    public string Name { get; set;  }\r\n\r\n    [Required(ErrorMessageResourceName = "AddressIsRequired", ErrorMessageResourceType = typeof(Resources))]\r\n    public string Address { get; set;  }\r\n}\r\n```\r\n\r\nThe type will be your exported class or generated Resx class and the name is the name of the property on the generated object. DataAnnotations use Reflection to lookup the property name, so if for some reason the validation does not work check the following:\r\n\r\n* Make sure the property name is typed correctly and matches a property name.\r\n* Try writing out the actual property using @Resources.AddressIsRequired to ensure the value is valid (on a simple test page perferrably). \r\n\r\n\r\n## Model Validation ASP.NET Core Mvc\r\nASP.NET MVC uses a completely different model for Model validation based on `IStringLocalizer`. In this initial .NET Core release we don\'t have support for this yet, but we\'re working on it. It\'s coming in an update soon.\r\n\r\n\r\n## Switching Database Providers\r\nBy default the resource providers and manager use **SQL Server** to hold the database resources. If you don\'t do any custom configuration in code to specify the `DbResourceConfiguration.DbResourceDataManagerType` you\'ll get the Sql Server provider/manager. \r\n\r\nThe following providers are supported:\r\n\r\n* Sql Server (2008-2016, Sql Azure)\r\n* MySql\r\n* SqLite\r\n* Sql Server Compact (no .NET Core support)\r\n\r\nTo use a specific provider, assign the `DbResourceConfiguration.DbResourceDataManagerType` to the appropriate engine you want to use during startup configuration.\r\n\r\n* typeof(DbResourceSqlServerDataManager)\r\n* typeof(DbResourceMySqlDataManager)\r\n* typeof(DbResourceSqLiteDataManager)\r\n* typeof(DbResourceSqlCompactDataManager)\r\n\r\nIn .NET Core you set the value in the `AddDbResourceLocalization(opt)` configuration:\r\n\r\n```cs\r\nservices.AddWestwindGlobalization(opt =>\r\n    ...\r\n    opt.DbResourceDataManagerType = typeof(DbResourceMySqlDataManager);\r\n    opt.ConnectionString = "server=localhost;uid=testuser;pwd=super10seekrit;" + \r\n                           "database=Localizations;charset=utf8"\r\n```\r\n\r\nFor full framework you can set the value in the `Application_Start` handler and set the singleton configuration value:\r\n\r\n```cs\r\nDbResourceConfiguration.Current.DbResourceDataManagerType =\r\n                  typeof(DbResourceSqLiteDataManager);\r\nDbResourceConfiguration.Current.ConnectionString = \r\n    "server=localhost;database=Localizations;" +\r\n    "uid=testuser;pwd=super10seekrit;charset=utf8" \r\n```                  \r\n\r\nNote that the connection string can be set in configuration files (`app/web.config` in full framework, `DbResourceConfiguration.json` or `appsettings.json` in .NET Core), but the provider configuration has to be set in code.\r\n\r\nHere\'s a little more info on how to specify each provider and the dependencies that are required.\r\n\r\n### Sql Server\r\n*no additional package needed*\r\n\r\n.NET Core:\r\n```\r\nopt.ConnectionString = "server=.;database=localizations;integrated security=true";\r\n// not required since it\'s the default\r\nopt.DbResourceManagerType = typeof(DbResourceSqlServerManager);\r\n```\r\n\r\nweb.config file connection String Example:\r\n\r\n```xml\r\n<add name="SqlServerLocalizations"\r\n    connectionString="server=.;database=localizations;integrated security=true;"\r\n    providerName="System.Data.SqlClient" />\r\n```\r\n\r\n### MySql\r\n\r\n*add NuGet Package: **MySql.Data***\r\n\r\nCode Configuration:\r\n```c#\r\nopt.ConnectionString = "server=localhost;uid=testuser;pwd=super10seekrit;database=Localizations;charset=utf8";\r\nopt.DbResourceDataManagerType = typeof(DbResourceMySqlDataManager);                \r\n```\r\n\r\nweb.config file connection String Example:\r\n\r\n```xml\r\n<add name="MySqlLocalizations"\r\n    connectionString="server=localhost;uid=testuser;pwd=super10seekrit;database=Localizations;charset=utf8" \r\n    providerName="MySql.Data.MySqlClient" />\r\n```\r\n\r\n### SqLite\r\n*.NET Core add Nuget Package:* **Microsoft.Data.SqLite**\r\n\r\n*Full Framework add NuGet Package:* **System.Data.SQLite**\r\n\r\nCode Configuration:\r\n```c#\r\nopt.ConnectionString = "Data Source=./data/SqLiteLocalizations.db";\r\nopt.DbResourceDataManagerType = typeof(DbResourceSqLiteDataManager);\r\n```  \r\n\r\n> Make sure to use a valid path where the database file can be found and used.\r\n\r\nweb.config file connection String Example:\r\n```xml\r\n<add name="SqLiteLocalizations"\r\n    connectionString="Data Source=|DataDirectory|\\SqLiteLocalizations.db"\r\n    providerName="System.Data.SQLite" />\r\n```\r\n\r\n### Sql Server Compact\r\n*add NuGet Package: **Microsoft.SqlServer.Compact***\r\n\r\n**not supported on .NET Core**\r\n\r\n```c#\r\nDbResourceConfiguration.Current.DbResourceDataManagerType = typeof(DbResourceSqlServerCeDataManager);\r\n```\r\nweb.config connection string example:\r\n\r\n```xml\r\n<add name="SqlServerCeLocalizations" \r\n     connectionString="Data Source=|DataDirectory|\\Localizations.sdf;Persist Security Info=False;" \r\n     providerName="System.Data.SqlServerCe.4.0" />\r\n```\r\n\r\n### Global Data Manager Configuration\r\nThis code configures the data manager globally so every time a data access operation occurs it instantiates the data manager configured here. It\'s important that you add the appropriate assembly first, otherwise these provider types will not be available and your code won\'t compile.\r\n\r\n\r\n## JavaScript Resource Handler\r\nIf you\'re building applications that include JavaScript logic it\'s likely that you also need to access localized resources on the client. This library provides a JavaScript Resource Handler that can serve resources in the proper localized locale to your client application.\r\n\r\nThe resource handler allows you to specify which resources to serve and which locale - or auto-detected locale - to serve the data to your JavaScript client application.\r\n\r\nThe handler produces a JavaScript object map that is exposed as a global variable with properties for each of the resource keys:\r\n\r\n```javascript\r\nresources = {\r\n\t"HelloWorld": "Hallo schn\\u00F6de Welt",\r\n\t"Ready": "Los",\r\n\t"Today": "Heute",\r\n\t"Yesterday": "Gestern",\r\n    "dbRes": function dbRes(resId) { return resources[resId] || resId; }    \r\n};\r\n```\r\n\r\nResource values are normalized, meaning if a localized doesn\'t exist, resource fallback is used to fill the value. A `dbRes()` function is added to the object to allow returning the resource ID if a value can\'t be matched or if the resources for some reason fail to load.\r\n\r\nResources can be accessed in client code:\r\n\r\n```html\r\n<script>\r\n    var hello = resources.HelloWorld;\r\n    var hello2 = resources.dbRes("HelloWorld");\r\n</script>\r\n```\r\n\r\nThe latter will always return **some** value (HelloWorld) even if there\'s no matching property value to return.\r\n\r\n### Configuration and Usage (ASP.NET Core)\r\nFor ASP.NET Core the JavaScript resource handling does not have to be configured - it\'s always available as long as ASP.NET MVC is active and running on the Web site. The handler is hooked in via custom routing that lives at a fixed URL.\r\n\r\nTo add client side script to the `api/JavaScriptLocalizationResources` endpoint (all in one line):\r\n\r\n```html\r\n<script src="/api/JavaScriptLocalizationResources?  \r\n                ResourceSet=LocalizationForm&\r\n                VarName=resources&\r\n                localeId=auto&\r\n                ResourceMode=ResDb"></script>\r\n```\r\n\r\nThe following parameters are passed:\r\n\r\n* **resourceSet** - The ResourceSet name to serve resources to serve.\r\n* **varName** - The name of the global variable to declare the map on. This can also be a property value of an existing object like `page.resources` to avoid cluttering up global scope.\r\n* **localeId** - Optional locale id like `de-DE` or `de`. If not passed the value is `auto` which reads the value from the users `accept-language` header.\r\n* **resourceMode** - Either `ResDb` or `Resx` which determines whether resources are served from the database or resx. If not passed or `auto` the DbResourceConfig setting is used.\r\n\r\n\r\n#### Configuration (.NET Framework)\r\nTo configure the Resource Handler for classic ASP.NET it has to be registered in web.config as follows:\r\n\r\n```xml\r\n<configuration>\r\n<system.webServer>\r\n<handlers>\r\n    <add name="JavaScriptResourceHandler"\r\n        verb="GET"\r\n        path="JavascriptResourceHandler.axd"\r\n        type="Westwind.Globalization.JavaScriptResourceHandler,Westwind.Globalization.Web" />\r\n</handlers>\r\n</system.webServer>\r\n</configuration>\r\n```\r\n\r\nNote this entry is automatically made for you when you install the NuGet package.\r\n\r\n#### Usage\r\nThe resource handler is then accessed as a script resource in your code by calling the\r\nstatic JavaScriptResourceHandler.GetJavaScriptResourcesUrl() method:\r\n\r\n```html\r\n<script src="@JavaScriptResourceHandler.GetJavaScriptResourcesUrl("resources","Resources")"></script>\r\n<script>\r\n    document.querySelector("#JavaScriptHelloWorld").innerText = resources.HelloWorld;\r\n    document.querySelector("#JavaScriptYesterday").innerText = resources.dbRes("Yesterday");\r\n</script>\r\n```\r\n\r\n\r\nor if you\'re using a plain HTML page (all one line):\r\n\r\n```html\r\n<script src="JavaScriptResourceHandler.axd?ResourceSet=Resources&\r\n                            LocaleId=auto&\r\n                            VarName=resources&\r\n                            ResourceType=resdb"></script>\r\n<script>\r\n    document.querySelector("#JavaScriptHelloWorld").innerText = resources.HelloWorld;\r\n</script>\r\n```\r\n\r\nEither of the above generate the following script code (shown here localized in German):\r\n\r\n```javascript\r\nresources = {\r\n\t"HelloWorld": "Hallo schn\\u00F6de Welt",\r\n\t"Ready": "Los",\r\n\t"Today": "Heute",\r\n\t"Yesterday": "Gestern",\r\n    "dbRes": function dbRes(resId) { return resources[resId] || resId; }    \r\n};\r\n```\r\n\r\n### Handler Url Formatting\r\nA full JavaScript resource handler URL looks like this:\r\n\r\n```\r\nJavaScriptResourceHandler.axd?ResourceSet=Resources&LocaleId=auto&VarName=resources&ResourceType=resdb&ResourceMode=1\r\n```\r\n\r\nThe QueryString parameters on the URL are used as follows:\r\n\r\n##### ResourceSet\r\nThe ResourceSet name as defined in the database or the name of the ResX file relative to the ResxBaseFolder defined in the configuration.\r\n\r\n##### LocaleId\r\nThis can be either a specific localeId like `de`, or `de-de`. Or it can be `auto` in which ASP.NET will use its default locale, which you can override to match the browser\'s locale as described in [Auto-detecting browser locale](Auto-Detecting-and-Setting-ASP.NET-Locale-based-on-Browser-Locale). The recommendation is to use `auto` and have IIS detect the browser locale and switch the thread UiCulture.\r\n\r\n##### ResourceType - resdb,resx\r\nYou can specify what type of resources are loaded with this Resource handler. The options are `resdb`, which uses the dbResourceProvider/Manager or `resx` which uses Resx resources. Again in order for Resx resources to work the ResxBaseFolder must be set.\r\n\r\n##### ResourceMode  0 (WebForms), 1 (Project/folder)\r\nDetermines how Resx Resources are loaded using either *project* (1) or *WebForms* (0) style resources. If *project* (0) resources are used make sure the ResxBaseFolder points to the path where your Resx resources like. If you use *WebForms* mode, resources are located using App_GlobalResources and App_LocalResources folders.\r\n\r\n\r\n## Project Sponsors\r\nThe following people/organizations have provided sponsorship to this project by way of direct donations or for paid development as part of a development project using these tools:\r\n\r\n* **Frank Lutz - Monosynth**<br/>\r\nFrank provided a sizable donation to the project and valuable feedback for a host of improvements and bug fixes.\r\n\r\n* **Craig Tucker - Alabama Software**<br/>\r\nCraig offered early support and feedback for this project and billed project time for a number of additions to the library as part of a larger project.\r\n\r\n* **Dan Martin - WeatherMaker**<br/>\r\nDan and his company provided a block of my billable hours dedicated to this project for adding support for MySql.\r\n\r\nWant to sponsor this project, need customization or make a donation? You can contact me directly at rstrahl@west-wind.com or you can also make a donation online via PayPal.\r\n\r\n* [Make a donation for Westwind.Globalization using PayPal](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=ERVCP2CMPS4QL)\r\n\r\n## License\r\nThe Westwind.Globalization library is licensed under the\r\n[MIT License](http://opensource.org/licenses/MIT) and there\'s no charge to use, \r\nintegrate or modify the code for this project. You are free to use it in personal, \r\ncommercial, government and any other type of application. \r\n\r\n[Commercial Licenses](http://west-wind.com/Westwind.Globalization/docs/?page=_2lp0u0i9b.htm) are \r\nalso available as an option. If you are using these tools in a commercial application\r\nplease consider purchasing one of our reasonably priced commercial licenses that help support this project\'s development.\r\n\r\nAll source code is copyright West Wind Technologies, regardless of changes made to them. Any source code modifications must leave the original copyright code headers intact.\r\n\r\n\r\n#### Warranty Disclaimer: No Warranty!\r\nIN NO EVENT SHALL THE AUTHOR, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR REDISTRIBUTE \r\nTHIS PROGRAM AND DOCUMENTATION, BE LIABLE FOR ANY COMMERCIAL, SPECIAL, INCIDENTAL, \r\nOR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM \r\nINCLUDING, BUT NOT LIMITED TO, LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR \r\nLOSSES SUSTAINED BY YOU OR LOSSES SUSTAINED BY THIRD PARTIES OR A FAILURE OF THE \r\nPROGRAM TO OPERATE WITH ANY OTHER PROGRAMS, EVEN IF YOU OR OTHER PARTIES HAVE \r\nBEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.'