b'Source of https://www.mathdown.net\n==================================\n\nOnline collaborative markdown with math.  Main features:\n\n- Markdown is styled in-place, no source/preview separation.\n- Edits are synced in real time.\n- Access control is simply by sharing the secret URL.  No sign up needed to collaborate.\n- LaTeX-syntax formulas rendered in-place when cursor is outside formula.\n\nPowered by [CodeMirror][], [MathJax][] and [Firebase][]\'s [Firepad][].\nI\'m using "CM" = CodeMirror, "MJ" = MathJax abbreviations a lot in the project.\n\n[CodeMirror]: https://codemirror.net\n[MathJax]: https://www.mathjax.org\n[Firebase]: https://firebase.com\n[Firepad]: http://firepad.io\n[CodeMirror-MathJax]: https://github.com/cben/CodeMirror-MathJax\n[firebase.js]: https://github.com/firebase/firebase-bower\n\n**Alpha quality \xe2\x80\x93 will eat your math, burn your bookmarks & expose your secrets.**\nI mean it.  See for example [#85](https://github.com/cben/mathdown/issues/4) \xe2\x80\x94 saving would sometimes be silently broken, for *half a year*!  I\'m working to make it more robust (and tested) but for now, be careful.\n\nIssues:\n[![mathdown HuBoard](https://img.shields.io/github/issues/cben/mathdown.svg?label=mathdown%20(HuBoard))](https://huboard.com/cben/mathdown)\n[![CodeMirror-MathJax issues](https://img.shields.io/github/issues/cben/CodeMirror-MathJax.svg?label=CodeMirror-MathJax)](https://github.com/cben/CodeMirror-MathJax/issues)\n\n## License\n\nMy code is under [MIT License](LICENSE).\nException: font/ contains a subsetted Bitstream Charter font under a permissive license - see [fonts/LICENSE](fonts/LICENSE).\n\nDependencies:\n\n  * CodeMirror is also MIT.\n  * MathJax is under Apache License 2.0.\n  * My [CodeMirror-MathJax][] glue is also MIT.\n  * The collaborative editor [Firepad] is MIT.  It calls firebase javascipt API.\n  * Firebase is a **proprietary** service; their client-side javascipt API [firebase.js][] is also [proprietary](https://www.firebase.com/terms/terms-of-service.html), though apparently fine to distribute in practice \xe2\x80\x94 ([#4](https://github.com/cben/mathdown/issues/4)).\n    [firbease.js has been [accidentally MIT-licensed for a time](https://groups.google.com/forum/#!topic/firebase-talk/pAklVV3Whw8) but I\'ve upgraded to newer versions so this doesn\'t apply.]\n\n    I\'m not including firebase.js directly but using it as a git submodule.\n\n## Document hosting and privacy(?) on Firebase\n\nAll user data is stored in Firebase, now owned by Google.  [Their privacy policy](https://www.firebase.com/terms/privacy-policy.html).\nDocuments access (read AND edit) is by secret document id which is part of the url.  This is grossly unsecure unless using HTTPS.\n\nThe downside is users can\'t really control their data.  Running a "self-hosted" copy of the site still leaves all data in the hands of Firebase.  See #4 for more discussion.\n\nThe upside is all forks interoperate; you can change the design or tweak the editor and still access same documents.  E.g. https://mathdown.net/index.html?doc=demo and http://rhythmus.be/mathdown/index.html?doc=demo look different but access the same doc -- and real-time collaboration between them works!\n\nI\'m so far on the [free Firebase plan](https://www.firebase.com/pricing.html) - 100 devices (not sure if 1:1 with users), 1GB Data Storage (used < 100MB).  => Will need 49USD/mo plan as soon as I get non-negligible usage.\nhttps://mathdown.firebaseio.com/?page=Analytics (only visible to me)\n\n### Deletion is impossible\n\nThe current Firebase security rules make document history append-only.  That\'s a nice safety feature but it means that once a document\'s URL gets out, it\'s full history is forever accessible to the the world.  This must change eventually ([#92](https://github.com/cben/mathdown/issues/92)).\n\n## Browser support\n\nBasically whatever CodeMirror supports: IE8+ and about everything else.\nBut mobile is currently almost unusable ([#81](https://github.com/cben/mathdown/issues/81)).\n\n**JavaScript is required** (and this includes running the non-Free firebase.js in your browser).\nYou can\'t even read documents without JavaScript; reading won\'t be hard to fix ([#7](https://github.com/cben/mathdown/issues/7)) \xe2\x80\x94 but editing documents without JavaScript is implausible (I plan to settle for append-only form).\n\n### Cookies\n\nThe only cookies I\'m aware of:\n\n  - `mjx.menu` cookie set for a year(?) if you manually change MathJax settings.\n\nI\'m not sure Firebase never sets cookies.  Things will change once I implement login (#50).\n\n## Installing dependencies\n\n[![Dependency Status](https://david-dm.org/cben/mathdown.svg)](https://david-dm.org/cben/mathdown)\n[![devDependency Status](https://david-dm.org/cben/mathdown/dev-status.svg)](https://david-dm.org/cben/mathdown#info=devDependencies)\n[![Greenkeeper badge](https://badges.greenkeeper.io/cben/mathdown.svg)](https://greenkeeper.io/)\n\n 1. After checking out, run this to materialize client-side dependencies:\n\n    git submodule update --init --recursive\n\n  Append ` --remote` to upgrade to newest versions of all submodules (need to commit afterwards if anything changed).  Known constraints on updating all deps:\n\n    * firepad only includes pre-built dist/firepad.js in tagged versions (after every release they strip it back).\n    * [CodeMirror-MathJax currently doesn\'t support MathJax 2.5](https://github.com/cben/CodeMirror-MathJax/issues/33).\n\n  (I\'m directly working in `gh-pages` branch without a `master` branch.  GH Pages automatically resolves https://... submodules.  It\'s no longer the primary hosting but it\'s still useful to test the static version works.)\n\n 2. To install server-side dependencies (and devDependencies) listed in `package.json` run:\n\n        npm install\n\n  (But when deploying to RHcloud or Heroku, npm install might run in `--production` mode and devDependencies won\'t be available.)\n\n  To see whether any updates are needed/possible, run `npm outdated`.  To update run:\n\n    npm update --save\n    npm shrinkwrap\n\n    Then commit the new `package.json` and `npm-shrinkwrap.json`.\n  TODO: find way to use same **node.js version** in dev and prod?\n\n\n## Test(s)\n\n[![Travis test runner](https://img.shields.io/travis/cben/mathdown/gh-pages.svg?label=test)](https://travis-ci.org/cben/mathdown/branches)\n[![Saucelabs browser tests](https://saucelabs.com/browser-matrix/mathdown.svg)](https://saucelabs.com/users/mathdown/tests)\n\n`test/browser-on-saucelabs.spec.coffee` runs tests on several browsers using free browser testing [courtesy of Sause Labs](https://saucelabs.com/opensauce).\nThere are pathetically few tests.\n\nTo run the tests:\n\n    npm install  # once\n    npm test\n\nTo run only some tests and/or browsers, use:\n\n    ./node_modules/.bin/mocha --grep firefox\n\nThe test runs automatically on any commit and pull request.\nI\'ve tried several free services for this, and currently prefer Travis:\n\n  * [Travis](https://travis-ci.org/cben/mathdown/branches) - works, open source code.  Controlled by `.travis.yml`.\n  * [Wercker](https://app.wercker.com/#applications/54b6c5a2d9b237dd37003402) - works.  Controlled by `wercker.yml`.\n  * [Drone](https://drone.io/github.com/cben/mathdown) - Docker-based, [open source](https://github.com/drone/drone) rewrite in progress.  Alas, always timed out during test.  Test config on the web.\n  * [Shippable](https://app.shippable.com/projects/54b58b855ab6cc13528881c1) - builds history only accessible by me?  Bad, I want public.  Controlled by `.travis.yml`.\n  * [Codeship](https://codeship.com/projects/17706) - same, dashboard is private.  Test config on the web.\n\n## Where it\'s deployed and how to run your fork\n\nThe main deployment currently runs on Heroku.  See [deployment/](deployment/) subdirectory for details.  I\'m interested at going back to static hosting.\n\n**However you run it, you can open the same document ids (`doc=...`) and real-time collaboration will work!**\n\nQuick ways to run:\n\nDeploy on Heroku:\n\n\theroku create my-mathdown --remote heroku-my-mathdown\n\tgit push heroku-my-mathdown gh-pages:master\n\nsome other ways to deploy on Heroku might not work due to my use of submodules (?)\n\nRun local server (`server.coffee`):\n\n    npm install  # once\n    env PORT=8001 npm start  # Prints URL you can click\n\n(you can choose any port of course.  <kbd>Ctrl+C</kbd> when done.)\n\nThis app *mostly* works as pure static pages, and I intend to keep it this way.\n\n  * From a checkout, **just open `index.html` in your browser**.\n\n  * Github Pages serves the gh-pages branch at https://cben.github.io/mathdown.\n\n      * If you fork this repo, you can immediately use your version at https://YOUR-GITHUB-USERNAME.github.io/mathdown/!\n      Or maybe not immediately but [after you push something](http://stackoverflow.com/q/8587321/239657).\n\n  * For other branches/commits, there is no trivial solution - rawgit.com would be great but doesn\'t currently support submodules.\n\n  * The easiest way to run (and share) uncommitted modifications is probably Cloud 9.  TODO: test, details.\n\nThe only benefits the dynamic server is going to bring (not implemented yet) will be:\n\n 1. Including the document text in the HTTP response for search engines (#7).\n 2. Prettier `mathdown.net/foobar` instead of `mathdown.net/?doc=foobar` URLs (#59).\n\n----\n\nOther things called "mathdown":\n\n * https://github.com/mayoff/Mathdown/tree/mathjax \xe2\x80\x94 Markdown.pl hacked for MathJax pass-through\n * https://github.com/keishi/kernlog/blob/master/markdown/extensions/mathdown.py \xe2\x80\x94 math in python-markdown, part of "Yet another blog for google app engine"\n * http://kwkbtr.info/log/201010050320 \xe2\x80\x94 a way to combine Showdown + Mathjax\n * https://gitlab.com/padawanphysicist/tw5-mathdown/tree/master \xe2\x80\x94 Math (via TeXZilla) + Markdown-it in TiddlyWiki5\n * https://github.com/domluna/mathdown \xe2\x80\x94 Watches markdown files, converts to HTML with KateX.\n * https://github.com/jirkalewandowski/mathdown \xe2\x80\x94 heuristically recognizes LaTeX formulas in text with no delimiters.\n\nI should really talk to these folk whether it\'s OK that I\'m using the name and the domain...\n\n * http://www.urbandictionary.com/define.php?term=mathdown\n'