b"# OpenDrop: an Open Source AirDrop Implementation\n\n*OpenDrop* is a command-line tool that allows sharing files between devices directly over Wi-Fi. Its unique feature is that it is protocol-compatible with Apple AirDrop which allows to share files with Apple devices running iOS and macOS. \nCurrently (and probably also for the foreseeable future), OpenDrop only supports sending to Apple devices that are discoverable by *everybody* as the default *contacts only* mode requires [Apple-signed certificates](https://www.apple.com/certificateauthority/pdf/Apple_AAI_CPS_v6.1.pdf).\n\n\n## Disclaimer\n\nOpenDrop is experimental software and is the result of reverse engineering efforts by the [Open Wireless Link](https://owlink.org) project.\nTherefore, it does not support all features of AirDrop or might be incompatible with future AirDrop versions.\nOpenDrop is not affiliated with or endorsed by Apple Inc. Use this code at your own risk.\n\n\n## Requirements\n\nTo achieve compatibility with Apple AirDrop, OpenDrop requires the target platform to support a specific Wi-Fi link layer.\nIn addition, it requires Python >=3.6 as well as several libraries.\n\n**Apple Wireless Direct Link.**\nAs AirDrop exclusively runs over Apple Wireless Direct Link (AWDL), OpenDrop is only supported on macOS or on Linux systems running\nan open re-implementation of AWDL such as [OWL](https://github.com/seemoo-lab/owl).\n\n**Libraries.**\nOpenDrop relies on current versions of [OpenSSL](https://www.openssl.org) and [libarchive](https://www.libarchive.org).\nmacOS ships with rather old versions of the two, so you will need to install newer version, for example, via [Homebrew](https://brew.sh).\nIn any case, you will need to set the two environmental variables `LIBARCHIVE` and `LIBCRYPTO` accordingly.\nFor example, use `brew` to install the libraries:\n```bash\nbrew install libarchive openssl@1.1\n```\nThen set environmental variables:\n```bash\nexport LIBARCHIVE=/usr/local/opt/libarchive/lib/libarchive.dylib\nexport LIBCRYPTO=/usr/local/opt/openssl@1.1/lib/libcrypto.dylib\n```\nLinux distributions should ship with more up-to-date versions, so this won't be necessary.\n\n\n## Installation \n\nInstallation of the Python package [release](https://pypi.org/project/opendrop/) is straight forward using `pip3`:\n```\npip3 install opendrop\n```\n\nYou can also install the current development version by first cloning this repository, and then installing it via `pip3`:\n```\ngit clone https://github.com/seemoo-lab/opendrop.git\npip3 install ./opendrop\n```\n\n\n## Usage\n\nWe briefly explain how to send and receive files using `opendrop`.\nTo see all command line options, run `opendrop -h`.\n\n### Sending a File\n\nSending a file is typically a two-step procedure. You first discover devices in proximity using the `find` command.\nStop the process once you have found the receiver.\n```\n$ opendrop find\nLooking for receivers. Press enter to stop ...\nFound  index 0  ID eccb2f2dcfe7  name John\xe2\x80\x99s iPhone\nFound  index 1  ID e63138ac6ba8  name Jane\xe2\x80\x99s MacBook Pro\n```\nYou can then `send` a file using \n```\n$ opendrop send -r 0 -f /path/to/some/file\nAsking receiver to accept ...\nReceiver accepted\nUploading file ...\nUploading has been successful\n```\nInstead of the `index`, you can also use `ID` or `name`.\nOpenDrop will try to interpret the input in the order (1) `index`, (2) `ID`, and (3) `name` and fail if no match was found.\n\n### Receiving Files\n\nReceiving is much easier. Simply use the `receive` command. OpenDrop will accept all incoming files automatically and put received files in the current directory.\n```\n$ opendrop receive\n```\n\n\n## Current Limitations/TODOs\n\nOpenDrop is the result of a research project and, thus, has several limitations (non-exhaustive list below). I do not have the capacity to work on them myself but am happy to provide assistance if somebody else want to take them on.\n\n* *Triggering macOS/iOS receivers via Bluetooth Low Energy.* Apple devices start their AWDL interface and AirDrop server only after receiving a custom advertisement via Bluetooth LE (see USENIX paper for details). This means, that Apple AirDrop receivers may not be discovered even if they are discoverable by *everyone*.\n\n* *Sender/Receiver authentication and connection state.* Currently, there is no peer authentication as in Apple's AirDrop, in particular, (1) OpenDrop does not verify that the TLS certificate is signed by [Apple's root](opendrop/certs/apple_root_ca.pem) and (2) that the Apple ID validation record is correct (see USENIX paper for details). In addition, OpenDrop automatically accepts any file that it receives due to a missing connection state.\n\n* *Sending multiple files.* Apple AirDrop supports sending multiple files at once, OpenDrop does not (would require adding more files to the archive, modify HTTP /Ask request, etc.).\n\n\n## Related Papers\n\n* Milan Stute, Sashank Narain, Alex Mariotto, Alexander Heinrich, David Kreitschmann, Guevara Noubir, and Matthias Hollick. **A Billion Open Interfaces for Eve and Mallory: MitM, DoS, and Tracking Attacks on iOS and macOS Through Apple Wireless Direct Link.** *28th USENIX Security Symposium (USENIX Security \xe2\x80\x9919)*, August 14\xe2\x80\x9316, 2019, Santa Clara, CA, USA. [Link](https://www.usenix.org/conference/usenixsecurity19/presentation/stute)\n\n\n## Authors\n\n* **Milan Stute** ([email](mailto:mstute@seemoo.tu-darmstadt.de), [web](https://seemoo.de/mstute))\n* **Alexander Heinrich**\n\n\n## License\n\nOpenDrop is licensed under the **GNU General Public License v3.0**.\nWe use a modified version of the [`python-zeroconf`](https://pypi.org/project/zeroconf/) package (essentially adding rudimentary IPv6 and AWDL support) which is licensed under the **GNU Lesser General Public License v2.1**.\nBoth licenses are found in the `LICENSE` file.\n"