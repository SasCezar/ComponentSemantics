b'# Level\n\n[![CircleCI](https://circleci.com/gh/unstacked/level.svg?style=svg)](https://circleci.com/gh/unstacked/level)\n\n## Project Status\n\nLevel began with the ambitious idea of [solving the problems](https://www.derrickreimer.com/essays/2018/03/02/the-war-on-developer-productivity.html) caused by real-time communication tools. After pouring thousands of hours effort into the cause, I made the tough decision to move on from the project. \n\n[Read the full story here &rarr;](https://www.derrickreimer.com/essays/2019/05/17/im-walking-away-from-the-product-i-spent-a-year-building.html)\n\nThis codebase is a full-scale Elixir/Phoenix SaaS application with a single-page app Elm front-end. I hope it will live on as a helpful resource for the community.\n\n&mdash; Derrick Reimer, Founder\n\n## Developer Setup\n\nYou\'ll need to install the following dependencies first:\n\n- [Elixir](https://elixir-lang.org/install.html) ([version](https://github.com/levelhq/level/blob/master/mix.exs#L4))\n- [PostgreSQL](https://postgresapp.com/) 10\n- [Yarn](https://yarnpkg.com/en/docs/install) ([latest](https://yarnpkg.com/en/docs/install#mac-stable))\n- [Node](#nodejs) ([version](https://github.com/levelhq/level/blob/master/.nvmrc))\n\nRun the bootstrap script to install the remaining dependencies and create your\ndevelopment database:\n\n```\ncd level\nscript/bootstrap\n```\n\nIf your local PostgreSQL install does not have a default `postgres` user, open the `config/dev.secret.exs` file and update the credentials. Then, run the bootstrap script again.\n\nUse the `script/server` command to start up your local server and visit [`localhost:4000`](http://localhost:4000) from your browser.\n\n### Installing Node.js\n\nThis repository includes a `.nvmrc` file targeting a specific version of Node\nthat is known to be compatible with all current node dependencies. Things might work\nwith a newer version of Node, but the most guaranteed route is to install\n[Node Version Manager](https://github.com/creationix/nvm) and run `nvm install` from\nthe project root.\n\nThen, be sure to run `script/bootstrap` to install node dependencies with the\ncorrect version of node.\n\n### Running tests and analyses\n\nWe have a handful of helper scripts available:\n\n- `script/elixir-test`: runs the Elixir test suite with coveralls\n- `script/elm-test`: runs the Elm test suite\n- `script/test`: runs the Elixir and Elm test suites\n- `script/static-analysis`: runs Credo (Elixir linting), Dialyzer, and Elixir formatter verification\n- `script/build`: runs all the test suites and static analysis\n\n## Dependencies\n\nThe following environment variables must be set in production:\n\n<table>\n  <thead>\n    <tr>\n      <th>Variable</th>\n      <th>Description</th>\n    </tr>\n  <thead>\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>AWS</strong></td>\n    </tr>\n    <tr>\n      <td><code>AWS_ACCESS_KEY_ID</code></td>\n      <td>The AWS access key id for your account (with access to S3).</td>\n    </tr>\n    <tr>\n      <td><code>AWS_SECRET_ACCESS_KEY</code></td>\n      <td>The AWS secret access key corresponding to the access key id.</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_ASSET_STORE_BUCKET</code></td>\n      <td>The name of the S3 bucket in which to store uploaded assets.</td>\n    </tr>\n  </tbody>\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Host</strong></td>\n    </tr>\n    <tr>\n      <td><code>PORT</code></td>\n      <td>The port on which to host the application (typically 80).</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_HOST</code></td>\n      <td>The domain on which you are serving the app (used for generating URLs).</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_CDN_HOST</code></td>\n      <td>The host for the CDN for serving static assets (like Level\'s CSS and application JS).</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_MAILER_HOST</code></td>\n      <td>The domain via which to send transaction emails (usually same as <code>LEVEL_HOST</code>).</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_SECRET_KEY_BASE</code></td>\n      <td>A secret key for verifying the integrity of signed cookies.</td>\n    </tr>\n  </tbody>\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Database</strong></td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_DATABASE_URL</code></td>\n      <td>The URL for the PostgreSQL database.</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_POOL_SIZE</code></td>\n      <td>The maximum number of database connections each process may consume.</td>\n    </tr>\n  </tbody>\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Transactional Email</strong></td>\n    </tr>\n    <tr>\n      <td><code>POSTMARK_API_KEY</code></td>\n      <td>The API key for <a href="https://postmarkapp.com/">Postmark</a>.</td>\n    </tr>\n  </tbody>\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Web Push Notifications</strong><br>See instructions here: https://github.com/web-push-libs/web-push#command-line</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_WEB_PUSH_PUBLIC_KEY</code></td>\n      <td>A VAPID public key.</td>\n    </tr>\n    <tr>\n      <td><code>LEVEL_WEB_PUSH_PRIVATE_KEY</code></td>\n      <td>A VAPID private key.</td>\n    </tr>\n  </tbody>\n</table>\n\nThe following variables are for non-essential external services.\n\n<table>\n  <thead>\n    <tr>\n      <th>Variable</th>\n      <th>Description</th>\n    </tr>\n  <thead>\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Exception Monitoring</strong></td>\n    </tr>\n    <tr>\n      <td><code>HONEYBADGER_API_KEY</code></td>\n      <td>The API key for Honeybadger.io exception monitoring (Elixir).</td>\n    </tr>\n    <tr>\n      <td><code>HONEYBADGER_JS_API_KEY</code></td>\n      <td>The API key for Honeybadger.io exception monitoring (JavaScript).</td>\n    </tr>\n  </tbody>\n\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Analytics</strong></td>\n    </tr>\n    <tr>\n      <td><code>FATHOM_SITE_ID</code></td>\n      <td>The site ID for Fathom Analytics.</td>\n    </tr>\n    <tr>\n      <td><code>FULLSTORY_ORG</code></td>\n      <td>The organization ID for FullStory.</td>\n    </tr>\n    <tr>\n      <td><code>HEAP_ANALYTICS_APP_ID</code></td>\n      <td>The app ID for Heap Analytics.</td>\n    </tr>\n  </tbody>\n\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Email Marketing</strong></td>\n    </tr>\n    <tr>\n      <td><code>DRIP_ACCOUNT_ID</code></td>\n      <td>The account ID for Drip.</td>\n    </tr>\n    <tr>\n      <td><code>DRIP_API_KEY</code></td>\n      <td>The personal api key for Drip.</td>\n    </tr>\n  </tbody>\n\n  <tbody>\n    <tr>\n      <td colspan="2"><strong>Support</strong></td>\n    </tr>\n    <tr>\n      <td><code>HELPSCOUT_BEACON_ID</code></td>\n      <td>The Beacon ID for Help Scout.</td>\n    </tr>\n  </tbody>\n</table>\n\n## Documentation\n\nRun the `script/docs` to generate and view the project ExDocs locally.\n\n## Heroku Deployment (Experimental)\n\nOne of our goals is to make self-installation as painless as possible for those who are interested in hosting their own instance.\n\nThe relevant configuration files for Heroku live here:\n\n- [app.json](https://github.com/levelhq/level/blob/master/app.json)\n- [elixir_buildpack.config](https://github.com/levelhq/level/blob/master/elixir_buildpack.config)\n- [phoenix_static_buildpack.config](https://github.com/levelhq/level/blob/master/phoenix_static_buildpack.config)\n- [Procfile](https://github.com/levelhq/level/blob/master/Procfile)\n\nWe are aiming to keep seamless Heroku deployment up-to-date, with a few important "alpha software" notes:\n\n- It\'s possible you may find it broken on master. If you do, please file an issue.\n- As deployment needs grow more complex, it may become no longer feasible to support Heroku deploys. Caveat emptor.\n\n### Required additional services\n\nIn addition to a Heroku account, you\'ll need the following services to get your Heroku install up and running:\n\n- An AWS account and an S3 bucket for storing file uploads. You\'ll be asked for AWS API keys and bucket name environment variables during setup.\n- A transactional email provider (we recommend [Postmark](https://postmarkapp.com)). You\'ll be asked for SMTP host, port, username, and password environment variables during setup.\n\n[![Deploy](https://www.herokucdn.com/deploy/button.svg)](https://heroku.com/deploy?template=https://github.com/levelhq/level/tree/master)\n\n## Copyright\n\n&copy; 2019 Level Technologies, LLC\n\nLevel is [source-available](https://en.wikipedia.org/wiki/Source-available_software) software. ([license](https://github.com/levelhq/level/blob/master/LICENSE.txt) | [readme](https://github.com/levelhq/level/blob/master/LICENSE-README.md))\n'